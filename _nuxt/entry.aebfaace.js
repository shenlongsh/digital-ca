var oE=Object.defineProperty;var lE=(s,e,t)=>e in s?oE(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Br=(s,e,t)=>(lE(s,typeof e!="symbol"?e+"":e,t),t);/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function zw(s){const e=Object.create(null);for(const t of s.split(","))e[t]=1;return t=>t in e}const et={},Ic=[],fn=()=>{},cE=()=>!1,zf=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&(s.charCodeAt(2)>122||s.charCodeAt(2)<97),Zw=s=>s.startsWith("onUpdate:"),jt=Object.assign,ey=(s,e)=>{const t=s.indexOf(e);t>-1&&s.splice(t,1)},uE=Object.prototype.hasOwnProperty,Ge=(s,e)=>uE.call(s,e),Ne=Array.isArray,_c=s=>Zf(s)==="[object Map]",mg=s=>Zf(s)==="[object Set]",pv=s=>Zf(s)==="[object Date]",Be=s=>typeof s=="function",wt=s=>typeof s=="string",pn=s=>typeof s=="symbol",st=s=>s!==null&&typeof s=="object",L0=s=>(st(s)||Be(s))&&Be(s.then)&&Be(s.catch),D0=Object.prototype.toString,Zf=s=>D0.call(s),hE=s=>Zf(s).slice(8,-1),U0=s=>Zf(s)==="[object Object]",ty=s=>wt(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,xc=zw(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gg=s=>{const e=Object.create(null);return t=>e[t]||(e[t]=s(t))},fE=/-(\w)/g,Xs=gg(s=>s.replace(fE,(e,t)=>t?t.toUpperCase():"")),dE=/\B([A-Z])/g,Ro=gg(s=>s.replace(dE,"-$1").toLowerCase()),pg=gg(s=>s.charAt(0).toUpperCase()+s.slice(1)),$g=gg(s=>s?`on${pg(s)}`:""),Li=(s,e)=>!Object.is(s,e),Xd=(s,...e)=>{for(let t=0;t<s.length;t++)s[t](...e)},Hp=(s,e,t,n=!1)=>{Object.defineProperty(s,e,{configurable:!0,enumerable:!1,writable:n,value:t})},Mp=s=>{const e=parseFloat(s);return isNaN(e)?s:e},mE=s=>{const e=wt(s)?Number(s):NaN;return isNaN(e)?s:e};let wv;const wg=()=>wv||(wv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function yg(s){if(Ne(s)){const e={};for(let t=0;t<s.length;t++){const n=s[t],r=wt(n)?yE(n):yg(n);if(r)for(const i in r)e[i]=r[i]}return e}else if(wt(s)||st(s))return s}const gE=/;(?![^(]*\))/g,pE=/:([^]+)/,wE=/\/\*[^]*?\*\//g;function yE(s){const e={};return s.replace(wE,"").split(gE).forEach(t=>{if(t){const n=t.split(pE);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ot(s){let e="";if(wt(s))e=s;else if(Ne(s))for(let t=0;t<s.length;t++){const n=Ot(s[t]);n&&(e+=n+" ")}else if(st(s))for(const t in s)s[t]&&(e+=t+" ");return e.trim()}function vE(s){if(!s)return null;let{class:e,style:t}=s;return e&&!wt(e)&&(s.class=Ot(e)),t&&(s.style=yg(t)),s}const bE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",SE=zw(bE);function H0(s){return!!s||s===""}function AE(s,e){if(s.length!==e.length)return!1;let t=!0;for(let n=0;t&&n<s.length;n++)t=Mc(s[n],e[n]);return t}function Mc(s,e){if(s===e)return!0;let t=pv(s),n=pv(e);if(t||n)return t&&n?s.getTime()===e.getTime():!1;if(t=pn(s),n=pn(e),t||n)return s===e;if(t=Ne(s),n=Ne(e),t||n)return t&&n?AE(s,e):!1;if(t=st(s),n=st(e),t||n){if(!t||!n)return!1;const r=Object.keys(s).length,i=Object.keys(e).length;if(r!==i)return!1;for(const a in s){const o=s.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!Mc(s[a],e[a]))return!1}}return String(s)===String(e)}function M0(s,e){return s.findIndex(t=>Mc(t,e))}const $0=s=>!!(s&&s.__v_isRef===!0),xe=s=>wt(s)?s:s==null?"":Ne(s)||st(s)&&(s.toString===D0||!Be(s.toString))?$0(s)?xe(s.value):JSON.stringify(s,F0,2):String(s),F0=(s,e)=>$0(e)?F0(s,e.value):_c(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,r],i)=>(t[Fg(n,i)+" =>"]=r,t),{})}:mg(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Fg(t))}:pn(e)?Fg(e):st(e)&&!Ne(e)&&!U0(e)?String(e):e,Fg=(s,e="")=>{var t;return pn(s)?`Symbol(${(t=s.description)!=null?t:e})`:s};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zt;class K0{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Zt,!e&&Zt&&(this.index=(Zt.scopes||(Zt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Zt;try{return Zt=this,e()}finally{Zt=t}}}on(){++this._on===1&&(this.prevScope=Zt,Zt=this)}off(){this._on>0&&--this._on===0&&(Zt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function sy(s){return new K0(s)}function j0(){return Zt}function kE(s,e=!1){Zt&&Zt.cleanups.push(s)}let at;const Kg=new WeakSet;class J0{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Zt&&Zt.active&&Zt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Kg.has(this)&&(Kg.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||q0(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,yv(this),G0(this);const e=at,t=dn;at=this,dn=!0;try{return this.fn()}finally{Y0(this),at=e,dn=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)iy(e);this.deps=this.depsTail=void 0,yv(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Kg.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){$p(this)&&this.run()}get dirty(){return $p(this)}}let W0=0,kf,Ef;function q0(s,e=!1){if(s.flags|=8,e){s.next=Ef,Ef=s;return}s.next=kf,kf=s}function ny(){W0++}function ry(){if(--W0>0)return;if(Ef){let e=Ef;for(Ef=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let s;for(;kf;){let e=kf;for(kf=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){s||(s=n)}e=t}}if(s)throw s}function G0(s){for(let e=s.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Y0(s){let e,t=s.depsTail,n=t;for(;n;){const r=n.prevDep;n.version===-1?(n===t&&(t=r),iy(n),EE(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}s.deps=e,s.depsTail=t}function $p(s){for(let e=s.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(X0(e.dep.computed)||e.dep.version!==e.version))return!0;return!!s._dirty}function X0(s){if(s.flags&4&&!(s.flags&16)||(s.flags&=-17,s.globalVersion===Pf)||(s.globalVersion=Pf,!s.isSSR&&s.flags&128&&(!s.deps&&!s._dirty||!$p(s))))return;s.flags|=2;const e=s.dep,t=at,n=dn;at=s,dn=!0;try{G0(s);const r=s.fn(s._value);(e.version===0||Li(r,s._value))&&(s.flags|=128,s._value=r,e.version++)}catch(r){throw e.version++,r}finally{at=t,dn=n,Y0(s),s.flags&=-3}}function iy(s,e=!1){const{dep:t,prevSub:n,nextSub:r}=s;if(n&&(n.nextSub=r,s.prevSub=void 0),r&&(r.prevSub=n,s.nextSub=void 0),t.subs===s&&(t.subs=n,!n&&t.computed)){t.computed.flags&=-5;for(let i=t.computed.deps;i;i=i.nextDep)iy(i,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function EE(s){const{prevDep:e,nextDep:t}=s;e&&(e.nextDep=t,s.prevDep=void 0),t&&(t.prevDep=e,s.nextDep=void 0)}let dn=!0;const Q0=[];function br(){Q0.push(dn),dn=!1}function Sr(){const s=Q0.pop();dn=s===void 0?!0:s}function yv(s){const{cleanup:e}=s;if(s.cleanup=void 0,e){const t=at;at=void 0;try{e()}finally{at=t}}}let Pf=0,CE=class{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class ay{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!at||!dn||at===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==at)t=this.activeLink=new CE(at,this),at.deps?(t.prevDep=at.depsTail,at.depsTail.nextDep=t,at.depsTail=t):at.deps=at.depsTail=t,z0(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const n=t.nextDep;n.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=n),t.prevDep=at.depsTail,t.nextDep=void 0,at.depsTail.nextDep=t,at.depsTail=t,at.deps===t&&(at.deps=n)}return t}trigger(e){this.version++,Pf++,this.notify(e)}notify(e){ny();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{ry()}}}function z0(s){if(s.dep.sc++,s.sub.flags&4){const e=s.dep.computed;if(e&&!s.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)z0(n)}const t=s.dep.subs;t!==s&&(s.prevSub=t,t&&(t.nextSub=s)),s.dep.subs=s}}const Rm=new WeakMap,mo=Symbol(""),Fp=Symbol(""),Vf=Symbol("");function ts(s,e,t){if(dn&&at){let n=Rm.get(s);n||Rm.set(s,n=new Map);let r=n.get(t);r||(n.set(t,r=new ay),r.map=n,r.key=t),r.track()}}function sr(s,e,t,n,r,i){const a=Rm.get(s);if(!a){Pf++;return}const o=l=>{l&&l.trigger()};if(ny(),e==="clear")a.forEach(o);else{const l=Ne(s),u=l&&ty(t);if(l&&t==="length"){const c=Number(n);a.forEach((h,f)=>{(f==="length"||f===Vf||!pn(f)&&f>=c)&&o(h)})}else switch((t!==void 0||a.has(void 0))&&o(a.get(t)),u&&o(a.get(Vf)),e){case"add":l?u&&o(a.get("length")):(o(a.get(mo)),_c(s)&&o(a.get(Fp)));break;case"delete":l||(o(a.get(mo)),_c(s)&&o(a.get(Fp)));break;case"set":_c(s)&&o(a.get(mo));break}}ry()}function NE(s,e){const t=Rm.get(s);return t&&t.get(e)}function Ho(s){const e=Je(s);return e===s?e:(ts(e,"iterate",Vf),Ys(s)?e:e.map(Wt))}function vg(s){return ts(s=Je(s),"iterate",Vf),s}const IE={__proto__:null,[Symbol.iterator](){return jg(this,Symbol.iterator,Wt)},concat(...s){return Ho(this).concat(...s.map(e=>Ne(e)?Ho(e):e))},entries(){return jg(this,"entries",s=>(s[1]=Wt(s[1]),s))},every(s,e){return Un(this,"every",s,e,void 0,arguments)},filter(s,e){return Un(this,"filter",s,e,t=>t.map(Wt),arguments)},find(s,e){return Un(this,"find",s,e,Wt,arguments)},findIndex(s,e){return Un(this,"findIndex",s,e,void 0,arguments)},findLast(s,e){return Un(this,"findLast",s,e,Wt,arguments)},findLastIndex(s,e){return Un(this,"findLastIndex",s,e,void 0,arguments)},forEach(s,e){return Un(this,"forEach",s,e,void 0,arguments)},includes(...s){return Jg(this,"includes",s)},indexOf(...s){return Jg(this,"indexOf",s)},join(s){return Ho(this).join(s)},lastIndexOf(...s){return Jg(this,"lastIndexOf",s)},map(s,e){return Un(this,"map",s,e,void 0,arguments)},pop(){return lu(this,"pop")},push(...s){return lu(this,"push",s)},reduce(s,...e){return vv(this,"reduce",s,e)},reduceRight(s,...e){return vv(this,"reduceRight",s,e)},shift(){return lu(this,"shift")},some(s,e){return Un(this,"some",s,e,void 0,arguments)},splice(...s){return lu(this,"splice",s)},toReversed(){return Ho(this).toReversed()},toSorted(s){return Ho(this).toSorted(s)},toSpliced(...s){return Ho(this).toSpliced(...s)},unshift(...s){return lu(this,"unshift",s)},values(){return jg(this,"values",Wt)}};function jg(s,e,t){const n=vg(s),r=n[e]();return n!==s&&!Ys(s)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=t(i.value)),i}),r}const _E=Array.prototype;function Un(s,e,t,n,r,i){const a=vg(s),o=a!==s&&!Ys(s),l=a[e];if(l!==_E[e]){const h=l.apply(s,i);return o?Wt(h):h}let u=t;a!==s&&(o?u=function(h,f){return t.call(this,Wt(h),f,s)}:t.length>2&&(u=function(h,f){return t.call(this,h,f,s)}));const c=l.call(a,u,n);return o&&r?r(c):c}function vv(s,e,t,n){const r=vg(s);let i=t;return r!==s&&(Ys(s)?t.length>3&&(i=function(a,o,l){return t.call(this,a,o,l,s)}):i=function(a,o,l){return t.call(this,a,Wt(o),l,s)}),r[e](i,...n)}function Jg(s,e,t){const n=Je(s);ts(n,"iterate",Vf);const r=n[e](...t);return(r===-1||r===!1)&&cy(t[0])?(t[0]=Je(t[0]),n[e](...t)):r}function lu(s,e,t=[]){br(),ny();const n=Je(s)[e].apply(s,t);return ry(),Sr(),n}const xE=zw("__proto__,__v_isRef,__isVue"),Z0=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(pn));function BE(s){pn(s)||(s=String(s));const e=Je(this);return ts(e,"has",s),e.hasOwnProperty(s)}class e1{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(t==="__v_isReactive")return!r;if(t==="__v_isReadonly")return r;if(t==="__v_isShallow")return i;if(t==="__v_raw")return n===(r?i?ME:r1:i?n1:s1).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const a=Ne(e);if(!r){let l;if(a&&(l=IE[t]))return l;if(t==="hasOwnProperty")return BE}const o=Reflect.get(e,t,pe(e)?e:n);return(pn(t)?Z0.has(t):xE(t))||(r||ts(e,"get",t),i)?o:pe(o)?a&&ty(t)?o:o.value:st(o)?r?a1(o):Ar(o):o}}class t1 extends e1{constructor(e=!1){super(!1,e)}set(e,t,n,r){let i=e[t];if(!this._isShallow){const l=kr(i);if(!Ys(n)&&!kr(n)&&(i=Je(i),n=Je(n)),!Ne(e)&&pe(i)&&!pe(n))return l?!1:(i.value=n,!0)}const a=Ne(e)&&ty(t)?Number(t)<e.length:Ge(e,t),o=Reflect.set(e,t,n,pe(e)?e:r);return e===Je(r)&&(a?Li(n,i)&&sr(e,"set",t,n):sr(e,"add",t,n)),o}deleteProperty(e,t){const n=Ge(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&sr(e,"delete",t,void 0),r}has(e,t){const n=Reflect.has(e,t);return(!pn(t)||!Z0.has(t))&&ts(e,"has",t),n}ownKeys(e){return ts(e,"iterate",Ne(e)?"length":mo),Reflect.ownKeys(e)}}class TE extends e1{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const RE=new t1,OE=new TE,PE=new t1(!0);const Kp=s=>s,ld=s=>Reflect.getPrototypeOf(s);function VE(s,e,t){return function(...n){const r=this.__v_raw,i=Je(r),a=_c(i),o=s==="entries"||s===Symbol.iterator&&a,l=s==="keys"&&a,u=r[s](...n),c=t?Kp:e?Om:Wt;return!e&&ts(i,"iterate",l?Fp:mo),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:o?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function cd(s){return function(...e){return s==="delete"?!1:s==="clear"?void 0:this}}function LE(s,e){const t={get(r){const i=this.__v_raw,a=Je(i),o=Je(r);s||(Li(r,o)&&ts(a,"get",r),ts(a,"get",o));const{has:l}=ld(a),u=e?Kp:s?Om:Wt;if(l.call(a,r))return u(i.get(r));if(l.call(a,o))return u(i.get(o));i!==a&&i.get(r)},get size(){const r=this.__v_raw;return!s&&ts(Je(r),"iterate",mo),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,a=Je(i),o=Je(r);return s||(Li(r,o)&&ts(a,"has",r),ts(a,"has",o)),r===o?i.has(r):i.has(r)||i.has(o)},forEach(r,i){const a=this,o=a.__v_raw,l=Je(o),u=e?Kp:s?Om:Wt;return!s&&ts(l,"iterate",mo),o.forEach((c,h)=>r.call(i,u(c),u(h),a))}};return jt(t,s?{add:cd("add"),set:cd("set"),delete:cd("delete"),clear:cd("clear")}:{add(r){!e&&!Ys(r)&&!kr(r)&&(r=Je(r));const i=Je(this);return ld(i).has.call(i,r)||(i.add(r),sr(i,"add",r,r)),this},set(r,i){!e&&!Ys(i)&&!kr(i)&&(i=Je(i));const a=Je(this),{has:o,get:l}=ld(a);let u=o.call(a,r);u||(r=Je(r),u=o.call(a,r));const c=l.call(a,r);return a.set(r,i),u?Li(i,c)&&sr(a,"set",r,i):sr(a,"add",r,i),this},delete(r){const i=Je(this),{has:a,get:o}=ld(i);let l=a.call(i,r);l||(r=Je(r),l=a.call(i,r)),o&&o.call(i,r);const u=i.delete(r);return l&&sr(i,"delete",r,void 0),u},clear(){const r=Je(this),i=r.size!==0,a=r.clear();return i&&sr(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=VE(r,s,e)}),t}function oy(s,e){const t=LE(s,e);return(n,r,i)=>r==="__v_isReactive"?!s:r==="__v_isReadonly"?s:r==="__v_raw"?n:Reflect.get(Ge(t,r)&&r in n?t:n,r,i)}const DE={get:oy(!1,!1)},UE={get:oy(!1,!0)},HE={get:oy(!0,!1)};const s1=new WeakMap,n1=new WeakMap,r1=new WeakMap,ME=new WeakMap;function $E(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function FE(s){return s.__v_skip||!Object.isExtensible(s)?0:$E(hE(s))}function Ar(s){return kr(s)?s:ly(s,!1,RE,DE,s1)}function i1(s){return ly(s,!1,PE,UE,n1)}function a1(s){return ly(s,!0,OE,HE,r1)}function ly(s,e,t,n,r){if(!st(s)||s.__v_raw&&!(e&&s.__v_isReactive))return s;const i=FE(s);if(i===0)return s;const a=r.get(s);if(a)return a;const o=new Proxy(s,i===2?n:t);return r.set(s,o),o}function go(s){return kr(s)?go(s.__v_raw):!!(s&&s.__v_isReactive)}function kr(s){return!!(s&&s.__v_isReadonly)}function Ys(s){return!!(s&&s.__v_isShallow)}function cy(s){return s?!!s.__v_raw:!1}function Je(s){const e=s&&s.__v_raw;return e?Je(e):s}function KE(s){return!Ge(s,"__v_skip")&&Object.isExtensible(s)&&Hp(s,"__v_skip",!0),s}const Wt=s=>st(s)?Ar(s):s,Om=s=>st(s)?a1(s):s;function pe(s){return s?s.__v_isRef===!0:!1}function He(s){return o1(s,!1)}function jp(s){return o1(s,!0)}function o1(s,e){return pe(s)?s:new jE(s,e)}class jE{constructor(e,t){this.dep=new ay,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Je(e),this._value=t?e:Wt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||Ys(e)||kr(e);e=n?e:Je(e),Li(e,t)&&(this._rawValue=e,this._value=n?e:Wt(e),this.dep.trigger())}}function te(s){return pe(s)?s.value:s}const JE={get:(s,e,t)=>e==="__v_raw"?s:te(Reflect.get(s,e,t)),set:(s,e,t,n)=>{const r=s[e];return pe(r)&&!pe(t)?(r.value=t,!0):Reflect.set(s,e,t,n)}};function l1(s){return go(s)?s:new Proxy(s,JE)}class WE{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return NE(Je(this._object),this._key)}}class qE{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function c1(s,e,t){return pe(s)?s:Be(s)?new qE(s):st(s)&&arguments.length>1?GE(s,e,t):He(s)}function GE(s,e,t){const n=s[e];return pe(n)?n:new WE(s,e,t)}class YE{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new ay(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Pf-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&at!==this)return q0(this,!0),!0}get value(){const e=this.dep.track();return X0(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function XE(s,e,t=!1){let n,r;return Be(s)?n=s:(n=s.get,r=s.set),new YE(n,r,t)}const ud={},Pm=new WeakMap;let ia;function QE(s,e=!1,t=ia){if(t){let n=Pm.get(t);n||Pm.set(t,n=[]),n.push(s)}}function zE(s,e,t=et){const{immediate:n,deep:r,once:i,scheduler:a,augmentJob:o,call:l}=t,u=v=>r?v:Ys(v)||r===!1||r===0?nr(v,1):nr(v);let c,h,f,m,b=!1,A=!1;if(pe(s)?(h=()=>s.value,b=Ys(s)):go(s)?(h=()=>u(s),b=!0):Ne(s)?(A=!0,b=s.some(v=>go(v)||Ys(v)),h=()=>s.map(v=>{if(pe(v))return v.value;if(go(v))return u(v);if(Be(v))return l?l(v,2):v()})):Be(s)?e?h=l?()=>l(s,2):s:h=()=>{if(f){br();try{f()}finally{Sr()}}const v=ia;ia=c;try{return l?l(s,3,[m]):s(m)}finally{ia=v}}:h=fn,e&&r){const v=h,N=r===!0?1/0:r;h=()=>nr(v(),N)}const k=j0(),x=()=>{c.stop(),k&&k.active&&ey(k.effects,c)};if(i&&e){const v=e;e=(...N)=>{v(...N),x()}}let R=A?new Array(s.length).fill(ud):ud;const g=v=>{if(!(!(c.flags&1)||!c.dirty&&!v))if(e){const N=c.run();if(r||b||(A?N.some((_,H)=>Li(_,R[H])):Li(N,R))){f&&f();const _=ia;ia=c;try{const H=[N,R===ud?void 0:A&&R[0]===ud?[]:R,m];R=N,l?l(e,3,H):e(...H)}finally{ia=_}}}else c.run()};return o&&o(g),c=new J0(h),c.scheduler=a?()=>a(g,!1):g,m=v=>QE(v,!1,c),f=c.onStop=()=>{const v=Pm.get(c);if(v){if(l)l(v,4);else for(const N of v)N();Pm.delete(c)}},e?n?g(!0):R=c.run():a?a(g.bind(null,!0),!0):c.run(),x.pause=c.pause.bind(c),x.resume=c.resume.bind(c),x.stop=x,x}function nr(s,e=1/0,t){if(e<=0||!st(s)||s.__v_skip||(t=t||new Set,t.has(s)))return s;if(t.add(s),e--,pe(s))nr(s.value,e,t);else if(Ne(s))for(let n=0;n<s.length;n++)nr(s[n],e,t);else if(mg(s)||_c(s))s.forEach(n=>{nr(n,e,t)});else if(U0(s)){for(const n in s)nr(s[n],e,t);for(const n of Object.getOwnPropertySymbols(s))Object.prototype.propertyIsEnumerable.call(s,n)&&nr(s[n],e,t)}return s}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ed(s,e,t,n){try{return n?s(...n):s()}catch(r){nu(r,e,t)}}function Ln(s,e,t,n){if(Be(s)){const r=ed(s,e,t,n);return r&&L0(r)&&r.catch(i=>{nu(i,e,t)}),r}if(Ne(s)){const r=[];for(let i=0;i<s.length;i++)r.push(Ln(s[i],e,t,n));return r}}function nu(s,e,t,n=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||et;if(e){let o=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${t}`;for(;o;){const c=o.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](s,l,u)===!1)return}o=o.parent}if(i){br(),ed(i,null,10,[s,l,u]),Sr();return}}ZE(s,t,r,n,a)}function ZE(s,e,t,n=!0,r=!1){if(r)throw s;console.error(s)}const fs=[];let Cn=-1;const Bc=[];let ki=null,sl=0;const u1=Promise.resolve();let Vm=null;function bg(s){const e=Vm||u1;return s?e.then(this?s.bind(this):s):e}function eC(s){let e=Cn+1,t=fs.length;for(;e<t;){const n=e+t>>>1,r=fs[n],i=Lf(r);i<s||i===s&&r.flags&2?e=n+1:t=n}return e}function uy(s){if(!(s.flags&1)){const e=Lf(s),t=fs[fs.length-1];!t||!(s.flags&2)&&e>=Lf(t)?fs.push(s):fs.splice(eC(e),0,s),s.flags|=1,h1()}}function h1(){Vm||(Vm=u1.then(f1))}function Jp(s){Ne(s)?Bc.push(...s):ki&&s.id===-1?ki.splice(sl+1,0,s):s.flags&1||(Bc.push(s),s.flags|=1),h1()}function bv(s,e,t=Cn+1){for(;t<fs.length;t++){const n=fs[t];if(n&&n.flags&2){if(s&&n.id!==s.uid)continue;fs.splice(t,1),t--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Lm(s){if(Bc.length){const e=[...new Set(Bc)].sort((t,n)=>Lf(t)-Lf(n));if(Bc.length=0,ki){ki.push(...e);return}for(ki=e,sl=0;sl<ki.length;sl++){const t=ki[sl];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}ki=null,sl=0}}const Lf=s=>s.id==null?s.flags&2?-1:1/0:s.id;function f1(s){const e=fn;try{for(Cn=0;Cn<fs.length;Cn++){const t=fs[Cn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ed(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Cn<fs.length;Cn++){const t=fs[Cn];t&&(t.flags&=-2)}Cn=-1,fs.length=0,Lm(),Vm=null,(fs.length||Bc.length)&&f1()}}let Ut=null,d1=null;function Dm(s){const e=Ut;return Ut=s,d1=s&&s.type.__scopeId||null,e}function as(s,e=Ut,t){if(!e||s._n)return s;const n=(...r)=>{n._d&&Pv(-1);const i=Dm(e);let a;try{a=s(...r)}finally{Dm(i),n._d&&Pv(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function ws(s,e){if(Ut===null)return s;const t=Eg(Ut),n=s.dirs||(s.dirs=[]);for(let r=0;r<e.length;r++){let[i,a,o,l=et]=e[r];i&&(Be(i)&&(i={mounted:i,updated:i}),i.deep&&nr(a),n.push({dir:i,instance:t,value:a,oldValue:void 0,arg:o,modifiers:l}))}return s}function Nn(s,e,t,n){const r=s.dirs,i=e&&e.dirs;for(let a=0;a<r.length;a++){const o=r[a];i&&(o.oldValue=i[a].value);let l=o.dir[n];l&&(br(),Ln(l,t,8,[s.el,o,s,e]),Sr())}}const tC=Symbol("_vte"),sC=s=>s.__isTeleport;function hy(s,e){s.shapeFlag&6&&s.component?(s.transition=e,hy(s.component.subTree,e)):s.shapeFlag&128?(s.ssContent.transition=e.clone(s.ssContent),s.ssFallback.transition=e.clone(s.ssFallback)):s.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Wi(s,e){return Be(s)?(()=>jt({name:s.name},e,{setup:s}))():s}function fy(s){s.ids=[s.ids[0]+s.ids[2]+++"-",0,0]}function Tc(s,e,t,n,r=!1){if(Ne(s)){s.forEach((b,A)=>Tc(b,e&&(Ne(e)?e[A]:e),t,n,r));return}if(po(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Tc(s,e,t,n.component.subTree);return}const i=n.shapeFlag&4?Eg(n.component):n.el,a=r?null:i,{i:o,r:l}=s,u=e&&e.r,c=o.refs===et?o.refs={}:o.refs,h=o.setupState,f=Je(h),m=h===et?()=>!1:b=>Ge(f,b);if(u!=null&&u!==l&&(wt(u)?(c[u]=null,m(u)&&(h[u]=null)):pe(u)&&(u.value=null)),Be(l))ed(l,o,12,[a,c]);else{const b=wt(l),A=pe(l);if(b||A){const k=()=>{if(s.f){const x=b?m(l)?h[l]:c[l]:l.value;r?Ne(x)&&ey(x,i):Ne(x)?x.includes(i)||x.push(i):b?(c[l]=[i],m(l)&&(h[l]=c[l])):(l.value=[i],s.k&&(c[s.k]=l.value))}else b?(c[l]=a,m(l)&&(h[l]=a)):A&&(l.value=a,s.k&&(c[s.k]=a))};a?(k.id=-1,Ns(k,t)):k()}}}let Sv=!1;const Mo=()=>{Sv||(console.error("Hydration completed but contains mismatches."),Sv=!0)},nC=s=>s.namespaceURI.includes("svg")&&s.tagName!=="foreignObject",rC=s=>s.namespaceURI.includes("MathML"),hd=s=>{if(s.nodeType===1){if(nC(s))return"svg";if(rC(s))return"mathml"}},Ec=s=>s.nodeType===8;function iC(s){const{mt:e,p:t,o:{patchProp:n,createText:r,nextSibling:i,parentNode:a,remove:o,insert:l,createComment:u}}=s,c=(g,v)=>{if(!v.hasChildNodes()){t(null,g,v),Lm(),v._vnode=g;return}h(v.firstChild,g,null,null,null),Lm(),v._vnode=g},h=(g,v,N,_,H,F=!1)=>{F=F||!!v.dynamicChildren;const j=Ec(g)&&g.data==="[",se=()=>A(g,v,N,_,H,j),{type:L,ref:$,shapeFlag:re,patchFlag:we}=v;let he=g.nodeType;v.el=g,we===-2&&(F=!1,v.dynamicChildren=null);let oe=null;switch(L){case Di:he!==3?v.children===""?(l(v.el=r(""),a(g),g),oe=g):oe=se():(g.data!==v.children&&(Mo(),g.data=v.children),oe=i(g));break;case Qs:R(g)?(oe=i(g),x(v.el=g.content.firstChild,g,N)):he!==8||j?oe=se():oe=i(g);break;case Nf:if(j&&(g=i(g),he=g.nodeType),he===1||he===3){oe=g;const ge=!v.children.length;for(let z=0;z<v.staticCount;z++)ge&&(v.children+=oe.nodeType===1?oe.outerHTML:oe.data),z===v.staticCount-1&&(v.anchor=oe),oe=i(oe);return j?i(oe):oe}else se();break;case Lt:j?oe=b(g,v,N,_,H,F):oe=se();break;default:if(re&1)(he!==1||v.type.toLowerCase()!==g.tagName.toLowerCase())&&!R(g)?oe=se():oe=f(g,v,N,_,H,F);else if(re&6){v.slotScopeIds=H;const ge=a(g);if(j?oe=k(g):Ec(g)&&g.data==="teleport start"?oe=k(g,g.data,"teleport end"):oe=i(g),e(v,ge,null,N,_,hd(ge),F),po(v)&&!v.type.__asyncResolved){let z;j?(z=ye(Lt),z.anchor=oe?oe.previousSibling:ge.lastChild):z=g.nodeType===3?De(""):ye("div"),z.el=g,v.component.subTree=z}}else re&64?he!==8?oe=se():oe=v.type.hydrate(g,v,N,_,H,F,s,m):re&128&&(oe=v.type.hydrate(g,v,N,_,hd(a(g)),H,F,s,h))}return $!=null&&Tc($,null,_,v),oe},f=(g,v,N,_,H,F)=>{F=F||!!v.dynamicChildren;const{type:j,props:se,patchFlag:L,shapeFlag:$,dirs:re,transition:we}=v,he=j==="input"||j==="option";if(he||L!==-1){re&&Nn(v,null,N,"created");let oe=!1;if(R(g)){oe=V1(null,we)&&N&&N.vnode.props&&N.vnode.props.appear;const z=g.content.firstChild;if(oe){const be=z.getAttribute("class");be&&(z.$cls=be),we.beforeEnter(z)}x(z,g,N),v.el=g=z}if($&16&&!(se&&(se.innerHTML||se.textContent))){let z=m(g.firstChild,v,g,N,_,H,F);for(;z;){fd(g,1)||Mo();const be=z;z=z.nextSibling,o(be)}}else if($&8){let z=v.children;z[0]===`
`&&(g.tagName==="PRE"||g.tagName==="TEXTAREA")&&(z=z.slice(1)),g.textContent!==z&&(fd(g,0)||Mo(),g.textContent=v.children)}if(se){if(he||!F||L&48){const z=g.tagName.includes("-");for(const be in se)(he&&(be.endsWith("value")||be==="indeterminate")||zf(be)&&!xc(be)||be[0]==="."||z)&&n(g,be,null,se[be],void 0,N)}else if(se.onClick)n(g,"onClick",null,se.onClick,void 0,N);else if(L&4&&go(se.style))for(const z in se.style)se.style[z]}let ge;(ge=se&&se.onVnodeBeforeMount)&&$s(ge,N,v),re&&Nn(v,null,N,"beforeMount"),((ge=se&&se.onVnodeMounted)||re||oe)&&F1(()=>{ge&&$s(ge,N,v),oe&&we.enter(g),re&&Nn(v,null,N,"mounted")},_)}return g.nextSibling},m=(g,v,N,_,H,F,j)=>{j=j||!!v.dynamicChildren;const se=v.children,L=se.length;for(let $=0;$<L;$++){const re=j?se[$]:se[$]=Rs(se[$]),we=re.type===Di;g?(we&&!j&&$+1<L&&Rs(se[$+1]).type===Di&&(l(r(g.data.slice(re.children.length)),N,i(g)),g.data=re.children),g=h(g,re,_,H,F,j)):we&&!re.children?l(re.el=r(""),N):(fd(N,1)||Mo(),t(null,re,N,null,_,H,hd(N),F))}return g},b=(g,v,N,_,H,F)=>{const{slotScopeIds:j}=v;j&&(H=H?H.concat(j):j);const se=a(g),L=m(i(g),v,se,N,_,H,F);return L&&Ec(L)&&L.data==="]"?i(v.anchor=L):(Mo(),l(v.anchor=u("]"),se,L),L)},A=(g,v,N,_,H,F)=>{if(fd(g.parentElement,1)||Mo(),v.el=null,F){const L=k(g);for(;;){const $=i(g);if($&&$!==L)o($);else break}}const j=i(g),se=a(g);return o(g),t(null,v,se,j,N,_,hd(se),H),N&&(N.vnode.el=v.el,kg(N,v.el)),j},k=(g,v="[",N="]")=>{let _=0;for(;g;)if(g=i(g),g&&Ec(g)&&(g.data===v&&_++,g.data===N)){if(_===0)return i(g);_--}return g},x=(g,v,N)=>{const _=v.parentNode;_&&_.replaceChild(g,v);let H=N;for(;H;)H.vnode.el===v&&(H.vnode.el=H.subTree.el=g),H=H.parent},R=g=>g.nodeType===1&&g.tagName==="TEMPLATE";return[c,h]}const Av="data-allow-mismatch",aC={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function fd(s,e){if(e===0||e===1)for(;s&&!s.hasAttribute(Av);)s=s.parentElement;const t=s&&s.getAttribute(Av);if(t==null)return!1;if(t==="")return!0;{const n=t.split(",");return e===0&&n.includes("children")?!0:n.includes(aC[e])}}wg().requestIdleCallback;wg().cancelIdleCallback;function oC(s,e){if(Ec(s)&&s.data==="["){let t=1,n=s.nextSibling;for(;n;){if(n.nodeType===1){if(e(n)===!1)break}else if(Ec(n))if(n.data==="]"){if(--t===0)break}else n.data==="["&&t++;n=n.nextSibling}}else e(s)}const po=s=>!!s.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function kv(s){Be(s)&&(s={loader:s});const{loader:e,loadingComponent:t,errorComponent:n,delay:r=200,hydrate:i,timeout:a,suspensible:o=!0,onError:l}=s;let u=null,c,h=0;const f=()=>(h++,u=null,m()),m=()=>{let b;return u||(b=u=e().catch(A=>{if(A=A instanceof Error?A:new Error(String(A)),l)return new Promise((k,x)=>{l(A,()=>k(f()),()=>x(A),h+1)});throw A}).then(A=>b!==u&&u?u:(A&&(A.__esModule||A[Symbol.toStringTag]==="Module")&&(A=A.default),c=A,A)))};return Wi({name:"AsyncComponentWrapper",__asyncLoader:m,__asyncHydrate(b,A,k){const x=i?()=>{const g=i(()=>{k()},v=>oC(b,v));g&&(A.bum||(A.bum=[])).push(g),(A.u||(A.u=[])).push(()=>!0)}:k;c?x():m().then(()=>!A.isUnmounted&&x())},get __asyncResolved(){return c},setup(){const b=Dt;if(fy(b),c)return()=>Wg(c,b);const A=g=>{u=null,nu(g,b,13,!n)};if(o&&b.suspense||jc)return m().then(g=>()=>Wg(g,b)).catch(g=>(A(g),()=>n?ye(n,{error:g}):null));const k=He(!1),x=He(),R=He(!!r);return r&&setTimeout(()=>{R.value=!1},r),a!=null&&setTimeout(()=>{if(!k.value&&!x.value){const g=new Error(`Async component timed out after ${a}ms.`);A(g),x.value=g}},a),m().then(()=>{k.value=!0,b.parent&&dy(b.parent.vnode)&&b.parent.update()}).catch(g=>{A(g),x.value=g}),()=>{if(k.value&&c)return Wg(c,b);if(x.value&&n)return ye(n,{error:x.value});if(t&&!R.value)return ye(t)}}})}function Wg(s,e){const{ref:t,props:n,children:r,ce:i}=e.vnode,a=ye(s,n,r);return a.ref=t,a.ce=i,delete e.vnode.ce,a}const dy=s=>s.type.__isKeepAlive;function m1(s,e){p1(s,"a",e)}function g1(s,e){p1(s,"da",e)}function p1(s,e,t=Dt){const n=s.__wdc||(s.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return s()});if(Sg(e,n,t),t){let r=t.parent;for(;r&&r.parent;)dy(r.parent.vnode)&&lC(n,e,t,r),r=r.parent}}function lC(s,e,t,n){const r=Sg(e,s,n,!0);gy(()=>{ey(n[e],r)},t)}function Sg(s,e,t=Dt,n=!1){if(t){const r=t[s]||(t[s]=[]),i=e.__weh||(e.__weh=(...a)=>{br();const o=sd(t),l=Ln(e,t,s,a);return o(),Sr(),l});return n?r.unshift(i):r.push(i),i}}const Cr=s=>(e,t=Dt)=>{(!jc||s==="sp")&&Sg(s,(...n)=>e(...n),t)},cC=Cr("bm"),my=Cr("m"),uC=Cr("bu"),hC=Cr("u"),w1=Cr("bum"),gy=Cr("um"),fC=Cr("sp"),dC=Cr("rtg"),mC=Cr("rtc");function y1(s,e=Dt){Sg("ec",s,e)}const py="components";function OL(s,e){return b1(py,s,!0,e)||s}const v1=Symbol.for("v-ndc");function gC(s){return wt(s)?b1(py,s,!1)||s:s||v1}function b1(s,e,t=!0,n=!1){const r=Ut||Dt;if(r){const i=r.type;if(s===py){const o=iN(i,!1);if(o&&(o===e||o===Xs(e)||o===pg(Xs(e))))return i}const a=Ev(r[s]||i[s],e)||Ev(r.appContext[s],e);return!a&&n?i:a}}function Ev(s,e){return s&&(s[e]||s[Xs(e)]||s[pg(Xs(e))])}function Cv(s,e,t,n){let r;const i=t&&t[n],a=Ne(s);if(a||wt(s)){const o=a&&go(s);let l=!1,u=!1;o&&(l=!Ys(s),u=kr(s),s=vg(s)),r=new Array(s.length);for(let c=0,h=s.length;c<h;c++)r[c]=e(l?u?Om(Wt(s[c])):Wt(s[c]):s[c],c,void 0,i&&i[c])}else if(typeof s=="number"){r=new Array(s);for(let o=0;o<s;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(st(s))if(s[Symbol.iterator])r=Array.from(s,(o,l)=>e(o,l,void 0,i&&i[l]));else{const o=Object.keys(s);r=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const c=o[l];r[l]=e(s[c],c,l,i&&i[l])}}else r=[];return t&&(t[n]=r),r}function wy(s,e,t={},n,r){if(Ut.ce||Ut.parent&&po(Ut.parent)&&Ut.parent.ce)return e!=="default"&&(t.name=e),$e(),on(Lt,null,[ye("slot",t,n&&n())],64);let i=s[e];i&&i._c&&(i._d=!1),$e();const a=i&&S1(i(t)),o=t.key||a&&a.key,l=on(Lt,{key:(o&&!pn(o)?o:`_${e}`)+(!a&&n?"_fb":"")},a||(n?n():[]),a&&s._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function S1(s){return s.some(e=>Fc(e)?!(e.type===Qs||e.type===Lt&&!S1(e.children)):!0)?s:null}const Wp=s=>s?G1(s)?Eg(s):Wp(s.parent):null,Cf=jt(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>Wp(s.parent),$root:s=>Wp(s.root),$host:s=>s.ce,$emit:s=>s.emit,$options:s=>yy(s),$forceUpdate:s=>s.f||(s.f=()=>{uy(s.update)}),$nextTick:s=>s.n||(s.n=bg.bind(s.proxy)),$watch:s=>LC.bind(s)}),qg=(s,e)=>s!==et&&!s.__isScriptSetup&&Ge(s,e),pC={get({_:s},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:n,data:r,props:i,accessCache:a,type:o,appContext:l}=s;let u;if(e[0]!=="$"){const m=a[e];if(m!==void 0)switch(m){case 1:return n[e];case 2:return r[e];case 4:return t[e];case 3:return i[e]}else{if(qg(n,e))return a[e]=1,n[e];if(r!==et&&Ge(r,e))return a[e]=2,r[e];if((u=s.propsOptions[0])&&Ge(u,e))return a[e]=3,i[e];if(t!==et&&Ge(t,e))return a[e]=4,t[e];qp&&(a[e]=0)}}const c=Cf[e];let h,f;if(c)return e==="$attrs"&&ts(s.attrs,"get",""),c(s);if((h=o.__cssModules)&&(h=h[e]))return h;if(t!==et&&Ge(t,e))return a[e]=4,t[e];if(f=l.config.globalProperties,Ge(f,e))return f[e]},set({_:s},e,t){const{data:n,setupState:r,ctx:i}=s;return qg(r,e)?(r[e]=t,!0):n!==et&&Ge(n,e)?(n[e]=t,!0):Ge(s.props,e)||e[0]==="$"&&e.slice(1)in s?!1:(i[e]=t,!0)},has({_:{data:s,setupState:e,accessCache:t,ctx:n,appContext:r,propsOptions:i}},a){let o;return!!t[a]||s!==et&&Ge(s,a)||qg(e,a)||(o=i[0])&&Ge(o,a)||Ge(n,a)||Ge(Cf,a)||Ge(r.config.globalProperties,a)},defineProperty(s,e,t){return t.get!=null?s._.accessCache[e]=0:Ge(t,"value")&&this.set(s,e,t.value,null),Reflect.defineProperty(s,e,t)}};function Nv(s){return Ne(s)?s.reduce((e,t)=>(e[t]=null,e),{}):s}let qp=!0;function wC(s){const e=yy(s),t=s.proxy,n=s.ctx;qp=!1,e.beforeCreate&&Iv(e.beforeCreate,s,"bc");const{data:r,computed:i,methods:a,watch:o,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:m,updated:b,activated:A,deactivated:k,beforeDestroy:x,beforeUnmount:R,destroyed:g,unmounted:v,render:N,renderTracked:_,renderTriggered:H,errorCaptured:F,serverPrefetch:j,expose:se,inheritAttrs:L,components:$,directives:re,filters:we}=e;if(u&&yC(u,n,null),a)for(const ge in a){const z=a[ge];Be(z)&&(n[ge]=z.bind(t))}if(r){const ge=r.call(t,t);st(ge)&&(s.data=Ar(ge))}if(qp=!0,i)for(const ge in i){const z=i[ge],be=Be(z)?z.bind(t,t):Be(z.get)?z.get.bind(t,t):fn,de=!Be(z)&&Be(z.set)?z.set.bind(t):fn,fe=ss({get:be,set:de});Object.defineProperty(n,ge,{enumerable:!0,configurable:!0,get:()=>fe.value,set:ce=>fe.value=ce})}if(o)for(const ge in o)A1(o[ge],n,t,ge);if(l){const ge=Be(l)?l.call(t):l;Reflect.ownKeys(ge).forEach(z=>{E1(z,ge[z])})}c&&Iv(c,s,"c");function oe(ge,z){Ne(z)?z.forEach(be=>ge(be.bind(t))):z&&ge(z.bind(t))}if(oe(cC,h),oe(my,f),oe(uC,m),oe(hC,b),oe(m1,A),oe(g1,k),oe(y1,F),oe(mC,_),oe(dC,H),oe(w1,R),oe(gy,v),oe(fC,j),Ne(se))if(se.length){const ge=s.exposed||(s.exposed={});se.forEach(z=>{Object.defineProperty(ge,z,{get:()=>t[z],set:be=>t[z]=be})})}else s.exposed||(s.exposed={});N&&s.render===fn&&(s.render=N),L!=null&&(s.inheritAttrs=L),$&&(s.components=$),re&&(s.directives=re),j&&fy(s)}function yC(s,e,t=fn){Ne(s)&&(s=Gp(s));for(const n in s){const r=s[n];let i;st(r)?"default"in r?i=yo(r.from||n,r.default,!0):i=yo(r.from||n):i=yo(r),pe(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):e[n]=i}}function Iv(s,e,t){Ln(Ne(s)?s.map(n=>n.bind(e.proxy)):s.bind(e.proxy),e,t)}function A1(s,e,t,n){let r=n.includes(".")?U1(t,n):()=>t[n];if(wt(s)){const i=e[s];Be(i)&&Rn(r,i)}else if(Be(s))Rn(r,s.bind(t));else if(st(s))if(Ne(s))s.forEach(i=>A1(i,e,t,n));else{const i=Be(s.handler)?s.handler.bind(t):e[s.handler];Be(i)&&Rn(r,i,s)}}function yy(s){const e=s.type,{mixins:t,extends:n}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:a}}=s.appContext,o=i.get(e);let l;return o?l=o:!r.length&&!t&&!n?l=e:(l={},r.length&&r.forEach(u=>Um(l,u,a,!0)),Um(l,e,a)),st(e)&&i.set(e,l),l}function Um(s,e,t,n=!1){const{mixins:r,extends:i}=e;i&&Um(s,i,t,!0),r&&r.forEach(a=>Um(s,a,t,!0));for(const a in e)if(!(n&&a==="expose")){const o=vC[a]||t&&t[a];s[a]=o?o(s[a],e[a]):e[a]}return s}const vC={data:_v,props:xv,emits:xv,methods:Nu,computed:Nu,beforeCreate:is,created:is,beforeMount:is,mounted:is,beforeUpdate:is,updated:is,beforeDestroy:is,beforeUnmount:is,destroyed:is,unmounted:is,activated:is,deactivated:is,errorCaptured:is,serverPrefetch:is,components:Nu,directives:Nu,watch:SC,provide:_v,inject:bC};function _v(s,e){return e?s?function(){return jt(Be(s)?s.call(this,this):s,Be(e)?e.call(this,this):e)}:e:s}function bC(s,e){return Nu(Gp(s),Gp(e))}function Gp(s){if(Ne(s)){const e={};for(let t=0;t<s.length;t++)e[s[t]]=s[t];return e}return s}function is(s,e){return s?[...new Set([].concat(s,e))]:e}function Nu(s,e){return s?jt(Object.create(null),s,e):e}function xv(s,e){return s?Ne(s)&&Ne(e)?[...new Set([...s,...e])]:jt(Object.create(null),Nv(s),Nv(e??{})):e}function SC(s,e){if(!s)return e;if(!e)return s;const t=jt(Object.create(null),s);for(const n in e)t[n]=is(s[n],e[n]);return t}function k1(){return{app:null,config:{isNativeTag:cE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let AC=0;function kC(s,e){return function(n,r=null){Be(n)||(n=jt({},n)),r!=null&&!st(r)&&(r=null);const i=k1(),a=new WeakSet,o=[];let l=!1;const u=i.app={_uid:AC++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:X1,get config(){return i.config},set config(c){},use(c,...h){return a.has(c)||(c&&Be(c.install)?(a.add(c),c.install(u,...h)):Be(c)&&(a.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,f){if(!l){const m=u._ceVNode||ye(n,r);return m.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(m,c):s(m,c,f),l=!0,u._container=c,c.__vue_app__=u,Eg(m.component)}},onUnmount(c){o.push(c)},unmount(){l&&(Ln(o,u._instance,16),s(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=wo;wo=u;try{return c()}finally{wo=h}}};return u}}let wo=null;function E1(s,e){if(Dt){let t=Dt.provides;const n=Dt.parent&&Dt.parent.provides;n===t&&(t=Dt.provides=Object.create(n)),t[s]=e}}function yo(s,e,t=!1){const n=Dt||Ut;if(n||wo){let r=wo?wo._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&s in r)return r[s];if(arguments.length>1)return t&&Be(e)?e.call(n&&n.proxy):e}}function C1(){return!!(Dt||Ut||wo)}const N1={},I1=()=>Object.create(N1),_1=s=>Object.getPrototypeOf(s)===N1;function EC(s,e,t,n=!1){const r={},i=I1();s.propsDefaults=Object.create(null),x1(s,e,r,i);for(const a in s.propsOptions[0])a in r||(r[a]=void 0);t?s.props=n?r:i1(r):s.type.props?s.props=r:s.props=i,s.attrs=i}function CC(s,e,t,n){const{props:r,attrs:i,vnode:{patchFlag:a}}=s,o=Je(r),[l]=s.propsOptions;let u=!1;if((n||a>0)&&!(a&16)){if(a&8){const c=s.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(Ag(s.emitsOptions,f))continue;const m=e[f];if(l)if(Ge(i,f))m!==i[f]&&(i[f]=m,u=!0);else{const b=Xs(f);r[b]=Yp(l,o,b,m,s,!1)}else m!==i[f]&&(i[f]=m,u=!0)}}}else{x1(s,e,r,i)&&(u=!0);let c;for(const h in o)(!e||!Ge(e,h)&&((c=Ro(h))===h||!Ge(e,c)))&&(l?t&&(t[h]!==void 0||t[c]!==void 0)&&(r[h]=Yp(l,o,h,void 0,s,!0)):delete r[h]);if(i!==o)for(const h in i)(!e||!Ge(e,h))&&(delete i[h],u=!0)}u&&sr(s.attrs,"set","")}function x1(s,e,t,n){const[r,i]=s.propsOptions;let a=!1,o;if(e)for(let l in e){if(xc(l))continue;const u=e[l];let c;r&&Ge(r,c=Xs(l))?!i||!i.includes(c)?t[c]=u:(o||(o={}))[c]=u:Ag(s.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,a=!0)}if(i){const l=Je(t),u=o||et;for(let c=0;c<i.length;c++){const h=i[c];t[h]=Yp(r,l,h,u[h],s,!Ge(u,h))}}return a}function Yp(s,e,t,n,r,i){const a=s[t];if(a!=null){const o=Ge(a,"default");if(o&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Be(l)){const{propsDefaults:u}=r;if(t in u)n=u[t];else{const c=sd(r);n=u[t]=l.call(null,e),c()}}else n=l;r.ce&&r.ce._setProp(t,n)}a[0]&&(i&&!o?n=!1:a[1]&&(n===""||n===Ro(t))&&(n=!0))}return n}const NC=new WeakMap;function B1(s,e,t=!1){const n=t?NC:e.propsCache,r=n.get(s);if(r)return r;const i=s.props,a={},o=[];let l=!1;if(!Be(s)){const c=h=>{l=!0;const[f,m]=B1(h,e,!0);jt(a,f),m&&o.push(...m)};!t&&e.mixins.length&&e.mixins.forEach(c),s.extends&&c(s.extends),s.mixins&&s.mixins.forEach(c)}if(!i&&!l)return st(s)&&n.set(s,Ic),Ic;if(Ne(i))for(let c=0;c<i.length;c++){const h=Xs(i[c]);Bv(h)&&(a[h]=et)}else if(i)for(const c in i){const h=Xs(c);if(Bv(h)){const f=i[c],m=a[h]=Ne(f)||Be(f)?{type:f}:jt({},f),b=m.type;let A=!1,k=!0;if(Ne(b))for(let x=0;x<b.length;++x){const R=b[x],g=Be(R)&&R.name;if(g==="Boolean"){A=!0;break}else g==="String"&&(k=!1)}else A=Be(b)&&b.name==="Boolean";m[0]=A,m[1]=k,(A||Ge(m,"default"))&&o.push(h)}}const u=[a,o];return st(s)&&n.set(s,u),u}function Bv(s){return s[0]!=="$"&&!xc(s)}const vy=s=>s[0]==="_"||s==="$stable",by=s=>Ne(s)?s.map(Rs):[Rs(s)],IC=(s,e,t)=>{if(e._n)return e;const n=as((...r)=>by(e(...r)),t);return n._c=!1,n},T1=(s,e,t)=>{const n=s._ctx;for(const r in s){if(vy(r))continue;const i=s[r];if(Be(i))e[r]=IC(r,i,n);else if(i!=null){const a=by(i);e[r]=()=>a}}},R1=(s,e)=>{const t=by(e);s.slots.default=()=>t},O1=(s,e,t)=>{for(const n in e)(t||!vy(n))&&(s[n]=e[n])},_C=(s,e,t)=>{const n=s.slots=I1();if(s.vnode.shapeFlag&32){const r=e.__;r&&Hp(n,"__",r,!0);const i=e._;i?(O1(n,e,t),t&&Hp(n,"_",i,!0)):T1(e,n)}else e&&R1(s,e)},xC=(s,e,t)=>{const{vnode:n,slots:r}=s;let i=!0,a=et;if(n.shapeFlag&32){const o=e._;o?t&&o===1?i=!1:O1(r,e,t):(i=!e.$stable,T1(e,r)),a=e}else e&&(R1(s,e),a={default:1});if(i)for(const o in r)!vy(o)&&a[o]==null&&delete r[o]},Ns=F1;function BC(s){return P1(s)}function TC(s){return P1(s,iC)}function P1(s,e){const t=wg();t.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:a,createText:o,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:m=fn,insertStaticContent:b}=s,A=(p,y,B,O=null,D=null,V=null,Y=void 0,S=null,E=!!y.dynamicChildren)=>{if(p===y)return;p&&!xi(p,y)&&(O=Ke(p),ce(p,D,V,!0),p=null),y.patchFlag===-2&&(E=!1,y.dynamicChildren=null);const{type:T,ref:U,shapeFlag:J}=y;switch(T){case Di:k(p,y,B,O);break;case Qs:x(p,y,B,O);break;case Nf:p==null&&R(y,B,O,Y);break;case Lt:$(p,y,B,O,D,V,Y,S,E);break;default:J&1?N(p,y,B,O,D,V,Y,S,E):J&6?re(p,y,B,O,D,V,Y,S,E):(J&64||J&128)&&T.process(p,y,B,O,D,V,Y,S,E,yt)}U!=null&&D?Tc(U,p&&p.ref,V,y||p,!y):U==null&&p&&p.ref!=null&&Tc(p.ref,null,V,p,!0)},k=(p,y,B,O)=>{if(p==null)n(y.el=o(y.children),B,O);else{const D=y.el=p.el;y.children!==p.children&&u(D,y.children)}},x=(p,y,B,O)=>{p==null?n(y.el=l(y.children||""),B,O):y.el=p.el},R=(p,y,B,O)=>{[p.el,p.anchor]=b(p.children,y,B,O,p.el,p.anchor)},g=({el:p,anchor:y},B,O)=>{let D;for(;p&&p!==y;)D=f(p),n(p,B,O),p=D;n(y,B,O)},v=({el:p,anchor:y})=>{let B;for(;p&&p!==y;)B=f(p),r(p),p=B;r(y)},N=(p,y,B,O,D,V,Y,S,E)=>{y.type==="svg"?Y="svg":y.type==="math"&&(Y="mathml"),p==null?_(y,B,O,D,V,Y,S,E):j(p,y,D,V,Y,S,E)},_=(p,y,B,O,D,V,Y,S)=>{let E,T;const{props:U,shapeFlag:J,transition:q,dirs:I}=p;if(E=p.el=a(p.type,V,U&&U.is,U),J&8?c(E,p.children):J&16&&F(p.children,E,null,O,D,Gg(p,V),Y,S),I&&Nn(p,null,O,"created"),H(E,p,p.scopeId,Y,O),U){for(const ve in U)ve!=="value"&&!xc(ve)&&i(E,ve,null,U[ve],V,O);"value"in U&&i(E,"value",null,U.value,V),(T=U.onVnodeBeforeMount)&&$s(T,O,p)}I&&Nn(p,null,O,"beforeMount");const W=V1(D,q);W&&q.beforeEnter(E),n(E,y,B),((T=U&&U.onVnodeMounted)||W||I)&&Ns(()=>{T&&$s(T,O,p),W&&q.enter(E),I&&Nn(p,null,O,"mounted")},D)},H=(p,y,B,O,D)=>{if(B&&m(p,B),O)for(let V=0;V<O.length;V++)m(p,O[V]);if(D){let V=D.subTree;if(y===V||M1(V.type)&&(V.ssContent===y||V.ssFallback===y)){const Y=D.vnode;H(p,Y,Y.scopeId,Y.slotScopeIds,D.parent)}}},F=(p,y,B,O,D,V,Y,S,E=0)=>{for(let T=E;T<p.length;T++){const U=p[T]=S?Ei(p[T]):Rs(p[T]);A(null,U,y,B,O,D,V,Y,S)}},j=(p,y,B,O,D,V,Y)=>{const S=y.el=p.el;let{patchFlag:E,dynamicChildren:T,dirs:U}=y;E|=p.patchFlag&16;const J=p.props||et,q=y.props||et;let I;if(B&&zi(B,!1),(I=q.onVnodeBeforeUpdate)&&$s(I,B,y,p),U&&Nn(y,p,B,"beforeUpdate"),B&&zi(B,!0),(J.innerHTML&&q.innerHTML==null||J.textContent&&q.textContent==null)&&c(S,""),T?se(p.dynamicChildren,T,S,B,O,Gg(y,D),V):Y||z(p,y,S,null,B,O,Gg(y,D),V,!1),E>0){if(E&16)L(S,J,q,B,D);else if(E&2&&J.class!==q.class&&i(S,"class",null,q.class,D),E&4&&i(S,"style",J.style,q.style,D),E&8){const W=y.dynamicProps;for(let ve=0;ve<W.length;ve++){const Ee=W[ve],ze=J[Ee],Et=q[Ee];(Et!==ze||Ee==="value")&&i(S,Ee,ze,Et,D,B)}}E&1&&p.children!==y.children&&c(S,y.children)}else!Y&&T==null&&L(S,J,q,B,D);((I=q.onVnodeUpdated)||U)&&Ns(()=>{I&&$s(I,B,y,p),U&&Nn(y,p,B,"updated")},O)},se=(p,y,B,O,D,V,Y)=>{for(let S=0;S<y.length;S++){const E=p[S],T=y[S],U=E.el&&(E.type===Lt||!xi(E,T)||E.shapeFlag&198)?h(E.el):B;A(E,T,U,null,O,D,V,Y,!0)}},L=(p,y,B,O,D)=>{if(y!==B){if(y!==et)for(const V in y)!xc(V)&&!(V in B)&&i(p,V,y[V],null,D,O);for(const V in B){if(xc(V))continue;const Y=B[V],S=y[V];Y!==S&&V!=="value"&&i(p,V,S,Y,D,O)}"value"in B&&i(p,"value",y.value,B.value,D)}},$=(p,y,B,O,D,V,Y,S,E)=>{const T=y.el=p?p.el:o(""),U=y.anchor=p?p.anchor:o("");let{patchFlag:J,dynamicChildren:q,slotScopeIds:I}=y;I&&(S=S?S.concat(I):I),p==null?(n(T,B,O),n(U,B,O),F(y.children||[],B,U,D,V,Y,S,E)):J>0&&J&64&&q&&p.dynamicChildren?(se(p.dynamicChildren,q,B,D,V,Y,S),(y.key!=null||D&&y===D.subTree)&&L1(p,y,!0)):z(p,y,B,U,D,V,Y,S,E)},re=(p,y,B,O,D,V,Y,S,E)=>{y.slotScopeIds=S,p==null?y.shapeFlag&512?D.ctx.activate(y,B,O,Y,E):we(y,B,O,D,V,Y,E):he(p,y,E)},we=(p,y,B,O,D,V,Y)=>{const S=p.component=eN(p,O,D);if(dy(p)&&(S.ctx.renderer=yt),tN(S,!1,Y),S.asyncDep){if(D&&D.registerDep(S,oe,Y),!p.el){const E=S.subTree=ye(Qs);x(null,E,y,B)}}else oe(S,p,y,B,D,V,Y)},he=(p,y,B)=>{const O=y.component=p.component;if(FC(p,y,B))if(O.asyncDep&&!O.asyncResolved){ge(O,y,B);return}else O.next=y,O.update();else y.el=p.el,O.vnode=y},oe=(p,y,B,O,D,V,Y)=>{const S=()=>{if(p.isMounted){let{next:J,bu:q,u:I,parent:W,vnode:ve}=p;{const rs=D1(p);if(rs){J&&(J.el=ve.el,ge(p,J,Y)),rs.asyncDep.then(()=>{p.isUnmounted||S()});return}}let Ee=J,ze;zi(p,!1),J?(J.el=ve.el,ge(p,J,Y)):J=ve,q&&Xd(q),(ze=J.props&&J.props.onVnodeBeforeUpdate)&&$s(ze,W,J,ve),zi(p,!0);const Et=Yg(p),Mt=p.subTree;p.subTree=Et,A(Mt,Et,h(Mt.el),Ke(Mt),p,D,V),J.el=Et.el,Ee===null&&kg(p,Et.el),I&&Ns(I,D),(ze=J.props&&J.props.onVnodeUpdated)&&Ns(()=>$s(ze,W,J,ve),D)}else{let J;const{el:q,props:I}=y,{bm:W,m:ve,parent:Ee,root:ze,type:Et}=p,Mt=po(y);if(zi(p,!1),W&&Xd(W),!Mt&&(J=I&&I.onVnodeBeforeMount)&&$s(J,Ee,y),zi(p,!0),q&&Qe){const rs=()=>{p.subTree=Yg(p),Qe(q,p.subTree,p,D,null)};Mt&&Et.__asyncHydrate?Et.__asyncHydrate(q,p,rs):rs()}else{ze.ce&&ze.ce._def.shadowRoot!==!1&&ze.ce._injectChildStyle(Et);const rs=p.subTree=Yg(p);A(null,rs,B,O,p,D,V),y.el=rs.el}if(ve&&Ns(ve,D),!Mt&&(J=I&&I.onVnodeMounted)){const rs=y;Ns(()=>$s(J,Ee,rs),D)}(y.shapeFlag&256||Ee&&po(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&p.a&&Ns(p.a,D),p.isMounted=!0,y=B=O=null}};p.scope.on();const E=p.effect=new J0(S);p.scope.off();const T=p.update=E.run.bind(E),U=p.job=E.runIfDirty.bind(E);U.i=p,U.id=p.uid,E.scheduler=()=>uy(U),zi(p,!0),T()},ge=(p,y,B)=>{y.component=p;const O=p.vnode.props;p.vnode=y,p.next=null,CC(p,y.props,O,B),xC(p,y.children,B),br(),bv(p),Sr()},z=(p,y,B,O,D,V,Y,S,E=!1)=>{const T=p&&p.children,U=p?p.shapeFlag:0,J=y.children,{patchFlag:q,shapeFlag:I}=y;if(q>0){if(q&128){de(T,J,B,O,D,V,Y,S,E);return}else if(q&256){be(T,J,B,O,D,V,Y,S,E);return}}I&8?(U&16&&it(T,D,V),J!==T&&c(B,J)):U&16?I&16?de(T,J,B,O,D,V,Y,S,E):it(T,D,V,!0):(U&8&&c(B,""),I&16&&F(J,B,O,D,V,Y,S,E))},be=(p,y,B,O,D,V,Y,S,E)=>{p=p||Ic,y=y||Ic;const T=p.length,U=y.length,J=Math.min(T,U);let q;for(q=0;q<J;q++){const I=y[q]=E?Ei(y[q]):Rs(y[q]);A(p[q],I,B,null,D,V,Y,S,E)}T>U?it(p,D,V,!0,!1,J):F(y,B,O,D,V,Y,S,E,J)},de=(p,y,B,O,D,V,Y,S,E)=>{let T=0;const U=y.length;let J=p.length-1,q=U-1;for(;T<=J&&T<=q;){const I=p[T],W=y[T]=E?Ei(y[T]):Rs(y[T]);if(xi(I,W))A(I,W,B,null,D,V,Y,S,E);else break;T++}for(;T<=J&&T<=q;){const I=p[J],W=y[q]=E?Ei(y[q]):Rs(y[q]);if(xi(I,W))A(I,W,B,null,D,V,Y,S,E);else break;J--,q--}if(T>J){if(T<=q){const I=q+1,W=I<U?y[I].el:O;for(;T<=q;)A(null,y[T]=E?Ei(y[T]):Rs(y[T]),B,W,D,V,Y,S,E),T++}}else if(T>q)for(;T<=J;)ce(p[T],D,V,!0),T++;else{const I=T,W=T,ve=new Map;for(T=W;T<=q;T++){const Cs=y[T]=E?Ei(y[T]):Rs(y[T]);Cs.key!=null&&ve.set(Cs.key,T)}let Ee,ze=0;const Et=q-W+1;let Mt=!1,rs=0;const Uo=new Array(Et);for(T=0;T<Et;T++)Uo[T]=0;for(T=I;T<=J;T++){const Cs=p[T];if(ze>=Et){ce(Cs,D,V,!0);continue}let Sn;if(Cs.key!=null)Sn=ve.get(Cs.key);else for(Ee=W;Ee<=q;Ee++)if(Uo[Ee-W]===0&&xi(Cs,y[Ee])){Sn=Ee;break}Sn===void 0?ce(Cs,D,V,!0):(Uo[Sn-W]=T+1,Sn>=rs?rs=Sn:Mt=!0,A(Cs,y[Sn],B,null,D,V,Y,S,E),ze++)}const mv=Mt?RC(Uo):Ic;for(Ee=mv.length-1,T=Et-1;T>=0;T--){const Cs=W+T,Sn=y[Cs],gv=Cs+1<U?y[Cs+1].el:O;Uo[T]===0?A(null,Sn,B,gv,D,V,Y,S,E):Mt&&(Ee<0||T!==mv[Ee]?fe(Sn,B,gv,2):Ee--)}}},fe=(p,y,B,O,D=null)=>{const{el:V,type:Y,transition:S,children:E,shapeFlag:T}=p;if(T&6){fe(p.component.subTree,y,B,O);return}if(T&128){p.suspense.move(y,B,O);return}if(T&64){Y.move(p,y,B,yt);return}if(Y===Lt){n(V,y,B);for(let J=0;J<E.length;J++)fe(E[J],y,B,O);n(p.anchor,y,B);return}if(Y===Nf){g(p,y,B);return}if(O!==2&&T&1&&S)if(O===0)S.beforeEnter(V),n(V,y,B),Ns(()=>S.enter(V),D);else{const{leave:J,delayLeave:q,afterLeave:I}=S,W=()=>{p.ctx.isUnmounted?r(V):n(V,y,B)},ve=()=>{J(V,()=>{W(),I&&I()})};q?q(V,W,ve):ve()}else n(V,y,B)},ce=(p,y,B,O=!1,D=!1)=>{const{type:V,props:Y,ref:S,children:E,dynamicChildren:T,shapeFlag:U,patchFlag:J,dirs:q,cacheIndex:I}=p;if(J===-2&&(D=!1),S!=null&&(br(),Tc(S,null,B,p,!0),Sr()),I!=null&&(y.renderCache[I]=void 0),U&256){y.ctx.deactivate(p);return}const W=U&1&&q,ve=!po(p);let Ee;if(ve&&(Ee=Y&&Y.onVnodeBeforeUnmount)&&$s(Ee,y,p),U&6)rt(p.component,B,O);else{if(U&128){p.suspense.unmount(B,O);return}W&&Nn(p,null,y,"beforeUnmount"),U&64?p.type.remove(p,y,B,yt,O):T&&!T.hasOnce&&(V!==Lt||J>0&&J&64)?it(T,y,B,!1,!0):(V===Lt&&J&384||!D&&U&16)&&it(E,y,B),O&&ae(p)}(ve&&(Ee=Y&&Y.onVnodeUnmounted)||W)&&Ns(()=>{Ee&&$s(Ee,y,p),W&&Nn(p,null,y,"unmounted")},B)},ae=p=>{const{type:y,el:B,anchor:O,transition:D}=p;if(y===Lt){Re(B,O);return}if(y===Nf){v(p);return}const V=()=>{r(B),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(p.shapeFlag&1&&D&&!D.persisted){const{leave:Y,delayLeave:S}=D,E=()=>Y(B,V);S?S(p.el,V,E):E()}else V()},Re=(p,y)=>{let B;for(;p!==y;)B=f(p),r(p),p=B;r(y)},rt=(p,y,B)=>{const{bum:O,scope:D,job:V,subTree:Y,um:S,m:E,a:T,parent:U,slots:{__:J}}=p;Tv(E),Tv(T),O&&Xd(O),U&&Ne(J)&&J.forEach(q=>{U.renderCache[q]=void 0}),D.stop(),V&&(V.flags|=8,ce(Y,p,y,B)),S&&Ns(S,y),Ns(()=>{p.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},it=(p,y,B,O=!1,D=!1,V=0)=>{for(let Y=V;Y<p.length;Y++)ce(p[Y],y,B,O,D)},Ke=p=>{if(p.shapeFlag&6)return Ke(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const y=f(p.anchor||p.el),B=y&&y[tC];return B?f(B):y};let Te=!1;const ie=(p,y,B)=>{p==null?y._vnode&&ce(y._vnode,null,null,!0):A(y._vnode||null,p,y,null,null,null,B),y._vnode=p,Te||(Te=!0,bv(),Lm(),Te=!1)},yt={p:A,um:ce,m:fe,r:ae,mt:we,mc:F,pc:z,pbc:se,n:Ke,o:s};let Ht,Qe;return e&&([Ht,Qe]=e(yt)),{render:ie,hydrate:Ht,createApp:kC(ie,Ht)}}function Gg({type:s,props:e},t){return t==="svg"&&s==="foreignObject"||t==="mathml"&&s==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function zi({effect:s,job:e},t){t?(s.flags|=32,e.flags|=4):(s.flags&=-33,e.flags&=-5)}function V1(s,e){return(!s||s&&!s.pendingBranch)&&e&&!e.persisted}function L1(s,e,t=!1){const n=s.children,r=e.children;if(Ne(n)&&Ne(r))for(let i=0;i<n.length;i++){const a=n[i];let o=r[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=r[i]=Ei(r[i]),o.el=a.el),!t&&o.patchFlag!==-2&&L1(a,o)),o.type===Di&&(o.el=a.el),o.type===Qs&&!o.el&&(o.el=a.el)}}function RC(s){const e=s.slice(),t=[0];let n,r,i,a,o;const l=s.length;for(n=0;n<l;n++){const u=s[n];if(u!==0){if(r=t[t.length-1],s[r]<u){e[n]=r,t.push(n);continue}for(i=0,a=t.length-1;i<a;)o=i+a>>1,s[t[o]]<u?i=o+1:a=o;u<s[t[i]]&&(i>0&&(e[n]=t[i-1]),t[i]=n)}}for(i=t.length,a=t[i-1];i-- >0;)t[i]=a,a=e[a];return t}function D1(s){const e=s.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:D1(e)}function Tv(s){if(s)for(let e=0;e<s.length;e++)s[e].flags|=8}const OC=Symbol.for("v-scx"),PC=()=>yo(OC);function VC(s,e){return Sy(s,null,e)}function Rn(s,e,t){return Sy(s,e,t)}function Sy(s,e,t=et){const{immediate:n,deep:r,flush:i,once:a}=t,o=jt({},t),l=e&&n||!e&&i!=="post";let u;if(jc){if(i==="sync"){const m=PC();u=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=fn,m.resume=fn,m.pause=fn,m}}const c=Dt;o.call=(m,b,A)=>Ln(m,c,b,A);let h=!1;i==="post"?o.scheduler=m=>{Ns(m,c&&c.suspense)}:i!=="sync"&&(h=!0,o.scheduler=(m,b)=>{b?m():uy(m)}),o.augmentJob=m=>{e&&(m.flags|=4),h&&(m.flags|=2,c&&(m.id=c.uid,m.i=c))};const f=zE(s,e,o);return jc&&(u?u.push(f):l&&f()),f}function LC(s,e,t){const n=this.proxy,r=wt(s)?s.includes(".")?U1(n,s):()=>n[s]:s.bind(n,n);let i;Be(e)?i=e:(i=e.handler,t=e);const a=sd(this),o=Sy(r,i.bind(n),t);return a(),o}function U1(s,e){const t=e.split(".");return()=>{let n=s;for(let r=0;r<t.length&&n;r++)n=n[t[r]];return n}}const DC=(s,e)=>e==="modelValue"||e==="model-value"?s.modelModifiers:s[`${e}Modifiers`]||s[`${Xs(e)}Modifiers`]||s[`${Ro(e)}Modifiers`];function UC(s,e,...t){if(s.isUnmounted)return;const n=s.vnode.props||et;let r=t;const i=e.startsWith("update:"),a=i&&DC(n,e.slice(7));a&&(a.trim&&(r=t.map(c=>wt(c)?c.trim():c)),a.number&&(r=t.map(Mp)));let o,l=n[o=$g(e)]||n[o=$g(Xs(e))];!l&&i&&(l=n[o=$g(Ro(e))]),l&&Ln(l,s,6,r);const u=n[o+"Once"];if(u){if(!s.emitted)s.emitted={};else if(s.emitted[o])return;s.emitted[o]=!0,Ln(u,s,6,r)}}function H1(s,e,t=!1){const n=e.emitsCache,r=n.get(s);if(r!==void 0)return r;const i=s.emits;let a={},o=!1;if(!Be(s)){const l=u=>{const c=H1(u,e,!0);c&&(o=!0,jt(a,c))};!t&&e.mixins.length&&e.mixins.forEach(l),s.extends&&l(s.extends),s.mixins&&s.mixins.forEach(l)}return!i&&!o?(st(s)&&n.set(s,null),null):(Ne(i)?i.forEach(l=>a[l]=null):jt(a,i),st(s)&&n.set(s,a),a)}function Ag(s,e){return!s||!zf(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ge(s,e[0].toLowerCase()+e.slice(1))||Ge(s,Ro(e))||Ge(s,e))}function Yg(s){const{type:e,vnode:t,proxy:n,withProxy:r,propsOptions:[i],slots:a,attrs:o,emit:l,render:u,renderCache:c,props:h,data:f,setupState:m,ctx:b,inheritAttrs:A}=s,k=Dm(s);let x,R;try{if(t.shapeFlag&4){const v=r||n,N=v;x=Rs(u.call(N,v,c,h,m,f,b)),R=o}else{const v=e;x=Rs(v.length>1?v(h,{attrs:o,slots:a,emit:l}):v(h,null)),R=e.props?o:MC(o)}}catch(v){If.length=0,nu(v,s,1),x=ye(Qs)}let g=x;if(R&&A!==!1){const v=Object.keys(R),{shapeFlag:N}=g;v.length&&N&7&&(i&&v.some(Zw)&&(R=$C(R,i)),g=Kc(g,R,!1,!0))}return t.dirs&&(g=Kc(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(t.dirs):t.dirs),t.transition&&hy(g,t.transition),x=g,Dm(k),x}function HC(s,e=!0){let t;for(let n=0;n<s.length;n++){const r=s[n];if(Fc(r)){if(r.type!==Qs||r.children==="v-if"){if(t)return;t=r}}else return}return t}const MC=s=>{let e;for(const t in s)(t==="class"||t==="style"||zf(t))&&((e||(e={}))[t]=s[t]);return e},$C=(s,e)=>{const t={};for(const n in s)(!Zw(n)||!(n.slice(9)in e))&&(t[n]=s[n]);return t};function FC(s,e,t){const{props:n,children:r,component:i}=s,{props:a,children:o,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return n?Rv(n,a,u):!!a;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(a[f]!==n[f]&&!Ag(u,f))return!0}}}else return(r||o)&&(!o||!o.$stable)?!0:n===a?!1:n?a?Rv(n,a,u):!0:!!a;return!1}function Rv(s,e,t){const n=Object.keys(e);if(n.length!==Object.keys(s).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(e[i]!==s[i]&&!Ag(t,i))return!0}return!1}function kg({vnode:s,parent:e},t){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===s&&(n.el=s.el),n===s)(s=e.vnode).el=t,e=e.parent;else break}}const M1=s=>s.__isSuspense;let Xp=0;const KC={name:"Suspense",__isSuspense:!0,process(s,e,t,n,r,i,a,o,l,u){if(s==null)JC(e,t,n,r,i,a,o,l,u);else{if(i&&i.deps>0&&!s.suspense.isInFallback){e.suspense=s.suspense,e.suspense.vnode=e,e.el=s.el;return}WC(s,e,t,n,r,a,o,l,u)}},hydrate:qC,normalize:GC},jC=KC;function Df(s,e){const t=s.props&&s.props[e];Be(t)&&t()}function JC(s,e,t,n,r,i,a,o,l){const{p:u,o:{createElement:c}}=l,h=c("div"),f=s.suspense=$1(s,r,n,e,h,t,i,a,o,l);u(null,f.pendingBranch=s.ssContent,h,null,n,f,i,a),f.deps>0?(Df(s,"onPending"),Df(s,"onFallback"),u(null,s.ssFallback,e,t,n,null,i,a),Rc(f,s.ssFallback)):f.resolve(!1,!0)}function WC(s,e,t,n,r,i,a,o,{p:l,um:u,o:{createElement:c}}){const h=e.suspense=s.suspense;h.vnode=e,e.el=s.el;const f=e.ssContent,m=e.ssFallback,{activeBranch:b,pendingBranch:A,isInFallback:k,isHydrating:x}=h;if(A)h.pendingBranch=f,xi(f,A)?(l(A,f,h.hiddenContainer,null,r,h,i,a,o),h.deps<=0?h.resolve():k&&(x||(l(b,m,t,n,r,null,i,a,o),Rc(h,m)))):(h.pendingId=Xp++,x?(h.isHydrating=!1,h.activeBranch=A):u(A,r,h),h.deps=0,h.effects.length=0,h.hiddenContainer=c("div"),k?(l(null,f,h.hiddenContainer,null,r,h,i,a,o),h.deps<=0?h.resolve():(l(b,m,t,n,r,null,i,a,o),Rc(h,m))):b&&xi(f,b)?(l(b,f,t,n,r,h,i,a,o),h.resolve(!0)):(l(null,f,h.hiddenContainer,null,r,h,i,a,o),h.deps<=0&&h.resolve()));else if(b&&xi(f,b))l(b,f,t,n,r,h,i,a,o),Rc(h,f);else if(Df(e,"onPending"),h.pendingBranch=f,f.shapeFlag&512?h.pendingId=f.component.suspenseId:h.pendingId=Xp++,l(null,f,h.hiddenContainer,null,r,h,i,a,o),h.deps<=0)h.resolve();else{const{timeout:R,pendingId:g}=h;R>0?setTimeout(()=>{h.pendingId===g&&h.fallback(m)},R):R===0&&h.fallback(m)}}function $1(s,e,t,n,r,i,a,o,l,u,c=!1){const{p:h,m:f,um:m,n:b,o:{parentNode:A,remove:k}}=u;let x;const R=YC(s);R&&e&&e.pendingBranch&&(x=e.pendingId,e.deps++);const g=s.props?mE(s.props.timeout):void 0,v=i,N={vnode:s,parent:e,parentComponent:t,namespace:a,container:n,hiddenContainer:r,deps:0,pendingId:Xp++,timeout:typeof g=="number"?g:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(_=!1,H=!1){const{vnode:F,activeBranch:j,pendingBranch:se,pendingId:L,effects:$,parentComponent:re,container:we}=N;let he=!1;N.isHydrating?N.isHydrating=!1:_||(he=j&&se.transition&&se.transition.mode==="out-in",he&&(j.transition.afterLeave=()=>{L===N.pendingId&&(f(se,we,i===v?b(j):i,0),Jp($))}),j&&(A(j.el)===we&&(i=b(j)),m(j,re,N,!0)),he||f(se,we,i,0)),Rc(N,se),N.pendingBranch=null,N.isInFallback=!1;let oe=N.parent,ge=!1;for(;oe;){if(oe.pendingBranch){oe.effects.push(...$),ge=!0;break}oe=oe.parent}!ge&&!he&&Jp($),N.effects=[],R&&e&&e.pendingBranch&&x===e.pendingId&&(e.deps--,e.deps===0&&!H&&e.resolve()),Df(F,"onResolve")},fallback(_){if(!N.pendingBranch)return;const{vnode:H,activeBranch:F,parentComponent:j,container:se,namespace:L}=N;Df(H,"onFallback");const $=b(F),re=()=>{N.isInFallback&&(h(null,_,se,$,j,null,L,o,l),Rc(N,_))},we=_.transition&&_.transition.mode==="out-in";we&&(F.transition.afterLeave=re),N.isInFallback=!0,m(F,j,null,!0),we||re()},move(_,H,F){N.activeBranch&&f(N.activeBranch,_,H,F),N.container=_},next(){return N.activeBranch&&b(N.activeBranch)},registerDep(_,H,F){const j=!!N.pendingBranch;j&&N.deps++;const se=_.vnode.el;_.asyncDep.catch(L=>{nu(L,_,0)}).then(L=>{if(_.isUnmounted||N.isUnmounted||N.pendingId!==_.suspenseId)return;_.asyncResolved=!0;const{vnode:$}=_;zp(_,L,!1),se&&($.el=se);const re=!se&&_.subTree.el;H(_,$,A(se||_.subTree.el),se?null:b(_.subTree),N,a,F),re&&k(re),kg(_,$.el),j&&--N.deps===0&&N.resolve()})},unmount(_,H){N.isUnmounted=!0,N.activeBranch&&m(N.activeBranch,t,_,H),N.pendingBranch&&m(N.pendingBranch,t,_,H)}};return N}function qC(s,e,t,n,r,i,a,o,l){const u=e.suspense=$1(e,n,t,s.parentNode,document.createElement("div"),null,r,i,a,o,!0),c=l(s,u.pendingBranch=e.ssContent,t,u,i,a);return u.deps===0&&u.resolve(!1,!0),c}function GC(s){const{shapeFlag:e,children:t}=s,n=e&32;s.ssContent=Ov(n?t.default:t),s.ssFallback=n?Ov(t.fallback):ye(Qs)}function Ov(s){let e;if(Be(s)){const t=$c&&s._c;t&&(s._d=!1,$e()),s=s(),t&&(s._d=!0,e=ks,K1())}return Ne(s)&&(s=HC(s)),s=Rs(s),e&&!s.dynamicChildren&&(s.dynamicChildren=e.filter(t=>t!==s)),s}function F1(s,e){e&&e.pendingBranch?Ne(s)?e.effects.push(...s):e.effects.push(s):Jp(s)}function Rc(s,e){s.activeBranch=e;const{vnode:t,parentComponent:n}=s;let r=e.el;for(;!r&&e.component;)e=e.component.subTree,r=e.el;t.el=r,n&&n.subTree===t&&(n.vnode.el=r,kg(n,r))}function YC(s){const e=s.props&&s.props.suspensible;return e!=null&&e!==!1}const Lt=Symbol.for("v-fgt"),Di=Symbol.for("v-txt"),Qs=Symbol.for("v-cmt"),Nf=Symbol.for("v-stc"),If=[];let ks=null;function $e(s=!1){If.push(ks=s?null:[])}function K1(){If.pop(),ks=If[If.length-1]||null}let $c=1;function Pv(s,e=!1){$c+=s,s<0&&ks&&e&&(ks.hasOnce=!0)}function j1(s){return s.dynamicChildren=$c>0?ks||Ic:null,K1(),$c>0&&ks&&ks.push(s),s}function It(s,e,t,n,r,i){return j1(ne(s,e,t,n,r,i,!0))}function on(s,e,t,n,r){return j1(ye(s,e,t,n,r,!0))}function Fc(s){return s?s.__v_isVNode===!0:!1}function xi(s,e){return s.type===e.type&&s.key===e.key}const J1=({key:s})=>s??null,Qd=({ref:s,ref_key:e,ref_for:t})=>(typeof s=="number"&&(s=""+s),s!=null?wt(s)||pe(s)||Be(s)?{i:Ut,r:s,k:e,f:!!t}:s:null);function ne(s,e=null,t=null,n=0,r=null,i=s===Lt?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:s,props:e,key:e&&J1(e),ref:e&&Qd(e),scopeId:d1,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ut};return o?(Ay(l,t),i&128&&s.normalize(l)):t&&(l.shapeFlag|=wt(t)?8:16),$c>0&&!a&&ks&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ks.push(l),l}const ye=XC;function XC(s,e=null,t=null,n=0,r=null,i=!1){if((!s||s===v1)&&(s=Qs),Fc(s)){const o=Kc(s,e,!0);return t&&Ay(o,t),$c>0&&!i&&ks&&(o.shapeFlag&6?ks[ks.indexOf(s)]=o:ks.push(o)),o.patchFlag=-2,o}if(aN(s)&&(s=s.__vccOpts),e){e=W1(e);let{class:o,style:l}=e;o&&!wt(o)&&(e.class=Ot(o)),st(l)&&(cy(l)&&!Ne(l)&&(l=jt({},l)),e.style=yg(l))}const a=wt(s)?1:M1(s)?128:sC(s)?64:st(s)?4:Be(s)?2:0;return ne(s,e,t,n,r,a,i,!0)}function W1(s){return s?cy(s)||_1(s)?jt({},s):s:null}function Kc(s,e,t=!1,n=!1){const{props:r,ref:i,patchFlag:a,children:o,transition:l}=s,u=e?q1(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:s.type,props:u,key:u&&J1(u),ref:e&&e.ref?t&&i?Ne(i)?i.concat(Qd(e)):[i,Qd(e)]:Qd(e):i,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:o,target:s.target,targetStart:s.targetStart,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:e&&s.type!==Lt?a===-1?16:a|16:a,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:l,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&Kc(s.ssContent),ssFallback:s.ssFallback&&Kc(s.ssFallback),el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce};return l&&n&&hy(c,l.clone(c)),c}function De(s=" ",e=0){return ye(Di,null,s,e)}function QC(s,e){const t=ye(Nf,null,s);return t.staticCount=e,t}function nn(s="",e=!1){return e?($e(),on(Qs,null,s)):ye(Qs,null,s)}function Rs(s){return s==null||typeof s=="boolean"?ye(Qs):Ne(s)?ye(Lt,null,s.slice()):Fc(s)?Ei(s):ye(Di,null,String(s))}function Ei(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:Kc(s)}function Ay(s,e){let t=0;const{shapeFlag:n}=s;if(e==null)e=null;else if(Ne(e))t=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),Ay(s,r()),r._c&&(r._d=!0));return}else{t=32;const r=e._;!r&&!_1(e)?e._ctx=Ut:r===3&&Ut&&(Ut.slots._===1?e._=1:(e._=2,s.patchFlag|=1024))}else Be(e)?(e={default:e,_ctx:Ut},t=32):(e=String(e),n&64?(t=16,e=[De(e)]):t=8);s.children=e,s.shapeFlag|=t}function q1(...s){const e={};for(let t=0;t<s.length;t++){const n=s[t];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=Ot([e.class,n.class]));else if(r==="style")e.style=yg([e.style,n.style]);else if(zf(r)){const i=e[r],a=n[r];a&&i!==a&&!(Ne(i)&&i.includes(a))&&(e[r]=i?[].concat(i,a):a)}else r!==""&&(e[r]=n[r])}return e}function $s(s,e,t,n=null){Ln(s,e,7,[t,n])}const zC=k1();let ZC=0;function eN(s,e,t){const n=s.type,r=(e?e.appContext:s.appContext)||zC,i={uid:ZC++,vnode:s,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new K0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:B1(n,r),emitsOptions:H1(n,r),emit:null,emitted:null,propsDefaults:et,inheritAttrs:n.inheritAttrs,ctx:et,data:et,props:et,attrs:et,slots:et,refs:et,setupState:et,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=UC.bind(null,i),s.ce&&s.ce(i),i}let Dt=null;const td=()=>Dt||Ut;let Hm,Qp;{const s=wg(),e=(t,n)=>{let r;return(r=s[t])||(r=s[t]=[]),r.push(n),i=>{r.length>1?r.forEach(a=>a(i)):r[0](i)}};Hm=e("__VUE_INSTANCE_SETTERS__",t=>Dt=t),Qp=e("__VUE_SSR_SETTERS__",t=>jc=t)}const sd=s=>{const e=Dt;return Hm(s),s.scope.on(),()=>{s.scope.off(),Hm(e)}},Vv=()=>{Dt&&Dt.scope.off(),Hm(null)};function G1(s){return s.vnode.shapeFlag&4}let jc=!1;function tN(s,e=!1,t=!1){e&&Qp(e);const{props:n,children:r}=s.vnode,i=G1(s);EC(s,n,i,e),_C(s,r,t||e);const a=i?sN(s,e):void 0;return e&&Qp(!1),a}function sN(s,e){const t=s.type;s.accessCache=Object.create(null),s.proxy=new Proxy(s.ctx,pC);const{setup:n}=t;if(n){br();const r=s.setupContext=n.length>1?rN(s):null,i=sd(s),a=ed(n,s,0,[s.props,r]),o=L0(a);if(Sr(),i(),(o||s.sp)&&!po(s)&&fy(s),o){if(a.then(Vv,Vv),e)return a.then(l=>{zp(s,l,e)}).catch(l=>{nu(l,s,0)});s.asyncDep=a}else zp(s,a,e)}else Y1(s,e)}function zp(s,e,t){Be(e)?s.type.__ssrInlineRender?s.ssrRender=e:s.render=e:st(e)&&(s.setupState=l1(e)),Y1(s,t)}let Lv;function Y1(s,e,t){const n=s.type;if(!s.render){if(!e&&Lv&&!n.render){const r=n.template||yy(s).template;if(r){const{isCustomElement:i,compilerOptions:a}=s.appContext.config,{delimiters:o,compilerOptions:l}=n,u=jt(jt({isCustomElement:i,delimiters:o},a),l);n.render=Lv(r,u)}}s.render=n.render||fn}{const r=sd(s);br();try{wC(s)}finally{Sr(),r()}}}const nN={get(s,e){return ts(s,"get",""),s[e]}};function rN(s){const e=t=>{s.exposed=t||{}};return{attrs:new Proxy(s.attrs,nN),slots:s.slots,emit:s.emit,expose:e}}function Eg(s){return s.exposed?s.exposeProxy||(s.exposeProxy=new Proxy(l1(KE(s.exposed)),{get(e,t){if(t in e)return e[t];if(t in Cf)return Cf[t](s)},has(e,t){return t in e||t in Cf}})):s.proxy}function iN(s,e=!0){return Be(s)?s.displayName||s.name:s.name||e&&s.__name}function aN(s){return Be(s)&&"__vccOpts"in s}const ss=(s,e)=>XE(s,e,jc);function ky(s,e,t){const n=arguments.length;return n===2?st(e)&&!Ne(e)?Fc(e)?ye(s,null,[e]):ye(s,e):ye(s,null,e):(n>3?t=Array.prototype.slice.call(arguments,2):n===3&&Fc(t)&&(t=[t]),ye(s,e,t))}const X1="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zp;const Dv=typeof window<"u"&&window.trustedTypes;if(Dv)try{Zp=Dv.createPolicy("vue",{createHTML:s=>s})}catch{}const Q1=Zp?s=>Zp.createHTML(s):s=>s,oN="http://www.w3.org/2000/svg",lN="http://www.w3.org/1998/Math/MathML",tr=typeof document<"u"?document:null,Uv=tr&&tr.createElement("template"),cN={insert:(s,e,t)=>{e.insertBefore(s,t||null)},remove:s=>{const e=s.parentNode;e&&e.removeChild(s)},createElement:(s,e,t,n)=>{const r=e==="svg"?tr.createElementNS(oN,s):e==="mathml"?tr.createElementNS(lN,s):t?tr.createElement(s,{is:t}):tr.createElement(s);return s==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:s=>tr.createTextNode(s),createComment:s=>tr.createComment(s),setText:(s,e)=>{s.nodeValue=e},setElementText:(s,e)=>{s.textContent=e},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>tr.querySelector(s),setScopeId(s,e){s.setAttribute(e,"")},insertStaticContent(s,e,t,n,r,i){const a=t?t.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),t),!(r===i||!(r=r.nextSibling)););else{Uv.innerHTML=Q1(n==="svg"?`<svg>${s}</svg>`:n==="mathml"?`<math>${s}</math>`:s);const o=Uv.content;if(n==="svg"||n==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},uN=Symbol("_vtc");function hN(s,e,t){const n=s[uN];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?s.removeAttribute("class"):t?s.setAttribute("class",e):s.className=e}const Hv=Symbol("_vod"),fN=Symbol("_vsh"),dN=Symbol(""),mN=/(^|;)\s*display\s*:/;function gN(s,e,t){const n=s.style,r=wt(t);let i=!1;if(t&&!r){if(e)if(wt(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();t[o]==null&&zd(n,o,"")}else for(const a in e)t[a]==null&&zd(n,a,"");for(const a in t)a==="display"&&(i=!0),zd(n,a,t[a])}else if(r){if(e!==t){const a=n[dN];a&&(t+=";"+a),n.cssText=t,i=mN.test(t)}}else e&&s.removeAttribute("style");Hv in s&&(s[Hv]=i?n.display:"",s[fN]&&(n.display="none"))}const Mv=/\s*!important$/;function zd(s,e,t){if(Ne(t))t.forEach(n=>zd(s,e,n));else if(t==null&&(t=""),e.startsWith("--"))s.setProperty(e,t);else{const n=pN(s,e);Mv.test(t)?s.setProperty(Ro(n),t.replace(Mv,""),"important"):s[n]=t}}const $v=["Webkit","Moz","ms"],Xg={};function pN(s,e){const t=Xg[e];if(t)return t;let n=Xs(e);if(n!=="filter"&&n in s)return Xg[e]=n;n=pg(n);for(let r=0;r<$v.length;r++){const i=$v[r]+n;if(i in s)return Xg[e]=i}return e}const Fv="http://www.w3.org/1999/xlink";function Kv(s,e,t,n,r,i=SE(e)){n&&e.startsWith("xlink:")?t==null?s.removeAttributeNS(Fv,e.slice(6,e.length)):s.setAttributeNS(Fv,e,t):t==null||i&&!H0(t)?s.removeAttribute(e):s.setAttribute(e,i?"":pn(t)?String(t):t)}function jv(s,e,t,n,r){if(e==="innerHTML"||e==="textContent"){t!=null&&(s[e]=e==="innerHTML"?Q1(t):t);return}const i=s.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?s.getAttribute("value")||"":s.value,l=t==null?s.type==="checkbox"?"on":"":String(t);(o!==l||!("_value"in s))&&(s.value=l),t==null&&s.removeAttribute(e),s._value=t;return}let a=!1;if(t===""||t==null){const o=typeof s[e];o==="boolean"?t=H0(t):t==null&&o==="string"?(t="",a=!0):o==="number"&&(t=0,a=!0)}try{s[e]=t}catch{}a&&s.removeAttribute(r||e)}function Bi(s,e,t,n){s.addEventListener(e,t,n)}function wN(s,e,t,n){s.removeEventListener(e,t,n)}const Jv=Symbol("_vei");function yN(s,e,t,n,r=null){const i=s[Jv]||(s[Jv]={}),a=i[e];if(n&&a)a.value=n;else{const[o,l]=vN(e);if(n){const u=i[e]=AN(n,r);Bi(s,o,u,l)}else a&&(wN(s,o,a,l),i[e]=void 0)}}const Wv=/(?:Once|Passive|Capture)$/;function vN(s){let e;if(Wv.test(s)){e={};let n;for(;n=s.match(Wv);)s=s.slice(0,s.length-n[0].length),e[n[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):Ro(s.slice(2)),e]}let Qg=0;const bN=Promise.resolve(),SN=()=>Qg||(bN.then(()=>Qg=0),Qg=Date.now());function AN(s,e){const t=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=t.attached)return;Ln(kN(n,t.value),e,5,[n])};return t.value=s,t.attached=SN(),t}function kN(s,e){if(Ne(e)){const t=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{t.call(s),s._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const qv=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)>96&&s.charCodeAt(2)<123,EN=(s,e,t,n,r,i)=>{const a=r==="svg";e==="class"?hN(s,n,a):e==="style"?gN(s,t,n):zf(e)?Zw(e)||yN(s,e,t,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):CN(s,e,n,a))?(jv(s,e,n),!s.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Kv(s,e,n,a,i,e!=="value")):s._isVueCE&&(/[A-Z]/.test(e)||!wt(n))?jv(s,Xs(e),n,i,e):(e==="true-value"?s._trueValue=n:e==="false-value"&&(s._falseValue=n),Kv(s,e,n,a))};function CN(s,e,t,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in s&&qv(e)&&Be(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&s.tagName==="INPUT"||e==="type"&&s.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=s.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return qv(e)&&wt(t)?!1:e in s}const Jc=s=>{const e=s.props["onUpdate:modelValue"]||!1;return Ne(e)?t=>Xd(e,t):e};function NN(s){s.target.composing=!0}function Gv(s){const e=s.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const pr=Symbol("_assign"),Yv={created(s,{modifiers:{lazy:e,trim:t,number:n}},r){s[pr]=Jc(r);const i=n||r.props&&r.props.type==="number";Bi(s,e?"change":"input",a=>{if(a.target.composing)return;let o=s.value;t&&(o=o.trim()),i&&(o=Mp(o)),s[pr](o)}),t&&Bi(s,"change",()=>{s.value=s.value.trim()}),e||(Bi(s,"compositionstart",NN),Bi(s,"compositionend",Gv),Bi(s,"change",Gv))},mounted(s,{value:e}){s.value=e??""},beforeUpdate(s,{value:e,oldValue:t,modifiers:{lazy:n,trim:r,number:i}},a){if(s[pr]=Jc(a),s.composing)return;const o=(i||s.type==="number")&&!/^0\d/.test(s.value)?Mp(s.value):s.value,l=e??"";o!==l&&(document.activeElement===s&&s.type!=="range"&&(n&&e===t||r&&s.value.trim()===l)||(s.value=l))}},$o={deep:!0,created(s,e,t){s[pr]=Jc(t),Bi(s,"change",()=>{const n=s._modelValue,r=z1(s),i=s.checked,a=s[pr];if(Ne(n)){const o=M0(n,r),l=o!==-1;if(i&&!l)a(n.concat(r));else if(!i&&l){const u=[...n];u.splice(o,1),a(u)}}else if(mg(n)){const o=new Set(n);i?o.add(r):o.delete(r),a(o)}else a(Z1(s,i))})},mounted:Xv,beforeUpdate(s,e,t){s[pr]=Jc(t),Xv(s,e,t)}};function Xv(s,{value:e,oldValue:t},n){s._modelValue=e;let r;if(Ne(e))r=M0(e,n.props.value)>-1;else if(mg(e))r=e.has(n.props.value);else{if(e===t)return;r=Mc(e,Z1(s,!0))}s.checked!==r&&(s.checked=r)}const Fo={created(s,{value:e},t){s.checked=Mc(e,t.props.value),s[pr]=Jc(t),Bi(s,"change",()=>{s[pr](z1(s))})},beforeUpdate(s,{value:e,oldValue:t},n){s[pr]=Jc(n),e!==t&&(s.checked=Mc(e,n.props.value))}};function z1(s){return"_value"in s?s._value:s.value}function Z1(s,e){const t=e?"_trueValue":"_falseValue";return t in s?s[t]:e}const IN=["ctrl","shift","alt","meta"],_N={stop:s=>s.stopPropagation(),prevent:s=>s.preventDefault(),self:s=>s.target!==s.currentTarget,ctrl:s=>!s.ctrlKey,shift:s=>!s.shiftKey,alt:s=>!s.altKey,meta:s=>!s.metaKey,left:s=>"button"in s&&s.button!==0,middle:s=>"button"in s&&s.button!==1,right:s=>"button"in s&&s.button!==2,exact:(s,e)=>IN.some(t=>s[`${t}Key`]&&!e.includes(t))},aa=(s,e)=>{const t=s._withMods||(s._withMods={}),n=e.join(".");return t[n]||(t[n]=(r,...i)=>{for(let a=0;a<e.length;a++){const o=_N[e[a]];if(o&&o(r,e))return}return s(r,...i)})},eS=jt({patchProp:EN},cN);let _f,Qv=!1;function xN(){return _f||(_f=BC(eS))}function BN(){return _f=Qv?_f:TC(eS),Qv=!0,_f}const TN=(...s)=>{const e=xN().createApp(...s),{mount:t}=e;return e.mount=n=>{const r=sS(n);if(!r)return;const i=e._component;!Be(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=t(r,!1,tS(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e},RN=(...s)=>{const e=BN().createApp(...s),{mount:t}=e;return e.mount=n=>{const r=sS(n);if(r)return t(r,!0,tS(r))},e};function tS(s){if(s instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&s instanceof MathMLElement)return"mathml"}function sS(s){return wt(s)?document.querySelector(s):s}const ON=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,PN=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,VN=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function LN(s,e){if(s==="__proto__"||s==="constructor"&&e&&typeof e=="object"&&"prototype"in e){DN(s);return}return e}function DN(s){console.warn(`[destr] Dropping "${s}" key to prevent prototype pollution.`)}function Uf(s,e={}){if(typeof s!="string")return s;if(s[0]==='"'&&s[s.length-1]==='"'&&s.indexOf("\\")===-1)return s.slice(1,-1);const t=s.trim();if(t.length<=9)switch(t.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!VN.test(s)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return s}try{if(ON.test(s)||PN.test(s)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(s,LN)}return JSON.parse(s)}catch(n){if(e.strict)throw n;return s}}const UN=/#/g,HN=/&/g,MN=/\//g,$N=/=/g,Ey=/\+/g,FN=/%5e/gi,KN=/%60/gi,jN=/%7c/gi,JN=/%20/gi;function WN(s){return encodeURI(""+s).replace(jN,"|")}function ew(s){return WN(typeof s=="string"?s:JSON.stringify(s)).replace(Ey,"%2B").replace(JN,"+").replace(UN,"%23").replace(HN,"%26").replace(KN,"`").replace(FN,"^").replace(MN,"%2F")}function zg(s){return ew(s).replace($N,"%3D")}function Mm(s=""){try{return decodeURIComponent(""+s)}catch{return""+s}}function qN(s){return Mm(s.replace(Ey," "))}function GN(s){return Mm(s.replace(Ey," "))}function Cy(s=""){const e=Object.create(null);s[0]==="?"&&(s=s.slice(1));for(const t of s.split("&")){const n=t.match(/([^=]+)=?(.*)/)||[];if(n.length<2)continue;const r=qN(n[1]);if(r==="__proto__"||r==="constructor")continue;const i=GN(n[2]||"");e[r]===void 0?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]}return e}function YN(s,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(t=>`${zg(s)}=${ew(t)}`).join("&"):`${zg(s)}=${ew(e)}`:zg(s)}function nS(s){return Object.keys(s).filter(e=>s[e]!==void 0).map(e=>YN(e,s[e])).filter(Boolean).join("&")}const XN=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,QN=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,zN=/^([/\\]\s*){2,}[^/\\]/,ZN=/^[\s\0]*(blob|data|javascript|vbscript):$/i,eI=/\/$|\/\?|\/#/,tI=/^\.?\//;function Oo(s,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?XN.test(s):QN.test(s)||(e.acceptRelative?zN.test(s):!1)}function sI(s){return!!s&&ZN.test(s)}function tw(s="",e){return e?eI.test(s):s.endsWith("/")}function Ny(s="",e){if(!e)return(tw(s)?s.slice(0,-1):s)||"/";if(!tw(s,!0))return s||"/";let t=s,n="";const r=s.indexOf("#");r!==-1&&(t=s.slice(0,r),n=s.slice(r));const[i,...a]=t.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(a.length>0?`?${a.join("?")}`:"")+n}function $m(s="",e){if(!e)return s.endsWith("/")?s:s+"/";if(tw(s,!0))return s||"/";let t=s,n="";const r=s.indexOf("#");if(r!==-1&&(t=s.slice(0,r),n=s.slice(r),!t))return n;const[i,...a]=t.split("?");return i+"/"+(a.length>0?`?${a.join("?")}`:"")+n}function nI(s=""){return s.startsWith("/")}function zv(s=""){return nI(s)?s:"/"+s}function rI(s,e){if(iS(e)||Oo(s))return s;const t=Ny(e);return s.startsWith(t)?s:yn(t,s)}function iI(s,e){if(iS(e))return s;const t=Ny(e);if(!s.startsWith(t))return s;const n=s.slice(t.length);return n[0]==="/"?n:"/"+n}function rS(s,e){const t=nd(s),n={...Cy(t.search),...e};return t.search=nS(n),oS(t)}function iS(s){return!s||s==="/"}function aI(s){return s&&s!=="/"}function yn(s,...e){let t=s||"";for(const n of e.filter(r=>aI(r)))if(t){const r=n.replace(tI,"");t=$m(t)+r}else t=n;return t}function sw(s,e,t={}){return t.trailingSlash||(s=$m(s),e=$m(e)),t.leadingSlash||(s=zv(s),e=zv(e)),t.encoding||(s=Mm(s),e=Mm(e)),s===e}const aS=Symbol.for("ufo:protocolRelative");function nd(s="",e){const t=s.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(t){const[,h,f=""]=t;return{protocol:h.toLowerCase(),pathname:f,href:h+f,auth:"",host:"",search:"",hash:""}}if(!Oo(s,{acceptRelative:!0}))return e?nd(e+s):nw(s);const[,n="",r,i=""]=s.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,a="",o=""]=i.match(/([^#/?]*)(.*)?/)||[];n==="file:"&&(o=o.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:u,hash:c}=nw(o);return{protocol:n.toLowerCase(),auth:r?r.slice(0,Math.max(0,r.length-1)):"",host:a,pathname:l,search:u,hash:c,[aS]:!n}}function nw(s=""){const[e="",t="",n=""]=(s.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:t,hash:n}}function oS(s){const e=s.pathname||"",t=s.search?(s.search.startsWith("?")?"":"?")+s.search:"",n=s.hash||"",r=s.auth?s.auth+"@":"",i=s.host||"";return(s.protocol||s[aS]?(s.protocol||"")+"//":"")+r+i+e+t+n}class oI extends Error{constructor(e,t){super(e,t),this.name="FetchError",t!=null&&t.cause&&!this.cause&&(this.cause=t.cause)}}function lI(s){var l,u,c,h,f;const e=((l=s.error)==null?void 0:l.message)||((u=s.error)==null?void 0:u.toString())||"",t=((c=s.request)==null?void 0:c.method)||((h=s.options)==null?void 0:h.method)||"GET",n=((f=s.request)==null?void 0:f.url)||String(s.request)||"/",r=`[${t}] ${JSON.stringify(n)}`,i=s.response?`${s.response.status} ${s.response.statusText}`:"<no response>",a=`${r}: ${i}${e?` ${e}`:""}`,o=new oI(a,s.error?{cause:s.error}:void 0);for(const m of["request","options","response"])Object.defineProperty(o,m,{get(){return s[m]}});for(const[m,b]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(o,m,{get(){return s.response&&s.response[b]}});return o}const cI=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Zv(s="GET"){return cI.has(s.toUpperCase())}function uI(s){if(s===void 0)return!1;const e=typeof s;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(s)?!0:s.buffer?!1:s.constructor&&s.constructor.name==="Object"||typeof s.toJSON=="function"}const hI=new Set(["image/svg","application/xml","application/xhtml","application/html"]),fI=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function dI(s=""){if(!s)return"json";const e=s.split(";").shift()||"";return fI.test(e)?"json":hI.has(e)||e.startsWith("text/")?"text":"blob"}function mI(s,e,t,n){const r=gI((e==null?void 0:e.headers)??(s==null?void 0:s.headers),t==null?void 0:t.headers,n);let i;return(t!=null&&t.query||t!=null&&t.params||e!=null&&e.params||e!=null&&e.query)&&(i={...t==null?void 0:t.params,...t==null?void 0:t.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...t,...e,query:i,params:i,headers:r}}function gI(s,e,t){if(!e)return new t(s);const n=new t(e);if(s)for(const[r,i]of Symbol.iterator in s||Array.isArray(s)?s:new t(s))n.set(r,i);return n}async function dd(s,e){if(e)if(Array.isArray(e))for(const t of e)await t(s);else await e(s)}const pI=new Set([408,409,425,429,500,502,503,504]),wI=new Set([101,204,205,304]);function lS(s={}){const{fetch:e=globalThis.fetch,Headers:t=globalThis.Headers,AbortController:n=globalThis.AbortController}=s;async function r(o){const l=o.error&&o.error.name==="AbortError"&&!o.options.timeout||!1;if(o.options.retry!==!1&&!l){let c;typeof o.options.retry=="number"?c=o.options.retry:c=Zv(o.options.method)?0:1;const h=o.response&&o.response.status||500;if(c>0&&(Array.isArray(o.options.retryStatusCodes)?o.options.retryStatusCodes.includes(h):pI.has(h))){const f=typeof o.options.retryDelay=="function"?o.options.retryDelay(o):o.options.retryDelay||0;return f>0&&await new Promise(m=>setTimeout(m,f)),i(o.request,{...o.options,retry:c-1})}}const u=lI(o);throw Error.captureStackTrace&&Error.captureStackTrace(u,i),u}const i=async function(l,u={}){const c={request:l,options:mI(l,u,s.defaults,t),response:void 0,error:void 0};c.options.method&&(c.options.method=c.options.method.toUpperCase()),c.options.onRequest&&await dd(c,c.options.onRequest),typeof c.request=="string"&&(c.options.baseURL&&(c.request=rI(c.request,c.options.baseURL)),c.options.query&&(c.request=rS(c.request,c.options.query),delete c.options.query),"query"in c.options&&delete c.options.query,"params"in c.options&&delete c.options.params),c.options.body&&Zv(c.options.method)&&(uI(c.options.body)?(c.options.body=typeof c.options.body=="string"?c.options.body:JSON.stringify(c.options.body),c.options.headers=new t(c.options.headers||{}),c.options.headers.has("content-type")||c.options.headers.set("content-type","application/json"),c.options.headers.has("accept")||c.options.headers.set("accept","application/json")):("pipeTo"in c.options.body&&typeof c.options.body.pipeTo=="function"||typeof c.options.body.pipe=="function")&&("duplex"in c.options||(c.options.duplex="half")));let h;if(!c.options.signal&&c.options.timeout){const m=new n;h=setTimeout(()=>{const b=new Error("[TimeoutError]: The operation was aborted due to timeout");b.name="TimeoutError",b.code=23,m.abort(b)},c.options.timeout),c.options.signal=m.signal}try{c.response=await e(c.request,c.options)}catch(m){return c.error=m,c.options.onRequestError&&await dd(c,c.options.onRequestError),await r(c)}finally{h&&clearTimeout(h)}if((c.response.body||c.response._bodyInit)&&!wI.has(c.response.status)&&c.options.method!=="HEAD"){const m=(c.options.parseResponse?"json":c.options.responseType)||dI(c.response.headers.get("content-type")||"");switch(m){case"json":{const b=await c.response.text(),A=c.options.parseResponse||Uf;c.response._data=A(b);break}case"stream":{c.response._data=c.response.body||c.response._bodyInit;break}default:c.response._data=await c.response[m]()}}return c.options.onResponse&&await dd(c,c.options.onResponse),!c.options.ignoreResponseError&&c.response.status>=400&&c.response.status<600?(c.options.onResponseError&&await dd(c,c.options.onResponseError),await r(c)):c.response},a=async function(l,u){return(await i(l,u))._data};return a.raw=i,a.native=(...o)=>e(...o),a.create=(o={},l={})=>lS({...s,...l,defaults:{...s.defaults,...l.defaults,...o}}),a}const Fm=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),yI=Fm.fetch?(...s)=>Fm.fetch(...s):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),vI=Fm.Headers,bI=Fm.AbortController,SI=lS({fetch:yI,Headers:vI,AbortController:bI}),AI=SI,kI=()=>{var s;return((s=window==null?void 0:window.__NUXT__)==null?void 0:s.config)||{}},Km=kI().app,EI=()=>Km.baseURL,CI=()=>Km.buildAssetsDir,NI=(...s)=>yn(cS(),CI(),...s),cS=(...s)=>{const e=Km.cdnURL||Km.baseURL;return s.length?yn(e,...s):e};globalThis.__buildAssetsURL=NI,globalThis.__publicAssetsURL=cS;function rw(s,e={},t){for(const n in s){const r=s[n],i=t?`${t}:${n}`:n;typeof r=="object"&&r!==null?rw(r,e,i):typeof r=="function"&&(e[i]=r)}return e}const II={run:s=>s()},_I=()=>II,uS=typeof console.createTask<"u"?console.createTask:_I;function xI(s,e){const t=e.shift(),n=uS(t);return s.reduce((r,i)=>r.then(()=>n.run(()=>i(...e))),Promise.resolve())}function BI(s,e){const t=e.shift(),n=uS(t);return Promise.all(s.map(r=>n.run(()=>r(...e))))}function Zg(s,e){for(const t of[...s])t(e)}class TI{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,n={}){if(!e||typeof t!="function")return()=>{};const r=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!n.allowDeprecated){let a=i.message;a||(a=`${r} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(a)||(console.warn(a),this._deprecatedMessages.add(a))}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let n,r=(...i)=>(typeof n=="function"&&n(),n=void 0,r=void 0,t(...i));return n=this.hook(e,r),n}removeHook(e,t){if(this._hooks[e]){const n=this._hooks[e].indexOf(t);n!==-1&&this._hooks[e].splice(n,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,t){this._deprecatedHooks[e]=typeof t=="string"?{to:t}:t;const n=this._hooks[e]||[];delete this._hooks[e];for(const r of n)this.hook(e,r)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=rw(e),n=Object.keys(t).map(r=>this.hook(r,t[r]));return()=>{for(const r of n.splice(0,n.length))r()}}removeHooks(e){const t=rw(e);for(const n in t)this.removeHook(n,t[n])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...t){return t.unshift(e),this.callHookWith(xI,e,...t)}callHookParallel(e,...t){return t.unshift(e),this.callHookWith(BI,e,...t)}callHookWith(e,t,...n){const r=this._before||this._after?{name:t,args:n,context:{}}:void 0;this._before&&Zg(this._before,r);const i=e(t in this._hooks?[...this._hooks[t]]:[],n);return i instanceof Promise?i.finally(()=>{this._after&&r&&Zg(this._after,r)}):(this._after&&r&&Zg(this._after,r),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const t=this._before.indexOf(e);t!==-1&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const t=this._after.indexOf(e);t!==-1&&this._after.splice(t,1)}}}}function hS(){return new TI}function RI(s={}){let e,t=!1;const n=a=>{if(e&&e!==a)throw new Error("Context conflict")};let r;if(s.asyncContext){const a=s.AsyncLocalStorage||globalThis.AsyncLocalStorage;a?r=new a:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const i=()=>{if(r){const a=r.getStore();if(a!==void 0)return a}return e};return{use:()=>{const a=i();if(a===void 0)throw new Error("Context is not available");return a},tryUse:()=>i(),set:(a,o)=>{o||n(a),e=a,t=!0},unset:()=>{e=void 0,t=!1},call:(a,o)=>{n(a),e=a;try{return r?r.run(a,o):o()}finally{t||(e=void 0)}},async callAsync(a,o){e=a;const l=()=>{e=a},u=()=>e===a?l:void 0;iw.add(u);try{const c=r?r.run(a,o):o();return t||(e=void 0),await c}finally{iw.delete(u)}}}}function OI(s={}){const e={};return{get(t,n={}){return e[t]||(e[t]=RI({...s,...n})),e[t]}}}const jm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},eb="__unctx__",PI=jm[eb]||(jm[eb]=OI()),VI=(s,e={})=>PI.get(s,e),tb="__unctx_async_handlers__",iw=jm[tb]||(jm[tb]=new Set);function oo(s){const e=[];for(const r of iw){const i=r();i&&e.push(i)}const t=()=>{for(const r of e)r()};let n=s();return n&&typeof n=="object"&&"catch"in n&&(n=n.catch(r=>{throw t(),r})),[n,t]}const fS=VI("nuxt-app",{asyncContext:!1}),LI="__nuxt_plugin";function DI(s){let e=0;const t={_scope:sy(),provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.8.0"},get vue(){return t.vueApp.version}},payload:Ar({data:{},state:{},_errors:{},...window.__NUXT__??{}}),static:{data:{}},runWithContext:r=>t._scope.run(()=>MI(t,r)),isHydrating:!0,deferHydration(){if(!t.isHydrating)return()=>{};e++;let r=!1;return()=>{if(!r&&(r=!0,e--,e===0))return t.isHydrating=!1,t.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:{},_payloadRevivers:{},...s};t.hooks=hS(),t.hook=t.hooks.hook,t.callHook=t.hooks.callHook,t.provide=(r,i)=>{const a="$"+r;md(t,a,i),md(t.vueApp.config.globalProperties,a,i)},md(t.vueApp,"$nuxt",t),md(t.vueApp.config.globalProperties,"$nuxt",t);{window.addEventListener("nuxt.preloadError",i=>{t.callHook("app:chunkError",{error:i.payload})}),window.useNuxtApp=window.useNuxtApp||nt;const r=t.hook("app:error",(...i)=>{console.error("[nuxt] error caught during app initialization",...i)});t.hook("app:mounted",r)}const n=Ar(t.payload.config);return t.provide("config",n),t}async function UI(s,e){if(e.hooks&&s.hooks.addHooks(e.hooks),typeof e=="function"){const{provide:t}=await s.runWithContext(()=>e(s))||{};if(t&&typeof t=="object")for(const n in t)s.provide(n,t[n])}}async function HI(s,e){const t=[],n=[];for(const r of e){const i=UI(s,r);r.parallel?t.push(i.catch(a=>n.push(a))):await i}if(await Promise.all(t),n.length)throw n[0]}/*! @__NO_SIDE_EFFECTS__ */function Nr(s){return typeof s=="function"?s:(delete s.name,Object.assign(s.setup||(()=>{}),s,{[LI]:!0}))}function MI(s,e,t){const n=()=>t?e(...t):e();return fS.set(s),s.vueApp.runWithContext(n)}/*! @__NO_SIDE_EFFECTS__ */function nt(){var e;let s;if(C1()&&(s=(e=td())==null?void 0:e.appContext.app.$nuxt),s=s||fS.tryUse(),!s)throw new Error("[nuxt] instance unavailable");return s}/*! @__NO_SIDE_EFFECTS__ */function ns(){return nt().$config}function md(s,e,t){Object.defineProperty(s,e,{get:()=>t})}const $I="modulepreload",FI=function(s,e){return s[0]==="."?new URL(s,e).href:s},sb={},KI=function(e,t,n){if(!t||t.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(i=>{if(i=FI(i,n),i in sb)return;sb[i]=!0;const a=i.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!n)for(let c=r.length-1;c>=0;c--){const h=r[c];if(h.href===i&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":$I,a||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),a)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},aw=(...s)=>KI(...s).catch(e=>{const t=new Event("nuxt.preloadError");throw t.payload=e,window.dispatchEvent(t),e}),jI=-1,JI=-2,WI=-3,qI=-4,GI=-5,YI=-6;function XI(s,e){return QI(JSON.parse(s),e)}function QI(s,e){if(typeof s=="number")return r(s,!0);if(!Array.isArray(s)||s.length===0)throw new Error("Invalid input");const t=s,n=Array(t.length);function r(i,a=!1){if(i===jI)return;if(i===WI)return NaN;if(i===qI)return 1/0;if(i===GI)return-1/0;if(i===YI)return-0;if(a)throw new Error("Invalid input");if(i in n)return n[i];const o=t[i];if(!o||typeof o!="object")n[i]=o;else if(Array.isArray(o))if(typeof o[0]=="string"){const l=o[0],u=e==null?void 0:e[l];if(u)return n[i]=u(r(o[1]));switch(l){case"Date":n[i]=new Date(o[1]);break;case"Set":const c=new Set;n[i]=c;for(let m=1;m<o.length;m+=1)c.add(r(o[m]));break;case"Map":const h=new Map;n[i]=h;for(let m=1;m<o.length;m+=2)h.set(r(o[m]),r(o[m+1]));break;case"RegExp":n[i]=new RegExp(o[1],o[2]);break;case"Object":n[i]=Object(o[1]);break;case"BigInt":n[i]=BigInt(o[1]);break;case"null":const f=Object.create(null);n[i]=f;for(let m=1;m<o.length;m+=2)f[o[m]]=r(o[m+1]);break;default:throw new Error(`Unknown type ${l}`)}}else{const l=new Array(o.length);n[i]=l;for(let u=0;u<o.length;u+=1){const c=o[u];c!==JI&&(l[u]=r(c))}}else{const l={};n[i]=l;for(const u in o){const c=o[u];l[u]=r(c)}}return n[i]}return r(0)}const zI=new Set(["title","titleTemplate","script","style","noscript"]),Zd=new Set(["base","meta","link","style","script","noscript"]),ZI=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),e_=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),dS=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),t_=typeof window<"u";function Jm(s){let e=9;for(let t=0;t<s.length;)e=Math.imul(e^s.charCodeAt(t++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function ow(s){if(s._h)return s._h;if(s._d)return Jm(s._d);let e=`${s.tag}:${s.textContent||s.innerHTML||""}:`;for(const t in s.props)e+=`${t}:${String(s.props[t])},`;return Jm(e)}function s_(s,e){return s instanceof Promise?s.then(e):e(s)}function lw(s,e,t,n){const r=n||gS(typeof e=="object"&&typeof e!="function"&&!(e instanceof Promise)?{...e}:{[s==="script"||s==="noscript"||s==="style"?"innerHTML":"textContent"]:e},s==="templateParams"||s==="titleTemplate");if(r instanceof Promise)return r.then(a=>lw(s,e,t,a));const i={tag:s,props:r};for(const a of dS){const o=i.props[a]!==void 0?i.props[a]:t[a];o!==void 0&&((!(a==="innerHTML"||a==="textContent"||a==="children")||zI.has(i.tag))&&(i[a==="children"?"innerHTML":a]=o),delete i.props[a])}return i.props.body&&(i.tagPosition="bodyClose",delete i.props.body),i.tag==="script"&&typeof i.innerHTML=="object"&&(i.innerHTML=JSON.stringify(i.innerHTML),i.props.type=i.props.type||"application/json"),Array.isArray(i.props.content)?i.props.content.map(a=>({...i,props:{...i.props,content:a}})):i}function n_(s,e){var n;const t=s==="class"?" ":";";return e&&typeof e=="object"&&!Array.isArray(e)&&(e=Object.entries(e).filter(([,r])=>r).map(([r,i])=>s==="style"?`${r}:${i}`:r)),(n=String(Array.isArray(e)?e.join(t):e))==null?void 0:n.split(t).filter(r=>!!r.trim()).join(t)}function mS(s,e,t,n){for(let r=n;r<t.length;r+=1){const i=t[r];if(i==="class"||i==="style"){s[i]=n_(i,s[i]);continue}if(s[i]instanceof Promise)return s[i].then(a=>(s[i]=a,mS(s,e,t,r)));if(!e&&!dS.has(i)){const a=String(s[i]),o=i.startsWith("data-");a==="true"||a===""?s[i]=o?"true":!0:s[i]||(o&&a==="false"?s[i]="false":delete s[i])}}}function gS(s,e=!1){const t=mS(s,e,Object.keys(s),0);return t instanceof Promise?t.then(()=>s):s}const r_=10;function pS(s,e,t){for(let n=t;n<e.length;n+=1){const r=e[n];if(r instanceof Promise)return r.then(i=>(e[n]=i,pS(s,e,n)));Array.isArray(r)?s.push(...r):s.push(r)}}function i_(s){const e=[],t=s.resolvedInput;for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const i=t[r];if(!(i===void 0||!ZI.has(r))){if(Array.isArray(i)){for(const a of i)e.push(lw(r,a,s));continue}e.push(lw(r,i,s))}}if(e.length===0)return[];const n=[];return s_(pS(n,e,0),()=>n.map((r,i)=>(r._e=s._i,s.mode&&(r._m=s.mode),r._p=(s._i<<r_)+i,r)))}const nb=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),rb={base:-10,title:10},ib={critical:-80,high:-10,low:20};function Wm(s){const e=s.tagPriority;if(typeof e=="number")return e;let t=100;return s.tag==="meta"?s.props["http-equiv"]==="content-security-policy"?t=-30:s.props.charset?t=-20:s.props.name==="viewport"&&(t=-15):s.tag==="link"&&s.props.rel==="preconnect"?t=20:s.tag in rb&&(t=rb[s.tag]),e&&e in ib?t+ib[e]:t}const a_=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],o_=["name","property","http-equiv"];function wS(s){const{props:e,tag:t}=s;if(e_.has(t))return t;if(t==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(e.id)return`${t}:id:${e.id}`;for(const n of o_)if(e[n]!==void 0)return`${t}:${n}:${e[n]}`;return!1}const Ci="%separator";function l_(s,e,t=!1){var r;let n;if(e==="s"||e==="pageTitle")n=s.pageTitle;else if(e.includes(".")){const i=e.indexOf(".");n=(r=s[e.substring(0,i)])==null?void 0:r[e.substring(i+1)]}else n=s[e];if(n!==void 0)return t?(n||"").replace(/"/g,'\\"'):n||""}const c_=new RegExp(`${Ci}(?:\\s*${Ci})*`,"g");function gd(s,e,t,n=!1){if(typeof s!="string"||!s.includes("%"))return s;let r=s;try{r=decodeURI(s)}catch{}const i=r.match(/%\w+(?:\.\w+)?/g);if(!i)return s;const a=s.includes(Ci);return s=s.replace(/%\w+(?:\.\w+)?/g,o=>{if(o===Ci||!i.includes(o))return o;const l=l_(e,o.slice(1),n);return l!==void 0?l:o}).trim(),a&&(s.endsWith(Ci)&&(s=s.slice(0,-Ci.length)),s.startsWith(Ci)&&(s=s.slice(Ci.length)),s=s.replace(c_,t).trim()),s}function ab(s,e){return s==null?e||null:typeof s=="function"?s(e):s}async function yS(s,e={}){const t=e.document||s.resolvedOptions.document;if(!t||!s.dirty)return;const n={shouldRender:!0,tags:[]};if(await s.hooks.callHook("dom:beforeRender",n),!!n.shouldRender)return s._domUpdatePromise||(s._domUpdatePromise=new Promise(async r=>{var h;const i=(await s.resolveTags()).map(f=>({tag:f,id:Zd.has(f.tag)?ow(f):f.tag,shouldRender:!0}));let a=s._dom;if(!a){a={elMap:{htmlAttrs:t.documentElement,bodyAttrs:t.body}};const f=new Set;for(const m of["body","head"]){const b=(h=t[m])==null?void 0:h.children;for(const A of b){const k=A.tagName.toLowerCase();if(!Zd.has(k))continue;const x={tag:k,props:await gS(A.getAttributeNames().reduce((N,_)=>({...N,[_]:A.getAttribute(_)}),{})),innerHTML:A.innerHTML},R=wS(x);let g=R,v=1;for(;g&&f.has(g);)g=`${R}:${v++}`;g&&(x._d=g,f.add(g)),a.elMap[A.getAttribute("data-hid")||ow(x)]=A}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function o(f,m,b){const A=`${f}:${m}`;a.sideEffects[A]=b,delete a.pendingSideEffects[A]}function l({id:f,$el:m,tag:b}){const A=b.tag.endsWith("Attrs");if(a.elMap[f]=m,A||(b.textContent&&b.textContent!==m.textContent&&(m.textContent=b.textContent),b.innerHTML&&b.innerHTML!==m.innerHTML&&(m.innerHTML=b.innerHTML),o(f,"el",()=>{var k;(k=a.elMap[f])==null||k.remove(),delete a.elMap[f]})),b._eventHandlers)for(const k in b._eventHandlers)Object.prototype.hasOwnProperty.call(b._eventHandlers,k)&&m.getAttribute(`data-${k}`)!==""&&((b.tag==="bodyAttrs"?t.defaultView:m).addEventListener(k.substring(2),b._eventHandlers[k].bind(m)),m.setAttribute(`data-${k}`,""));for(const k in b.props){if(!Object.prototype.hasOwnProperty.call(b.props,k))continue;const x=b.props[k],R=`attr:${k}`;if(k==="class"){if(!x)continue;for(const g of x.split(" "))A&&o(f,`${R}:${g}`,()=>m.classList.remove(g)),!m.classList.contains(g)&&m.classList.add(g)}else if(k==="style"){if(!x)continue;for(const g of x.split(";")){const v=g.indexOf(":"),N=g.substring(0,v).trim(),_=g.substring(v+1).trim();o(f,`${R}:${N}`,()=>{m.style.removeProperty(N)}),m.style.setProperty(N,_)}}else m.getAttribute(k)!==x&&m.setAttribute(k,x===!0?"":String(x)),A&&o(f,R,()=>m.removeAttribute(k))}}const u=[],c={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const f of i){const{tag:m,shouldRender:b,id:A}=f;if(b){if(m.tag==="title"){t.title=m.textContent;continue}f.$el=f.$el||a.elMap[A],f.$el?l(f):Zd.has(m.tag)&&u.push(f)}}for(const f of u){const m=f.tag.tagPosition||"head";f.$el=t.createElement(f.tag.tag),l(f),c[m]=c[m]||t.createDocumentFragment(),c[m].appendChild(f.$el)}for(const f of i)await s.hooks.callHook("dom:renderTag",f,t,o);c.head&&t.head.appendChild(c.head),c.bodyOpen&&t.body.insertBefore(c.bodyOpen,t.body.firstChild),c.bodyClose&&t.body.appendChild(c.bodyClose);for(const f in a.pendingSideEffects)a.pendingSideEffects[f]();s._dom=a,await s.hooks.callHook("dom:rendered",{renders:i}),r()}).finally(()=>{s._domUpdatePromise=void 0,s.dirty=!1})),s._domUpdatePromise}function u_(s,e={}){const t=e.delayFn||(n=>setTimeout(n,10));return s._domDebouncedUpdatePromise=s._domDebouncedUpdatePromise||new Promise(n=>t(()=>yS(s,e).then(()=>{delete s._domDebouncedUpdatePromise,n()})))}function h_(s){return e=>{var n,r;const t=((r=(n=e.resolvedOptions.document)==null?void 0:n.head.querySelector('script[id="unhead:payload"]'))==null?void 0:r.innerHTML)||!1;return t&&e.push(JSON.parse(t)),{mode:"client",hooks:{"entries:updated":i=>{u_(i,s)}}}}}const f_=new Set(["templateParams","htmlAttrs","bodyAttrs"]),d_={hooks:{"tag:normalise":({tag:s})=>{s.props.hid&&(s.key=s.props.hid,delete s.props.hid),s.props.vmid&&(s.key=s.props.vmid,delete s.props.vmid),s.props.key&&(s.key=s.props.key,delete s.props.key);const e=wS(s);e&&!e.startsWith("meta:og:")&&!e.startsWith("meta:twitter:")&&delete s.key;const t=e||(s.key?`${s.tag}:${s.key}`:!1);t&&(s._d=t)},"tags:resolve":s=>{const e=Object.create(null);for(const n of s.tags){const r=(n.key?`${n.tag}:${n.key}`:n._d)||ow(n),i=e[r];if(i){let o=n==null?void 0:n.tagDuplicateStrategy;if(!o&&f_.has(n.tag)&&(o="merge"),o==="merge"){const l=i.props;l.style&&n.props.style&&(l.style[l.style.length-1]!==";"&&(l.style+=";"),n.props.style=`${l.style} ${n.props.style}`),l.class&&n.props.class?n.props.class=`${l.class} ${n.props.class}`:l.class&&(n.props.class=l.class),e[r].props={...l,...n.props};continue}else if(n._e===i._e){i._duped=i._duped||[],n._d=`${i._d}:${i._duped.length+1}`,i._duped.push(n);continue}else if(Wm(n)>Wm(i))continue}if(!(n.innerHTML||n.textContent||Object.keys(n.props).length!==0)&&Zd.has(n.tag)){delete e[r];continue}e[r]=n}const t=[];for(const n in e){const r=e[n],i=r._duped;t.push(r),i&&(delete r._duped,t.push(...i))}s.tags=t,s.tags=s.tags.filter(n=>!(n.tag==="meta"&&(n.props.name||n.props.property)&&!n.props.content))}}},m_=new Set(["script","link","bodyAttrs"]),g_=s=>({hooks:{"tags:resolve":e=>{for(const t of e.tags){if(!m_.has(t.tag))continue;const n=t.props;for(const r in n){if(r[0]!=="o"||r[1]!=="n"||!Object.prototype.hasOwnProperty.call(n,r))continue;const i=n[r];typeof i=="function"&&(s.ssr&&nb.has(r)?n[r]=`this.dataset.${r}fired = true`:delete n[r],t._eventHandlers=t._eventHandlers||{},t._eventHandlers[r]=i)}s.ssr&&t._eventHandlers&&(t.props.src||t.props.href)&&(t.key=t.key||Jm(t.props.src||t.props.href))}},"dom:renderTag":({$el:e,tag:t})=>{var r,i;const n=e==null?void 0:e.dataset;if(n)for(const a in n){if(!a.endsWith("fired"))continue;const o=a.slice(0,-5);nb.has(o)&&((i=(r=t._eventHandlers)==null?void 0:r[o])==null||i.call(e,new Event(o.substring(2))))}}}}),p_=new Set(["link","style","script","noscript"]),w_={hooks:{"tag:normalise":({tag:s})=>{s.key&&p_.has(s.tag)&&(s.props["data-hid"]=s._h=Jm(s.key))}}},y_={mode:"server",hooks:{"tags:beforeResolve":s=>{const e={};let t=!1;for(const n of s.tags)n._m!=="server"||n.tag!=="titleTemplate"&&n.tag!=="templateParams"&&n.tag!=="title"||(e[n.tag]=n.tag==="title"||n.tag==="titleTemplate"?n.textContent:n.props,t=!0);t&&s.tags.push({tag:"script",innerHTML:JSON.stringify(e),props:{id:"unhead:payload",type:"application/json"}})}}},v_={hooks:{"tags:resolve":s=>{var e;for(const t of s.tags)if(typeof t.tagPriority=="string")for(const{prefix:n,offset:r}of a_){if(!t.tagPriority.startsWith(n))continue;const i=t.tagPriority.substring(n.length),a=(e=s.tags.find(o=>o._d===i))==null?void 0:e._p;if(a!==void 0){t._p=a+r;break}}s.tags.sort((t,n)=>{const r=Wm(t),i=Wm(n);return r<i?-1:r>i?1:t._p-n._p})}}},b_={meta:"content",link:"href",htmlAttrs:"lang"},S_=["innerHTML","textContent"],A_=s=>({hooks:{"tags:resolve":e=>{var a;const{tags:t}=e;let n;for(let o=0;o<t.length;o+=1)t[o].tag==="templateParams"&&(n=e.tags.splice(o,1)[0].props,o-=1);const r=n||{},i=r.separator||"|";delete r.separator,r.pageTitle=gd(r.pageTitle||((a=t.find(o=>o.tag==="title"))==null?void 0:a.textContent)||"",r,i);for(const o of t){if(o.processTemplateParams===!1)continue;const l=b_[o.tag];if(l&&typeof o.props[l]=="string")o.props[l]=gd(o.props[l],r,i);else if(o.processTemplateParams||o.tag==="titleTemplate"||o.tag==="title")for(const u of S_)typeof o[u]=="string"&&(o[u]=gd(o[u],r,i,o.tag==="script"&&o.props.type.endsWith("json")))}s._templateParams=r,s._separator=i},"tags:afterResolve":({tags:e})=>{let t;for(let n=0;n<e.length;n+=1){const r=e[n];r.tag==="title"&&r.processTemplateParams!==!1&&(t=r)}t!=null&&t.textContent&&(t.textContent=gd(t.textContent,s._templateParams,s._separator))}}}),k_={hooks:{"tags:resolve":s=>{const{tags:e}=s;let t,n;for(let r=0;r<e.length;r+=1){const i=e[r];i.tag==="title"?t=i:i.tag==="titleTemplate"&&(n=i)}if(n&&t){const r=ab(n.textContent,t.textContent);r!==null?t.textContent=r||t.textContent:s.tags.splice(s.tags.indexOf(t),1)}else if(n){const r=ab(n.textContent);r!==null&&(n.textContent=r,n.tag="title",n=void 0)}n&&s.tags.splice(s.tags.indexOf(n),1)}}},E_={hooks:{"tags:afterResolve":s=>{for(const e of s.tags)typeof e.innerHTML=="string"&&(e.innerHTML&&(e.props.type==="application/ld+json"||e.props.type==="application/json")?e.innerHTML=e.innerHTML.replace(/</g,"\\u003C"):e.innerHTML=e.innerHTML.replace(new RegExp(`</${e.tag}`,"g"),`<\\/${e.tag}`))}}};let vS;function C_(s={}){const e=N_(s);return e.use(h_()),vS=e}function ob(s,e){return!s||s==="server"&&e||s==="client"&&!e}function N_(s={}){const e=hS();e.addHooks(s.hooks||{}),s.document=s.document||(t_?document:void 0);const t=!s.document,n=()=>{o.dirty=!0,e.callHook("entries:updated",o)};let r=0,i=[];const a=[],o={plugins:a,dirty:!1,resolvedOptions:s,hooks:e,headEntries(){return i},use(l){const u=typeof l=="function"?l(o):l;(!u.key||!a.some(c=>c.key===u.key))&&(a.push(u),ob(u.mode,t)&&e.addHooks(u.hooks||{}))},push(l,u){u==null||delete u.head;const c={_i:r++,input:l,...u};return ob(c.mode,t)&&(i.push(c),n()),{dispose(){i=i.filter(h=>h._i!==c._i),n()},patch(h){for(const f of i)f._i===c._i&&(f.input=c.input=h);n()}}},async resolveTags(){const l={tags:[],entries:[...i]};await e.callHook("entries:resolve",l);for(const u of l.entries){const c=u.resolvedInput||u.input;if(u.resolvedInput=await(u.transform?u.transform(c):c),u.resolvedInput)for(const h of await i_(u)){const f={tag:h,entry:u,resolvedOptions:o.resolvedOptions};await e.callHook("tag:normalise",f),l.tags.push(f.tag)}}return await e.callHook("tags:beforeResolve",l),await e.callHook("tags:resolve",l),await e.callHook("tags:afterResolve",l),l.tags},ssr:t};return[d_,y_,g_,w_,v_,A_,k_,E_,...(s==null?void 0:s.plugins)||[]].forEach(l=>o.use(l)),o.hooks.callHook("init",o),o}function I_(){return vS}const __=X1[0]==="3";function x_(s){return typeof s=="function"?s():te(s)}function qm(s){if(s instanceof Promise||s instanceof Date||s instanceof RegExp)return s;const e=x_(s);if(!s||!e)return e;if(Array.isArray(e))return e.map(t=>qm(t));if(typeof e=="object"){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(n==="titleTemplate"||n[0]==="o"&&n[1]==="n"){t[n]=te(e[n]);continue}t[n]=qm(e[n])}return t}return e}const B_={hooks:{"entries:resolve":s=>{for(const e of s.entries)e.resolvedInput=qm(e.input)}}},bS="usehead";function T_(s){return{install(t){__&&(t.config.globalProperties.$unhead=s,t.config.globalProperties.$head=s,t.provide(bS,s))}}.install}function R_(s={}){s.domDelayFn=s.domDelayFn||(t=>bg(()=>setTimeout(()=>t(),0)));const e=C_(s);return e.use(B_),e.install=T_(e),e}const cw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uw="__unhead_injection_handler__";function O_(s){cw[uw]=s}function P_(){if(uw in cw)return cw[uw]();const s=yo(bS);return s||I_()}function V_(s,e={}){const t=e.head||P_();if(t)return t.ssr?t.push(s,e):L_(t,s,e)}function L_(s,e,t={}){const n=He(!1),r=He({});VC(()=>{r.value=n.value?{}:qm(e)});const i=s.push(r.value,t);return Rn(r,o=>{i.patch(o)}),td()&&(w1(()=>{i.dispose()}),g1(()=>{n.value=!0}),m1(()=>{n.value=!1})),i}function D_(s,e){return{ctx:{table:s},matchAll:t=>AS(t,s,e)}}function SS(s){const e={};for(const t in s)e[t]=t==="dynamic"?new Map(Object.entries(s[t]).map(([n,r])=>[n,SS(r)])):new Map(Object.entries(s[t]));return e}function U_(s){return D_(SS(s))}function AS(s,e,t){t!==!0&&s.endsWith("/")&&(s=s.slice(0,-1)||"/");const n=[];for(const[i,a]of lb(e.wildcard))(s===i||s.startsWith(i+"/"))&&n.push(a);for(const[i,a]of lb(e.dynamic))if(s.startsWith(i+"/")){const o="/"+s.slice(i.length).split("/").splice(2).join("/");n.push(...AS(o,a))}const r=e.static.get(s);return r&&n.push(r),n.filter(Boolean)}function lb(s){return[...s.entries()].sort((e,t)=>e[0].length-t[0].length)}function ep(s){if(s===null||typeof s!="object")return!1;const e=Object.getPrototypeOf(s);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in s?!1:Symbol.toStringTag in s?Object.prototype.toString.call(s)==="[object Module]":!0}function hw(s,e,t=".",n){if(!ep(e))return hw(s,{},t,n);const r=Object.assign({},e);for(const i in s){if(i==="__proto__"||i==="constructor")continue;const a=s[i];a!=null&&(n&&n(r,i,a,t)||(Array.isArray(a)&&Array.isArray(r[i])?r[i]=[...a,...r[i]]:ep(a)&&ep(r[i])?r[i]=hw(a,r[i],(t?`${t}.`:"")+i.toString(),n):r[i]=a))}return r}function kS(s){return(...e)=>e.reduce((t,n)=>hw(t,n,"",s),{})}const H_=kS(),M_=kS((s,e,t)=>{if(s[e]!==void 0&&typeof t=="function")return s[e]=t(s[e]),!0});function $_(s,e){if(typeof s!="string")throw new TypeError("argument str must be a string");const t={},n=e||{},r=n.decode||F_;let i=0;for(;i<s.length;){const a=s.indexOf("=",i);if(a===-1)break;let o=s.indexOf(";",i);if(o===-1)o=s.length;else if(o<a){i=s.lastIndexOf(";",a-1)+1;continue}const l=s.slice(i,a).trim();if(n!=null&&n.filter&&!(n!=null&&n.filter(l))){i=o+1;continue}if(t[l]===void 0){let u=s.slice(a+1,o).trim();u.codePointAt(0)===34&&(u=u.slice(1,-1)),t[l]=K_(u,r)}i=o+1}return t}function F_(s){return s.includes("%")?decodeURIComponent(s):s}function K_(s,e){try{return e(s)}catch{return s}}const pd=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function cb(s,e,t){const n=t||{},r=n.encode||encodeURIComponent;if(typeof r!="function")throw new TypeError("option encode is invalid");if(!pd.test(s))throw new TypeError("argument name is invalid");const i=r(e);if(i&&!pd.test(i))throw new TypeError("argument val is invalid");let a=s+"="+i;if(n.maxAge!==void 0&&n.maxAge!==null){const o=n.maxAge-0;if(Number.isNaN(o)||!Number.isFinite(o))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(o)}if(n.domain){if(!pd.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!pd.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if(!j_(n.expires)||Number.isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":{a+="; Priority=Low";break}case"medium":{a+="; Priority=Medium";break}case"high":{a+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:{a+="; SameSite=Strict";break}case"lax":{a+="; SameSite=Lax";break}case"strict":{a+="; SameSite=Strict";break}case"none":{a+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(a+="; Partitioned"),a}function j_(s){return Object.prototype.toString.call(s)==="[object Date]"||s instanceof Date}function J_(s,e){try{return e in s}catch{return!1}}class fw extends Error{constructor(t,n={}){super(t,n);Br(this,"statusCode",500);Br(this,"fatal",!1);Br(this,"unhandled",!1);Br(this,"statusMessage");Br(this,"data");Br(this,"cause");n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const t={message:this.message,statusCode:dw(this.statusCode,500)};return this.statusMessage&&(t.statusMessage=ES(this.statusMessage)),this.data!==void 0&&(t.data=this.data),t}}Br(fw,"__h3_error__",!0);function W_(s){if(typeof s=="string")return new fw(s);if(q_(s))return s;const e=new fw(s.message??s.statusMessage??"",{cause:s.cause||s});if(J_(s,"stack"))try{Object.defineProperty(e,"stack",{get(){return s.stack}})}catch{try{e.stack=s.stack}catch{}}if(s.data&&(e.data=s.data),s.statusCode?e.statusCode=dw(s.statusCode,e.statusCode):s.status&&(e.statusCode=dw(s.status,e.statusCode)),s.statusMessage?e.statusMessage=s.statusMessage:s.statusText&&(e.statusMessage=s.statusText),e.statusMessage){const t=e.statusMessage;ES(e.statusMessage)!==t&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return s.fatal!==void 0&&(e.fatal=s.fatal),s.unhandled!==void 0&&(e.unhandled=s.unhandled),e}function q_(s){var e;return((e=s==null?void 0:s.constructor)==null?void 0:e.__h3_error__)===!0}const G_=/[^\u0009\u0020-\u007E]/g;function ES(s=""){return s.replace(G_,"")}function dw(s,e=200){return!s||(typeof s=="string"&&(s=Number.parseInt(s,10)),s<100||s>999)?e:s}const CS=Symbol("route"),ru=()=>{var s;return(s=nt())==null?void 0:s.$router},Iy=()=>C1()?yo(CS,nt()._route):nt()._route;/*! @__NO_SIDE_EFFECTS__ */const Y_=(s,e,t={})=>{const n=nt(),r=t.global||typeof s!="string",i=typeof s!="string"?s:e;if(!i){console.warn("[nuxt] No route middleware passed to `addRouteMiddleware`.",s);return}r?n._middleware.global.push(i):n._middleware.named[s]=i},X_=()=>{try{if(nt()._processingMiddleware)return!0}catch{return!0}return!1},NS=(s,e)=>{s||(s="/");const t=typeof s=="string"?s:rS(s.path||"/",s.query||{})+(s.hash||"");if(e!=null&&e.open){{const{target:o="_blank",windowFeatures:l={}}=e.open,u=Object.entries(l).filter(([c,h])=>h!==void 0).map(([c,h])=>`${c.toLowerCase()}=${h}`).join(", ");open(t,o,u)}return Promise.resolve()}const n=(e==null?void 0:e.external)||Oo(t,{acceptRelative:!0});if(n){if(!(e!=null&&e.external))throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const o=nd(t).protocol;if(o&&sI(o))throw new Error(`Cannot navigate to a URL with '${o}' protocol.`)}const r=X_();if(!n&&r)return s;const i=ru(),a=nt();return n?(a._scope.stop(),e!=null&&e.replace?location.replace(t):location.href=t,r?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e!=null&&e.replace?i.replace(s):i.push(s)},_y=()=>c1(nt().payload,"error"),Q_=s=>{const e=IS(s);try{const t=nt(),n=_y();t.hooks.callHook("app:error",e),n.value=n.value||e}catch{throw e}return e},z_=async(s={})=>{const e=nt(),t=_y();e.callHook("app:error:cleared",s),s.redirect&&await ru().replace(s.redirect),t.value=null},Z_=s=>!!(s&&typeof s=="object"&&"__nuxt_error"in s),IS=s=>{const e=W_(s);return e.__nuxt_error=!0,e},ub=globalThis.requestIdleCallback||(s=>{const e=Date.now(),t={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{s(t)},1)}),PL=globalThis.cancelIdleCallback||(s=>{clearTimeout(s)}),_S=s=>{const e=nt();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{ub(s)}):ub(s)},VL={componentName:"NuxtLink"},ex="#__nuxt",tx="$s";function xS(...s){const e=typeof s[s.length-1]=="string"?s.pop():void 0;typeof s[0]!="string"&&s.unshift(e);const[t,n]=s;if(!t||typeof t!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+t);if(n!==void 0&&typeof n!="function")throw new Error("[nuxt] [useState] init must be a function: "+n);const r=tx+t,i=nt(),a=c1(i.payload.state,r);if(a.value===void 0&&n){const o=n();if(pe(o))return i.payload.state[r]=o,o;a.value=o}return a}const sx={path:"/",watch:!0,decode:s=>Uf(decodeURIComponent(s)),encode:s=>encodeURIComponent(typeof s=="string"?s:JSON.stringify(s))};function nx(s,e){var i;const t={...sx,...e},n=rx(t)||{},r=He(n[s]??((i=t.default)==null?void 0:i.call(t)));{const a=typeof BroadcastChannel>"u"?null:new BroadcastChannel(`nuxt:cookies:${s}`),o=()=>{ax(s,r.value,t),a==null||a.postMessage(t.encode(r.value))};let l=!1;j0()&&kE(()=>{l=!0,o(),a==null||a.close()}),a&&(a.onmessage=u=>{l=!0,r.value=t.decode(u.data),bg(()=>{l=!1})}),t.watch?Rn(r,()=>{l||o()},{deep:t.watch!=="shallow"}):o()}return r}function rx(s={}){return $_(document.cookie,s)}function ix(s,e,t={}){return e==null?cb(s,e,{...t,maxAge:-1}):cb(s,e,t)}function ax(s,e,t={}){document.cookie=ix(s,e,t)}function ox(s={}){const e=s.path||window.location.pathname;let t={};try{t=Uf(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(s.force||(t==null?void 0:t.path)!==e||(t==null?void 0:t.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(s.ttl??1e4)}))}catch{}if(s.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:nt().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const lx={nuxt:{buildId:"1e03c589-9be4-458b-b8b8-8dd0a30d2664"}},cx=M_(lx);function ux(){const s=nt();return s._appConfig||(s._appConfig=Ar(cx)),s._appConfig}let em,BS;function hx(){var t;const s=ns(),e=(t=ux().nuxt)==null?void 0:t.buildId;return em=$fetch(yn(s.app.cdnURL||s.app.baseURL,s.app.buildAssetsDir,`builds/meta/${e}.json`)),em.then(n=>{BS=U_(n.matcher)}),em}function Cg(){return em||hx()}async function TS(s){return await Cg(),H_({},...BS.matchAll(s).reverse())}function hb(s,e={}){const t=fx(s,e),n=nt(),r=n._payloadCache=n._payloadCache||{};return t in r||(r[t]=dx().then(i=>i?RS(t).then(a=>a||(delete r[t],null)):(r[t]=null,null))),r[t]}const fb="json";function fx(s,e={}){const t=new URL(s,"http://localhost");if(t.search)throw new Error("Payload URL cannot contain search params: "+s);if(t.host!=="localhost"||Oo(t.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+s);const n=e.hash||(e.fresh?Date.now():"");return yn(ns().app.baseURL,t.pathname,n?`_payload.${n}.${fb}`:`_payload.${fb}`)}async function RS(s){const e=fetch(s).then(t=>t.text().then(OS));try{return await e}catch(t){console.warn("[nuxt] Cannot load payload ",s,t)}return null}async function dx(s=Iy().path){if(nt().payload.prerenderedAt||(await Cg()).prerendered.includes(s))return!0;const n=await TS(s);return!!n.prerender&&!n.redirect}let wd=null;async function mx(){if(wd)return wd;const s=document.getElementById("__NUXT_DATA__");if(!s)return{};const e=OS(s.textContent||""),t=s.dataset.src?await RS(s.dataset.src):void 0;return wd={...e,...t,...window.__NUXT__},wd}function OS(s){return XI(s,nt()._payloadRevivers)}function gx(s,e){nt()._payloadRevivers[s]=e}const db={NuxtError:s=>IS(s),EmptyShallowRef:s=>jp(s==="_"?void 0:s==="0n"?BigInt(0):Uf(s)),EmptyRef:s=>He(s==="_"?void 0:s==="0n"?BigInt(0):Uf(s)),ShallowRef:s=>jp(s),ShallowReactive:s=>i1(s),Ref:s=>He(s),Reactive:s=>Ar(s)},px=Nr({name:"nuxt:revive-payload:client",order:-30,async setup(s){let e,t;for(const n in db)gx(n,db[n]);Object.assign(s.payload,([e,t]=oo(()=>s.runWithContext(mx)),e=await e,t(),e)),window.__NUXT__=s.payload}}),wx=[],yx=Nr({name:"nuxt:head",enforce:"pre",setup(s){const e=R_({plugins:wx});O_(()=>nt().vueApp._context.provides.usehead),s.vueApp.use(e);{let t=!0;const n=async()=>{t=!1,await yS(e)};e.hooks.hook("dom:beforeRender",r=>{r.shouldRender=!t}),s.hooks.hook("page:start",()=>{t=!0}),s.hooks.hook("page:finish",()=>{s.isHydrating||n()}),s.hooks.hook("app:error",n),s.hooks.hook("app:suspense:resolve",n)}}}),vx=async s=>{let e,t;const n=([e,t]=oo(()=>TS(s.path)),e=await e,t(),e);if(n.redirect)return n.redirect},bx=[vx];function tp(s){typeof s=="object"&&(s=oS({pathname:s.path||"",search:nS(s.query||{}),hash:s.hash||""}));const e=nd(s.toString());return{path:e.pathname,fullPath:s,query:Cy(e.search),hash:e.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:s}}const Sx=Nr({name:"nuxt:router",enforce:"pre",setup(s){const e=iI(window.location.pathname,ns().app.baseURL)+window.location.search+window.location.hash,t=[],n={"navigate:before":[],"resolve:before":[],"navigate:after":[],error:[]},r=(c,h)=>(n[c].push(h),()=>n[c].splice(n[c].indexOf(h),1)),i=ns().app.baseURL,a=Ar(tp(e));async function o(c,h){try{const f=tp(c);for(const m of n["navigate:before"]){const b=await m(f,a);if(b===!1||b instanceof Error)return;if(typeof b=="string"&&b.length)return o(b,!0)}for(const m of n["resolve:before"])await m(f,a);Object.assign(a,f),window.history[h?"replaceState":"pushState"]({},"",yn(i,f.fullPath)),s.isHydrating||await s.runWithContext(z_);for(const m of n["navigate:after"])await m(f,a)}catch(f){for(const m of n.error)await m(f)}}const l={currentRoute:a,isReady:()=>Promise.resolve(),options:{},install:()=>Promise.resolve(),push:c=>o(c,!1),replace:c=>o(c,!0),back:()=>window.history.go(-1),go:c=>window.history.go(c),forward:()=>window.history.go(1),beforeResolve:c=>r("resolve:before",c),beforeEach:c=>r("navigate:before",c),afterEach:c=>r("navigate:after",c),onError:c=>r("error",c),resolve:tp,addRoute:(c,h)=>{t.push(h)},getRoutes:()=>t,hasRoute:c=>t.some(h=>h.name===c),removeRoute:c=>{const h=t.findIndex(f=>f.name===c);h!==-1&&t.splice(h,1)}};s.vueApp.component("RouterLink",{functional:!0,props:{to:String,custom:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:String},setup:(c,{slots:h})=>{const f=()=>o(c.to,c.replace);return()=>{var b;const m=l.resolve(c.to);return c.custom?(b=h.default)==null?void 0:b.call(h,{href:c.to,navigate:f,route:m}):ky("a",{href:c.to,onClick:A=>(A.preventDefault(),f())},h)}}}),window.addEventListener("popstate",c=>{const h=c.target.location;l.replace(h.href.replace(h.origin,""))}),s._route=a,s._middleware=s._middleware||{global:[],named:{}};const u=s.payload.state._layout;return s.hooks.hookOnce("app:created",async()=>{l.beforeEach(async(c,h)=>{c.meta=Ar(c.meta||{}),s.isHydrating&&u&&!kr(c.meta.layout)&&(c.meta.layout=u),s._processingMiddleware=!0;{const f=new Set([...bx,...s._middleware.global]);for(const m of f){const b=await s.runWithContext(()=>m(c,h));if(b!==!0&&(b||b===!1))return b}}}),l.afterEach(()=>{delete s._processingMiddleware}),await l.replace(e),sw(a.fullPath,e)||await s.runWithContext(()=>NS(a.fullPath))}),{provide:{route:a,router:l}}}}),Ax=Nr({name:"nuxt:payload",setup(s){ru().beforeResolve(async(e,t)=>{if(e.path===t.path)return;const n=await hb(e.path);n&&Object.assign(s.static.data,n.data)}),_S(()=>{var e;s.hooks.hook("link:prefetch",async t=>{nd(t).protocol||await hb(t)}),((e=navigator.connection)==null?void 0:e.effectiveType)!=="slow-2g"&&setTimeout(Cg,1e3)})}}),kx=Nr({name:"nuxt:global-components"});/*!
  * shared v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Gm=typeof window<"u",qi=(s,e=!1)=>e?Symbol.for(s):Symbol(s),Ex=(s,e,t)=>Cx({l:s,k:e,s:t}),Cx=s=>JSON.stringify(s).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Pt=s=>typeof s=="number"&&isFinite(s),Nx=s=>VS(s)==="[object Date]",Ym=s=>VS(s)==="[object RegExp]",Ng=s=>Me(s)&&Object.keys(s).length===0,Bt=Object.assign,Ix=Object.create,Xe=(s=null)=>Ix(s);let mb;const xy=()=>mb||(mb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Xe());function gb(s){return s.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const _x=Object.prototype.hasOwnProperty;function un(s,e){return _x.call(s,e)}const xt=Array.isArray,Ye=s=>typeof s=="function",le=s=>typeof s=="string",gt=s=>typeof s=="boolean",xx=s=>typeof s=="symbol",Ve=s=>s!==null&&typeof s=="object",Bx=s=>Ve(s)&&Ye(s.then)&&Ye(s.catch),PS=Object.prototype.toString,VS=s=>PS.call(s),Me=s=>{if(!Ve(s))return!1;const e=Object.getPrototypeOf(s);return e===null||e.constructor===Object},Tx=s=>s==null?"":xt(s)||Me(s)&&s.toString===PS?JSON.stringify(s,null,2):String(s);function By(s,e=""){return s.reduce((t,n,r)=>r===0?t+n:t+e+n,"")}function Ig(s){let e=s;return()=>++e}function Rx(s,e){typeof console<"u"&&(console.warn("[intlify] "+s),e&&console.warn(e.stack))}const yd=s=>!Ve(s)||xt(s);function vo(s,e){if(yd(s)||yd(e))throw new Error("Invalid value");const t=[{src:s,des:e}];for(;t.length;){const{src:n,des:r}=t.pop();Object.keys(n).forEach(i=>{i!=="__proto__"&&(Ve(n[i])&&!Ve(r[i])&&(r[i]=Array.isArray(n[i])?[]:Xe()),yd(r[i])||yd(n[i])?r[i]=n[i]:t.push({src:n[i],des:r[i]}))})}}const Wc=["en","zh-CN"],Xm={en:[],"zh-CN":[]},Ox=[()=>aw(()=>import("./i18n.config.61f726c8.js"),[],import.meta.url)],_g=[{code:"en",name:"English",files:[]},{code:"zh-CN",name:"Chinese",files:[]}],LS="@nuxtjs/i18n",Px=!1,Vx="nuxtI18n",Lx="i18n_redirected",pb="nuxt-i18n-slp",Dx=typeof window<"u";function Ux(s){s=s||[];const e=[];for(const t of s)le(t)?e.push({code:t}):e.push(t);return e}function Hx(s){return s!=null&&"global"in s&&"mode"in s}function Mx(s){return s!=null&&!("__composer"in s)&&"locale"in s&&pe(s.locale)}function DS(s){return s!=null&&"__composer"in s}function Gi(s){return Hx(s)?s.global:s}function qc(s){const e=Gi(s);return Mx(e)?e:DS(e)?e.__composer:e}function xg(s){return te(Gi(s).locale)}function $x(s){return te(Gi(s).locales)}function Fx(s){return te(Gi(s).localeCodes)}function US(s,e){const t=Gi(s);pe(t.locale)?t.locale.value=e:t.locale=e}function HS(s){return le(s)?s:xx(s)?s.toString():"(null)"}function wb(s,e,{defaultLocale:t,strategy:n,routesNameSeparator:r,defaultLocaleRouteNameSuffix:i,differentDomains:a}){const o=n!=="no_prefix"||a;let l=HS(s)+(o?r+e:"");return e===t&&n==="prefix_and_default"&&(l+=r+i),l}function yb(s,e){return Ye(s)?s(e):s}function Kx(s,e){const t=[];for(const[n,r]of e.entries()){const i=s.find(a=>a.language.toLowerCase()===r.toLowerCase());if(i){t.push({code:i.code,score:1-n/e.length});break}}for(const[n,r]of e.entries()){const i=r.split("-")[0].toLowerCase(),a=s.find(o=>o.language.split("-")[0].toLowerCase()===i);if(a){t.push({code:a.code,score:.999-n/e.length});break}}return t}const jx=Kx;function Jx(s,e){return s.score===e.score?e.code.length-s.code.length:e.score-s.score}const Wx=Jx;function qx(s,e,{matcher:t=jx,comparer:n=Wx}={}){const r=[];for(const a of s){const{code:o}=a,l=a.language||o;r.push({code:o,language:l})}const i=t(r,e);return i.length>1&&i.sort(n),i.length?i[0].code:""}function Ty(s){return new RegExp(`^/(${s.join("|")})(?:/|$)`,"i")}const xf=new Map;async function Gx(s,e){const t={messages:{}};for(const n of s){const{default:r}=await n(),i=Ye(r)?await e.runWithContext(async()=>await r()):r;vo(i,t)}return t}function MS(s,e){let t=[];if(xt(s))t=s;else if(Ve(s)){const n=[...e,"default"];for(const r of n)s[r]&&(t=[...t,...s[r].filter(Boolean)])}else le(s)&&e.every(n=>n!==s)&&t.push(s);return t}async function Yx(s,e,t){const{defaultLocale:n,initialLocale:r,localeCodes:i,fallbackLocale:a,lazy:o}=t;if(o&&a){const u=MS(a,[n,r]);await Promise.all(u.map(c=>vb(c,e,s)))}const l=o?[...new Set().add(n).add(r)]:i;return await Promise.all(l.map(u=>vb(u,e,s))),s}async function Xx(s,{key:e,load:t}){let n=null;try{const r=await t().then(i=>i.default||i);Ye(r)?n=await r(s):(n=r,n!=null&&xf&&xf.set(e,n))}catch(r){console.error("Failed locale loading: "+r.message)}return n}async function Qm(s,e,t){const n=e[s];if(n==null){console.warn("Could not find messages for locale code: "+s);return}const r={};for(const i of n){let a=null;xf&&xf.has(i.key)&&i.cache?a=xf.get(i.key):a=await Xx(s,i),a!=null&&vo(a,r)}t(s,r)}async function vb(s,e,t){await Qm(s,e,(r,i)=>{const a=t[r]||{};vo(i,a),t[r]=a})}function Qx(s,e){return[s.slice(0,e),s.slice(e)]}function zx(s){const{fullPath:e,query:t,hash:n,name:r,path:i,params:a,meta:o,redirectedFrom:l,matched:u}=s;return{fullPath:e,params:a,query:t,hash:n,name:r,path:i,meta:o,matched:u,redirectedFrom:l}}function Zx({router:s},e,t,n){var u,c;if(t!=="prefix")return s.resolve(e);const[r,i]=Qx(e.path,1),a=`${r}${n}${i===""?i:`/${i}`}`,o=(c=(u=s.options)==null?void 0:u.routes)==null?void 0:c.find(h=>h.path===a);if(o==null)return e;const l=Bt({},e,o);return l.path=a,s.resolve(l)}const eB=new Set(["prefix_and_default","prefix_except_default"]);function tB(s){const{currentLocale:e,defaultLocale:t,strategy:n}=s;return!(e===t&&eB.has(n))&&n!=="no_prefix"}const sB=tB;function Gc(s,e){const{routesNameSeparator:t}=s.runtimeConfig.public.i18n,n=te(e);return n==null||!n.name?void 0:HS(n.name).split(t)[0]}function Ry(s,e,t){var r;if(typeof e=="string"&&Oo(e,{acceptRelative:!0}))return e;const n=Bg(s,e,t);return n==null?"":((r=n.redirectedFrom)==null?void 0:r.fullPath)||n.fullPath}function Oy(s,e,t){return Bg(s,e,t)??void 0}function nB(s,e,t){return Bg(s,e,t)??void 0}function Bg(s,e,t){const{router:n,i18n:r}=s,i=t||xg(r),{defaultLocale:a,strategy:o,trailingSlash:l}=s.runtimeConfig.public.i18n,u=yB(s.runtimeConfig);let c;if(le(e))if(e[0]==="/"){const{pathname:m,search:b,hash:A}=nw(e),k=Cy(b);c={path:m,query:k,hash:A}}else c={name:e};else c=e;let h=Bt({},c);if((m=>"path"in m&&!!m.path&&!("name"in m))(h)){const m=Zx(s,h,o,i),b=Gc(s,m);le(b)?(h={name:wb(b,i,s.runtimeConfig.public.i18n),params:m.params,query:m.query,hash:m.hash},h.state=m.state):(u({currentLocale:i,defaultLocale:a,strategy:o})&&(h.path=`/${i}${h.path}`),h.path=l?$m(h.path,!0):Ny(h.path,!0))}else!h.name&&!("path"in h)&&(h.name=Gc(s,n.currentRoute.value)),h.name=wb(h.name,i,s.runtimeConfig.public.i18n);try{const m=n.resolve(h);return m.name?m:n.resolve(e)}catch(m){if(typeof m=="object"&&"type"in m&&m.type===1)return null}}const rB=s=>s;function iB(s,e){var n;if(s.runtimeConfig.public.i18n.experimental.switchLocalePathLinkSSR)return te(s.metaState.value);const t=e.meta||{};return((n=te(t))==null?void 0:n[Vx])||{}}function Yc(s,e,t){const n=t??s.router.currentRoute.value,r=Gc(s,n);if(!r)return"";const i=vB(s.runtimeConfig),a=zx(n),o=iB(s,n)[e],l={...a,name:r,params:{...a.params,...o}},u=Ry(s,l,e);return i(u,e)}function $S(s,{addDirAttribute:e=!1,addSeoAttributes:t=!0,identifierAttribute:n="hid"}){const{defaultDirection:r}=ns().public.i18n,i=qc(s.i18n),a={htmlAttrs:{},link:[],meta:[]};if(te(i.locales)==null||te(i.baseUrl)==null)return a;const o=xg(s.i18n),l=$x(s.i18n),u=Ux(l).find(f=>f.code===o)||{code:o},c=u.language,h=u.dir||r;return e&&(a.htmlAttrs.dir=h),t&&o&&te(i.locales)&&(c&&(a.htmlAttrs.lang=c),a.link.push(...aB(s,te(l),n),...oB(s,n,t)),a.meta.push(...lB(s,n,t),...cB(u,c,n),...uB(te(l),c,n))),a}function Py(){const s=nt(),e=qc(s.$i18n);return yn(te(e.baseUrl),s.$config.app.baseURL)}function aB(s,e,t){const n=Py(),{defaultLocale:r,strategy:i}=ns().public.i18n,a=[];if(i==="no_prefix")return a;const o=new Map;for(const l of e){const u=l.language;if(!u){console.warn("Locale `language` ISO code is required to generate alternate link");continue}const[c,h]=u.split("-");c&&h&&(l.isCatchallLocale||!o.has(c))&&o.set(c,l),o.set(u,l)}for(const[l,u]of o.entries()){const c=Yc(s,u.code);c&&a.push({[t]:`i18n-alt-${l}`,rel:"alternate",href:mw(c,n),hreflang:l})}if(r){const l=Yc(s,r);l&&a.push({[t]:"i18n-xd",rel:"alternate",href:mw(l,n),hreflang:"x-default"})}return a}function FS(s,e,t){const n=s.router.currentRoute.value,r=Oy(s,{...n,path:void 0,name:Gc(s,n)});if(!r)return"";let i=mw(r.path,e);const a=Ve(t)&&t.canonicalQueries||[],o=r.query,l=new URLSearchParams;for(const c of a)if(c in o){const h=o[c];xt(h)?h.forEach(f=>l.append(c,f||"")):l.append(c,h||"")}const u=l.toString();return u&&(i=`${i}?${u}`),i}function oB(s,e,t){const n=Py(),r=FS(s,n,t);return r?[{[e]:"i18n-can",rel:"canonical",href:r}]:[]}function lB(s,e,t){const n=Py(),r=FS(s,n,t);return r?[{[e]:"i18n-og-url",property:"og:url",content:r}]:[]}function cB(s,e,t){return!s||!e?[]:[{[t]:"i18n-og",property:"og:locale",content:KS(e)}]}function uB(s,e,t){return s.filter(r=>r.language&&r.language!==e).map(r=>({[t]:`i18n-og-alt-${r.language}`,property:"og:locale:alternate",content:KS(r.language)}))}function KS(s){return(s||"").replace(/-/g,"_")}function mw(s,e){return s.match(/^https?:\/\//)?s:yn(e,s)}function jS(){const{routesNameSeparator:s,defaultLocaleRouteNameSuffix:e}=ns().public.i18n,t=`(${Wc.join("|")})`,n=`(?:${s}${e})?`,r=new RegExp(`${s}${t}${n}$`,"i"),i=Ty(Wc);return o=>{if(Ve(o)){if(o.name){const u=(le(o.name)?o.name:o.name.toString()).match(r);if(u&&u.length>1)return u[1]}else if(o.path){const l=o.path.match(i);if(l&&l.length>1)return l[1]}}else if(le(o)){const l=o.match(i);if(l&&l.length>1)return l[1]}return""}}function hB(s,e){return rd(s,"setLocale",e)}function fB(s,e){return rd(s,"setLocaleCookie",e)}function JS(s,e,t){return rd(s,"mergeLocaleMessage",e,t)}async function dB(s,e,t,n,r){return rd(s,"onBeforeLanguageSwitch",e,t,n,r)}function mB(s,e,t){return rd(s,"onLanguageSwitched",e,t)}function Vy(s){return{i18n:s??nt().$i18n,router:ru(),runtimeConfig:ns(),metaState:xS("nuxt-i18n-meta",()=>({}))}}async function bb(s,e,t,n=!1){const{differentDomains:r,skipSettingLocaleOnNavigate:i,lazy:a}=t,o=id(t),l=nt(),u=xg(e),c=Fx(e);function h(m=u){o===!1||!o.useCookie||i||fB(e,m)}if(!s||!n&&r||u===s)return h(),!1;const f=await dB(e,u,s,n,l);if(f&&c.includes(f)){if(u===f)return h(),!1;s=f}if(a){const m=SB(e,"fallbackLocale"),b=(A,k)=>JS(e,A,k);if(m){const A=MS(m,[s]);await Promise.all(A.map(k=>Qm(k,Xm,b)))}await Qm(s,Xm,b)}return i?!1:(h(s),US(e,s),await mB(e,u,s),!0)}function WS(s){return{log:console.log.bind(console,`${s}:`)}}function Sb(s,e,t,n,r){const{strategy:i,defaultLocale:a,differentDomains:o,multiDomainLocales:l}=r,{localeCookie:u}=n,c=id(r);WS("detectLocale");const h=Ye(t)?t():t,f=XS(s,n,h);if(f.reason===YS.SSG_IGNORE)return h;if(f.locale&&f.from!=null)return f.locale;let m="";o||l?m||(m=CB(_g,i,s)):i!=="no_prefix"&&(m||(m=e(s)));const b=c&&c.useCookie&&u;return m||(m=b||h||a||""),m}function Ab({route:s,targetLocale:e,routeLocaleGetter:t,calledWithRouting:n=!1}){const r=nt(),i=Vy(),{strategy:a,differentDomains:o}=i.runtimeConfig.public.i18n;let l="";const{fullPath:u}=s.to;if(!o&&(n||a!=="no_prefix")&&t(s.to)!==e){const c=r.$switchLocalePath(e)||r.$localePath(u,e);le(c)&&c&&!sw(c,u)&&!c.startsWith("//")&&(l=s.from&&s.from.fullPath===c?"":c)}if((o||!0)&&t(s.to)!==e){const c=Yc(i,e,s.to);le(c)&&c&&!sw(c,u)&&!c.startsWith("//")&&(l=c)}return l}function gB(s){return Ve(s)&&"path"in s&&"statusCode"in s}const pB=()=>xS(LS+":redirect",()=>"");function Ko(s,e){return NS(s,{redirectCode:e})}async function kb(s,{status:e=302,enableNavigate:t=!1}={}){const{nuxtApp:n,i18n:r,locale:i,route:a}=s,{rootRedirect:o,differentDomains:l,multiDomainLocales:u,skipSettingLocaleOnNavigate:c,configLocales:h,strategy:f}=n.$config.public.i18n;let{redirectPath:m}=s;if(a.path==="/"&&o)return le(o)?m="/"+o:gB(o)&&(m="/"+o.path,e=o.statusCode),m=n.$localePath(m,i),Ko(m,e);if(!(c&&(r.__pendingLocale=i,r.__pendingLocalePromise=new Promise(b=>{r.__resolvePendingLocalePromise=b}),!t))){if(u&&f==="prefix_except_default"){const b=Tg(),A=h.find(x=>{var R;return typeof x!="string"?(R=x.defaultForDomains)==null?void 0:R.find(g=>g===b):!1}),k=typeof A!="string"?A==null?void 0:A.code:void 0;if(a.path.startsWith(`/${k}`))return Ko(a.path.replace(`/${k}`,""),e);if(!a.path.startsWith(`/${i}`)&&i!==k){const R=jS()(a.path);return Ko(R!==""?`/${i+a.path.replace(`/${R}`,"")}`:`/${i+(a.path==="/"?"":a.path)}`,e)}else if(m&&a.path!==m)return Ko(m,e);return}if(l){const b=pB();b.value&&b.value!==m&&(b.value="",window.location.assign(m))}else if(m)return Ko(m,e)}}function wB(s,e){jo(s,"$i18n",Gi(e)),jo(s,"$getRouteBaseName",Bs(Gc)),jo(s,"$localePath",Bs(Ry)),jo(s,"$localeRoute",Bs(Oy)),jo(s,"$switchLocalePath",Bs(Yc)),jo(s,"$localeHead",Bs($S))}function yB(s=ns()){return e=>sB(e)&&!s.public.i18n.differentDomains}function vB(s=ns()){return(e,t)=>{if(s.public.i18n.differentDomains){const n=QS(t);return n?yn(n,e):e}else return rB(e)}}function bB(){return()=>{const s=nt(),{baseUrl:e,defaultLocale:t,differentDomains:n}=s.$config.public.i18n;if(Ye(e))return e(s);const r=Ye(t)?t():t;if(n&&r){const i=QS(r);if(i)return i}return e}}function qS(s){return LS+" "+s}function rd(s,e,...t){const n=Gi(s),[r,i]=[n,n[e]];return Reflect.apply(i,r,[...t])}function SB(s,e){const t=Gi(s);return te(t[e])}function jo(s,e,t){Object.defineProperty(s,e,{get:()=>t})}function Bs(s,e=Vy()){return(...t)=>s(e,...t)}function GS(){let s;return navigator.languages&&(s=qx(_g,navigator.languages)),s}function AB(){const s=id(),e=s&&s.cookieKey||Lx,t=new Date,n={expires:new Date(t.setDate(t.getDate()+365)),path:"/",sameSite:s&&s.cookieCrossOrigin?"none":"lax",secure:s&&s.cookieCrossOrigin||s&&s.cookieSecure};return s&&s.cookieDomain&&(n.domain=s.cookieDomain),nx(e,n)}function sp(s,e,t){if(e===!1||!e.useCookie)return;const n=s.value??void 0;if(n!=null){if(Wc.includes(n))return n;if(t)return s.value=t,t;s.value=void 0}}function kB(s,e,t){t===!1||!t.useCookie||(s.value=e)}var YS=(s=>(s.NOT_FOUND="not_found_match",s.FIRST_ACCESS="first_access_only",s.NO_REDIRECT_ROOT="not_redirect_on_root",s.NO_REDIRECT_NO_PREFIX="not_redirect_on_no_prefix",s.SSG_IGNORE="detect_ignore_on_ssg",s))(YS||{});const EB={locale:""};function XS(s,e,t=""){WS("detectBrowserLanguage");const n=id();if(!n)return EB;const{strategy:r}=ns().public.i18n,{ssg:i,callType:a,firstAccess:o,localeCookie:l}=e;if(r==="no_prefix"&&i==="ssg_ignore")return{locale:"",reason:"detect_ignore_on_ssg"};if(!o)return{locale:r==="no_prefix"?t:"",reason:"first_access_only"};const{redirectOn:u,alwaysRedirect:c,useCookie:h,fallbackLocale:f}=n,m=le(s)?s:s.path;if(r!=="no_prefix"){if(u==="root"&&m!=="/")return{locale:"",reason:"not_redirect_on_root"};if(u==="no prefix"&&!c&&m.match(Ty(Wc)))return{locale:"",reason:"not_redirect_on_no_prefix"}}let b;const A=h&&l||void 0;h&&(b="cookie");const k=GS();A||(b="navigator_or_header");const x=A||k,R=x||f||"";return!x&&f&&(b="fallback"),{locale:R,from:b}}function Tg(){let s;return s=window.location.host,s}function CB(s,e,t){let n=Tg()||"";if(n){let r;const i=s.filter(a=>{if(a&&a.domain){let o=a.domain;return Oo(a.domain)&&(o=a.domain.replace(/(http|https):\/\//,"")),o===n}else if(Array.isArray(a==null?void 0:a.domains))return a.domains.includes(n);return!1});if(i.length===1)r=i[0];else if(i.length>1)if(e==="no_prefix")console.warn(qS("Multiple matching domains found! This is not supported for no_prefix strategy in combination with differentDomains!")),r=i[0];else{if(t){const a=Ve(t)?t.path:le(t)?t:"";if(a&&a!==""){const o=a.match(Ty(i.map(l=>l.code)));o&&o.length>1&&(r=i.find(l=>l.code===o[1]))}}r||(r=i.find(a=>Array.isArray(a.defaultForDomains)?a.defaultForDomains.includes(n):a.domainDefault))}if(r)return r.code;n=""}return n}function QS(s){var a,o,l,u,c,h;const e=ns(),t=Tg(),n=e.public.i18n,r=_g.find(f=>f.code===s),i=((o=(a=n==null?void 0:n.locales)==null?void 0:a[s])==null?void 0:o.domain)||(r==null?void 0:r.domain)||((c=(u=(l=n==null?void 0:n.locales)==null?void 0:l[s])==null?void 0:u.domains)==null?void 0:c.find(f=>f===t))||((h=r==null?void 0:r.domains)==null?void 0:h.find(f=>f===t));if(i){if(Oo(i,{strict:!0}))return i;let f;return f=new URL(window.location.origin).protocol,f+"//"+i}console.warn(qS("Could not find domain name for locale "+s))}const id=(s=ns().public.i18n)=>(s==null?void 0:s.detectBrowserLanguage)===!1?!1:s==null?void 0:s.detectBrowserLanguage;/*!
  * message-compiler v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function NB(s,e,t){return{line:s,column:e,offset:t}}function zm(s,e,t){const n={start:s,end:e};return t!=null&&(n.source=t),n}const zS={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2};function IB(s,e,...t){const r={message:String(s),code:s};return e&&(r.location=e),r}const je={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17};function Rg(s,e,t={}){const{domain:n,messages:r,args:i}=t,a=s,o=new SyntaxError(String(a));return o.code=s,e&&(o.location=e),o.domain=n,o}function _B(s){throw s}const Hn=" ",xB="\r",os=`
`,BB=String.fromCharCode(8232),TB=String.fromCharCode(8233);function RB(s){const e=s;let t=0,n=1,r=1,i=0;const a=H=>e[H]===xB&&e[H+1]===os,o=H=>e[H]===os,l=H=>e[H]===TB,u=H=>e[H]===BB,c=H=>a(H)||o(H)||l(H)||u(H),h=()=>t,f=()=>n,m=()=>r,b=()=>i,A=H=>a(H)||l(H)||u(H)?os:e[H],k=()=>A(t),x=()=>A(t+i);function R(){return i=0,c(t)&&(n++,r=0),a(t)&&t++,t++,r++,e[t]}function g(){return a(t+i)&&i++,i++,e[t+i]}function v(){t=0,n=1,r=1,i=0}function N(H=0){i=H}function _(){const H=t+i;for(;H!==t;)R();i=0}return{index:h,line:f,column:m,peekOffset:b,charAt:A,currentChar:k,currentPeek:x,next:R,peek:g,reset:v,resetPeek:N,skipToPeek:_}}const Tr=void 0,OB=".",Eb="'",PB="tokenizer";function VB(s,e={}){const t=e.location!==!1,n=RB(s),r=()=>n.index(),i=()=>NB(n.line(),n.column(),n.index()),a=i(),o=r(),l={currentType:14,offset:o,startLoc:a,endLoc:a,lastType:14,lastOffset:o,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=e;function h(S,E,T,...U){const J=u();if(E.column+=T,E.offset+=T,c){const q=t?zm(J.startLoc,E):null,I=Rg(S,q,{domain:PB,args:U});c(I)}}function f(S,E,T){S.endLoc=i(),S.currentType=E;const U={type:E};return t&&(U.loc=zm(S.startLoc,S.endLoc)),T!=null&&(U.value=T),U}const m=S=>f(S,14);function b(S,E){return S.currentChar()===E?(S.next(),E):(h(je.EXPECTED_TOKEN,i(),0,E),"")}function A(S){let E="";for(;S.currentPeek()===Hn||S.currentPeek()===os;)E+=S.currentPeek(),S.peek();return E}function k(S){const E=A(S);return S.skipToPeek(),E}function x(S){if(S===Tr)return!1;const E=S.charCodeAt(0);return E>=97&&E<=122||E>=65&&E<=90||E===95}function R(S){if(S===Tr)return!1;const E=S.charCodeAt(0);return E>=48&&E<=57}function g(S,E){const{currentType:T}=E;if(T!==2)return!1;A(S);const U=x(S.currentPeek());return S.resetPeek(),U}function v(S,E){const{currentType:T}=E;if(T!==2)return!1;A(S);const U=S.currentPeek()==="-"?S.peek():S.currentPeek(),J=R(U);return S.resetPeek(),J}function N(S,E){const{currentType:T}=E;if(T!==2)return!1;A(S);const U=S.currentPeek()===Eb;return S.resetPeek(),U}function _(S,E){const{currentType:T}=E;if(T!==8)return!1;A(S);const U=S.currentPeek()===".";return S.resetPeek(),U}function H(S,E){const{currentType:T}=E;if(T!==9)return!1;A(S);const U=x(S.currentPeek());return S.resetPeek(),U}function F(S,E){const{currentType:T}=E;if(!(T===8||T===12))return!1;A(S);const U=S.currentPeek()===":";return S.resetPeek(),U}function j(S,E){const{currentType:T}=E;if(T!==10)return!1;const U=()=>{const q=S.currentPeek();return q==="{"?x(S.peek()):q==="@"||q==="%"||q==="|"||q===":"||q==="."||q===Hn||!q?!1:q===os?(S.peek(),U()):$(S,!1)},J=U();return S.resetPeek(),J}function se(S){A(S);const E=S.currentPeek()==="|";return S.resetPeek(),E}function L(S){const E=A(S),T=S.currentPeek()==="%"&&S.peek()==="{";return S.resetPeek(),{isModulo:T,hasSpace:E.length>0}}function $(S,E=!0){const T=(J=!1,q="",I=!1)=>{const W=S.currentPeek();return W==="{"?q==="%"?!1:J:W==="@"||!W?q==="%"?!0:J:W==="%"?(S.peek(),T(J,"%",!0)):W==="|"?q==="%"||I?!0:!(q===Hn||q===os):W===Hn?(S.peek(),T(!0,Hn,I)):W===os?(S.peek(),T(!0,os,I)):!0},U=T();return E&&S.resetPeek(),U}function re(S,E){const T=S.currentChar();return T===Tr?Tr:E(T)?(S.next(),T):null}function we(S){const E=S.charCodeAt(0);return E>=97&&E<=122||E>=65&&E<=90||E>=48&&E<=57||E===95||E===36}function he(S){return re(S,we)}function oe(S){const E=S.charCodeAt(0);return E>=97&&E<=122||E>=65&&E<=90||E>=48&&E<=57||E===95||E===36||E===45}function ge(S){return re(S,oe)}function z(S){const E=S.charCodeAt(0);return E>=48&&E<=57}function be(S){return re(S,z)}function de(S){const E=S.charCodeAt(0);return E>=48&&E<=57||E>=65&&E<=70||E>=97&&E<=102}function fe(S){return re(S,de)}function ce(S){let E="",T="";for(;E=be(S);)T+=E;return T}function ae(S){k(S);const E=S.currentChar();return E!=="%"&&h(je.EXPECTED_TOKEN,i(),0,E),S.next(),"%"}function Re(S){let E="";for(;;){const T=S.currentChar();if(T==="{"||T==="}"||T==="@"||T==="|"||!T)break;if(T==="%")if($(S))E+=T,S.next();else break;else if(T===Hn||T===os)if($(S))E+=T,S.next();else{if(se(S))break;E+=T,S.next()}else E+=T,S.next()}return E}function rt(S){k(S);let E="",T="";for(;E=ge(S);)T+=E;return S.currentChar()===Tr&&h(je.UNTERMINATED_CLOSING_BRACE,i(),0),T}function it(S){k(S);let E="";return S.currentChar()==="-"?(S.next(),E+=`-${ce(S)}`):E+=ce(S),S.currentChar()===Tr&&h(je.UNTERMINATED_CLOSING_BRACE,i(),0),E}function Ke(S){return S!==Eb&&S!==os}function Te(S){k(S),b(S,"'");let E="",T="";for(;E=re(S,Ke);)E==="\\"?T+=ie(S):T+=E;const U=S.currentChar();return U===os||U===Tr?(h(je.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),U===os&&(S.next(),b(S,"'")),T):(b(S,"'"),T)}function ie(S){const E=S.currentChar();switch(E){case"\\":case"'":return S.next(),`\\${E}`;case"u":return yt(S,E,4);case"U":return yt(S,E,6);default:return h(je.UNKNOWN_ESCAPE_SEQUENCE,i(),0,E),""}}function yt(S,E,T){b(S,E);let U="";for(let J=0;J<T;J++){const q=fe(S);if(!q){h(je.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${E}${U}${S.currentChar()}`);break}U+=q}return`\\${E}${U}`}function Ht(S){return S!=="{"&&S!=="}"&&S!==Hn&&S!==os}function Qe(S){k(S);let E="",T="";for(;E=re(S,Ht);)T+=E;return T}function p(S){let E="",T="";for(;E=he(S);)T+=E;return T}function y(S){const E=T=>{const U=S.currentChar();return U==="{"||U==="%"||U==="@"||U==="|"||U==="("||U===")"||!U||U===Hn?T:(T+=U,S.next(),E(T))};return E("")}function B(S){k(S);const E=b(S,"|");return k(S),E}function O(S,E){let T=null;switch(S.currentChar()){case"{":return E.braceNest>=1&&h(je.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),S.next(),T=f(E,2,"{"),k(S),E.braceNest++,T;case"}":return E.braceNest>0&&E.currentType===2&&h(je.EMPTY_PLACEHOLDER,i(),0),S.next(),T=f(E,3,"}"),E.braceNest--,E.braceNest>0&&k(S),E.inLinked&&E.braceNest===0&&(E.inLinked=!1),T;case"@":return E.braceNest>0&&h(je.UNTERMINATED_CLOSING_BRACE,i(),0),T=D(S,E)||m(E),E.braceNest=0,T;default:{let J=!0,q=!0,I=!0;if(se(S))return E.braceNest>0&&h(je.UNTERMINATED_CLOSING_BRACE,i(),0),T=f(E,1,B(S)),E.braceNest=0,E.inLinked=!1,T;if(E.braceNest>0&&(E.currentType===5||E.currentType===6||E.currentType===7))return h(je.UNTERMINATED_CLOSING_BRACE,i(),0),E.braceNest=0,V(S,E);if(J=g(S,E))return T=f(E,5,rt(S)),k(S),T;if(q=v(S,E))return T=f(E,6,it(S)),k(S),T;if(I=N(S,E))return T=f(E,7,Te(S)),k(S),T;if(!J&&!q&&!I)return T=f(E,13,Qe(S)),h(je.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,T.value),k(S),T;break}}return T}function D(S,E){const{currentType:T}=E;let U=null;const J=S.currentChar();switch((T===8||T===9||T===12||T===10)&&(J===os||J===Hn)&&h(je.INVALID_LINKED_FORMAT,i(),0),J){case"@":return S.next(),U=f(E,8,"@"),E.inLinked=!0,U;case".":return k(S),S.next(),f(E,9,".");case":":return k(S),S.next(),f(E,10,":");default:return se(S)?(U=f(E,1,B(S)),E.braceNest=0,E.inLinked=!1,U):_(S,E)||F(S,E)?(k(S),D(S,E)):H(S,E)?(k(S),f(E,12,p(S))):j(S,E)?(k(S),J==="{"?O(S,E)||U:f(E,11,y(S))):(T===8&&h(je.INVALID_LINKED_FORMAT,i(),0),E.braceNest=0,E.inLinked=!1,V(S,E))}}function V(S,E){let T={type:14};if(E.braceNest>0)return O(S,E)||m(E);if(E.inLinked)return D(S,E)||m(E);switch(S.currentChar()){case"{":return O(S,E)||m(E);case"}":return h(je.UNBALANCED_CLOSING_BRACE,i(),0),S.next(),f(E,3,"}");case"@":return D(S,E)||m(E);default:{if(se(S))return T=f(E,1,B(S)),E.braceNest=0,E.inLinked=!1,T;const{isModulo:J,hasSpace:q}=L(S);if(J)return q?f(E,0,Re(S)):f(E,4,ae(S));if($(S))return f(E,0,Re(S));break}}return T}function Y(){const{currentType:S,offset:E,startLoc:T,endLoc:U}=l;return l.lastType=S,l.lastOffset=E,l.lastStartLoc=T,l.lastEndLoc=U,l.offset=r(),l.startLoc=i(),n.currentChar()===Tr?f(l,14):V(n,l)}return{nextToken:Y,currentOffset:r,currentPosition:i,context:u}}const LB="parser",DB=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function UB(s,e,t){switch(s){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(e||t,16);return n<=55295||n>=57344?String.fromCodePoint(n):""}}}function HB(s={}){const e=s.location!==!1,{onError:t,onWarn:n}=s;function r(g,v,N,_,...H){const F=g.currentPosition();if(F.offset+=_,F.column+=_,t){const j=e?zm(N,F):null,se=Rg(v,j,{domain:LB,args:H});t(se)}}function i(g,v,N,_,...H){const F=g.currentPosition();if(F.offset+=_,F.column+=_,n){const j=e?zm(N,F):null;n(IB(v,j,H))}}function a(g,v,N){const _={type:g};return e&&(_.start=v,_.end=v,_.loc={start:N,end:N}),_}function o(g,v,N,_){_&&(g.type=_),e&&(g.end=v,g.loc&&(g.loc.end=N))}function l(g,v){const N=g.context(),_=a(3,N.offset,N.startLoc);return _.value=v,o(_,g.currentOffset(),g.currentPosition()),_}function u(g,v){const N=g.context(),{lastOffset:_,lastStartLoc:H}=N,F=a(5,_,H);return F.index=parseInt(v,10),g.nextToken(),o(F,g.currentOffset(),g.currentPosition()),F}function c(g,v,N){const _=g.context(),{lastOffset:H,lastStartLoc:F}=_,j=a(4,H,F);return j.key=v,N===!0&&(j.modulo=!0),g.nextToken(),o(j,g.currentOffset(),g.currentPosition()),j}function h(g,v){const N=g.context(),{lastOffset:_,lastStartLoc:H}=N,F=a(9,_,H);return F.value=v.replace(DB,UB),g.nextToken(),o(F,g.currentOffset(),g.currentPosition()),F}function f(g){const v=g.nextToken(),N=g.context(),{lastOffset:_,lastStartLoc:H}=N,F=a(8,_,H);return v.type!==12?(r(g,je.UNEXPECTED_EMPTY_LINKED_MODIFIER,N.lastStartLoc,0),F.value="",o(F,_,H),{nextConsumeToken:v,node:F}):(v.value==null&&r(g,je.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,Zs(v)),F.value=v.value||"",o(F,g.currentOffset(),g.currentPosition()),{node:F})}function m(g,v){const N=g.context(),_=a(7,N.offset,N.startLoc);return _.value=v,o(_,g.currentOffset(),g.currentPosition()),_}function b(g){const v=g.context(),N=a(6,v.offset,v.startLoc);let _=g.nextToken();if(_.type===9){const H=f(g);N.modifier=H.node,_=H.nextConsumeToken||g.nextToken()}switch(_.type!==10&&r(g,je.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,Zs(_)),_=g.nextToken(),_.type===2&&(_=g.nextToken()),_.type){case 11:_.value==null&&r(g,je.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,Zs(_)),N.key=m(g,_.value||"");break;case 5:_.value==null&&r(g,je.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,Zs(_)),N.key=c(g,_.value||"");break;case 6:_.value==null&&r(g,je.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,Zs(_)),N.key=u(g,_.value||"");break;case 7:_.value==null&&r(g,je.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,Zs(_)),N.key=h(g,_.value||"");break;default:{r(g,je.UNEXPECTED_EMPTY_LINKED_KEY,v.lastStartLoc,0);const H=g.context(),F=a(7,H.offset,H.startLoc);return F.value="",o(F,H.offset,H.startLoc),N.key=F,o(N,H.offset,H.startLoc),{nextConsumeToken:_,node:N}}}return o(N,g.currentOffset(),g.currentPosition()),{node:N}}function A(g){const v=g.context(),N=v.currentType===1?g.currentOffset():v.offset,_=v.currentType===1?v.endLoc:v.startLoc,H=a(2,N,_);H.items=[];let F=null,j=null;do{const $=F||g.nextToken();switch(F=null,$.type){case 0:$.value==null&&r(g,je.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,Zs($)),H.items.push(l(g,$.value||""));break;case 6:$.value==null&&r(g,je.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,Zs($)),H.items.push(u(g,$.value||""));break;case 4:j=!0;break;case 5:$.value==null&&r(g,je.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,Zs($)),H.items.push(c(g,$.value||"",!!j)),j&&(i(g,zS.USE_MODULO_SYNTAX,v.lastStartLoc,0,Zs($)),j=null);break;case 7:$.value==null&&r(g,je.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,Zs($)),H.items.push(h(g,$.value||""));break;case 8:{const re=b(g);H.items.push(re.node),F=re.nextConsumeToken||null;break}}}while(v.currentType!==14&&v.currentType!==1);const se=v.currentType===1?v.lastOffset:g.currentOffset(),L=v.currentType===1?v.lastEndLoc:g.currentPosition();return o(H,se,L),H}function k(g,v,N,_){const H=g.context();let F=_.items.length===0;const j=a(1,v,N);j.cases=[],j.cases.push(_);do{const se=A(g);F||(F=se.items.length===0),j.cases.push(se)}while(H.currentType!==14);return F&&r(g,je.MUST_HAVE_MESSAGES_IN_PLURAL,N,0),o(j,g.currentOffset(),g.currentPosition()),j}function x(g){const v=g.context(),{offset:N,startLoc:_}=v,H=A(g);return v.currentType===14?H:k(g,N,_,H)}function R(g){const v=VB(g,Bt({},s)),N=v.context(),_=a(0,N.offset,N.startLoc);return e&&_.loc&&(_.loc.source=g),_.body=x(v),s.onCacheKey&&(_.cacheKey=s.onCacheKey(g)),N.currentType!==14&&r(v,je.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,g[N.offset]||""),o(_,v.currentOffset(),v.currentPosition()),_}return{parse:R}}function Zs(s){if(s.type===14)return"EOF";const e=(s.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function MB(s,e={}){const t={ast:s,helpers:new Set};return{context:()=>t,helper:i=>(t.helpers.add(i),i)}}function Cb(s,e){for(let t=0;t<s.length;t++)Ly(s[t],e)}function Ly(s,e){switch(s.type){case 1:Cb(s.cases,e),e.helper("plural");break;case 2:Cb(s.items,e);break;case 6:{Ly(s.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function $B(s,e={}){const t=MB(s);t.helper("normalize"),s.body&&Ly(s.body,t);const n=t.context();s.helpers=Array.from(n.helpers)}function FB(s){const e=s.body;return e.type===2?Nb(e):e.cases.forEach(t=>Nb(t)),s}function Nb(s){if(s.items.length===1){const e=s.items[0];(e.type===3||e.type===9)&&(s.static=e.value,delete e.value)}else{const e=[];for(let t=0;t<s.items.length;t++){const n=s.items[t];if(!(n.type===3||n.type===9)||n.value==null)break;e.push(n.value)}if(e.length===s.items.length){s.static=By(e);for(let t=0;t<s.items.length;t++){const n=s.items[t];(n.type===3||n.type===9)&&delete n.value}}}}function nl(s){switch(s.t=s.type,s.type){case 0:{const e=s;nl(e.body),e.b=e.body,delete e.body;break}case 1:{const e=s,t=e.cases;for(let n=0;n<t.length;n++)nl(t[n]);e.c=t,delete e.cases;break}case 2:{const e=s,t=e.items;for(let n=0;n<t.length;n++)nl(t[n]);e.i=t,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=s;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=s;nl(e.key),e.k=e.key,delete e.key,e.modifier&&(nl(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=s;e.i=e.index,delete e.index;break}case 4:{const e=s;e.k=e.key,delete e.key;break}}delete s.type}function KB(s,e){const{sourceMap:t,filename:n,breakLineCode:r,needIndent:i}=e,a=e.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:i,indentLevel:0};a&&s.loc&&(o.source=s.loc.source);const l=()=>o;function u(k,x){o.code+=k}function c(k,x=!0){const R=x?r:"";u(i?R+"  ".repeat(k):R)}function h(k=!0){const x=++o.indentLevel;k&&c(x)}function f(k=!0){const x=--o.indentLevel;k&&c(x)}function m(){c(o.indentLevel)}return{context:l,push:u,indent:h,deindent:f,newline:m,helper:k=>`_${k}`,needIndent:()=>o.needIndent}}function jB(s,e){const{helper:t}=s;s.push(`${t("linked")}(`),Xc(s,e.key),e.modifier?(s.push(", "),Xc(s,e.modifier),s.push(", _type")):s.push(", undefined, _type"),s.push(")")}function JB(s,e){const{helper:t,needIndent:n}=s;s.push(`${t("normalize")}([`),s.indent(n());const r=e.items.length;for(let i=0;i<r&&(Xc(s,e.items[i]),i!==r-1);i++)s.push(", ");s.deindent(n()),s.push("])")}function WB(s,e){const{helper:t,needIndent:n}=s;if(e.cases.length>1){s.push(`${t("plural")}([`),s.indent(n());const r=e.cases.length;for(let i=0;i<r&&(Xc(s,e.cases[i]),i!==r-1);i++)s.push(", ");s.deindent(n()),s.push("])")}}function qB(s,e){e.body?Xc(s,e.body):s.push("null")}function Xc(s,e){const{helper:t}=s;switch(e.type){case 0:qB(s,e);break;case 1:WB(s,e);break;case 2:JB(s,e);break;case 6:jB(s,e);break;case 8:s.push(JSON.stringify(e.value),e);break;case 7:s.push(JSON.stringify(e.value),e);break;case 5:s.push(`${t("interpolate")}(${t("list")}(${e.index}))`,e);break;case 4:s.push(`${t("interpolate")}(${t("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:s.push(JSON.stringify(e.value),e);break;case 3:s.push(JSON.stringify(e.value),e);break}}const GB=(s,e={})=>{const t=le(e.mode)?e.mode:"normal",n=le(e.filename)?e.filename:"message.intl",r=!!e.sourceMap,i=e.breakLineCode!=null?e.breakLineCode:t==="arrow"?";":`
`,a=e.needIndent?e.needIndent:t!=="arrow",o=s.helpers||[],l=KB(s,{mode:t,filename:n,sourceMap:r,breakLineCode:i,needIndent:a});l.push(t==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(a),o.length>0&&(l.push(`const { ${By(o.map(h=>`${h}: _${h}`),", ")} } = ctx`),l.newline()),l.push("return "),Xc(l,s),l.deindent(a),l.push("}"),delete s.helpers;const{code:u,map:c}=l.context();return{ast:s,code:u,map:c?c.toJSON():void 0}};function YB(s,e={}){const t=Bt({},e),n=!!t.jit,r=!!t.minify,i=t.optimize==null?!0:t.optimize,o=HB(t).parse(s);return n?(i&&FB(o),r&&nl(o),{ast:o,code:""}):($B(o,t),GB(o,t))}/*!
  * core-base v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function XB(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(xy().__INTLIFY_PROD_DEVTOOLS__=!1)}function On(s){return Ve(s)&&Dy(s)===0&&(un(s,"b")||un(s,"body"))}const ZS=["b","body"];function QB(s){return Yi(s,ZS)}const eA=["c","cases"];function zB(s){return Yi(s,eA,[])}const tA=["s","static"];function ZB(s){return Yi(s,tA)}const sA=["i","items"];function e2(s){return Yi(s,sA,[])}const nA=["t","type"];function Dy(s){return Yi(s,nA)}const rA=["v","value"];function vd(s,e){const t=Yi(s,rA);if(t!=null)return t;throw Hf(e)}const iA=["m","modifier"];function t2(s){return Yi(s,iA)}const aA=["k","key"];function s2(s){const e=Yi(s,aA);if(e)return e;throw Hf(6)}function Yi(s,e,t){for(let n=0;n<e.length;n++){const r=e[n];if(un(s,r)&&s[r]!=null)return s[r]}return t}const oA=[...ZS,...eA,...tA,...sA,...aA,...iA,...rA,...nA];function Hf(s){return new Error(`unhandled node type: ${s}`)}const Xi=[];Xi[0]={w:[0],i:[3,0],"[":[4],o:[7]};Xi[1]={w:[1],".":[2],"[":[4],o:[7]};Xi[2]={w:[2],i:[3,0],0:[3,0]};Xi[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Xi[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Xi[5]={"'":[4,0],o:8,l:[5,0]};Xi[6]={'"':[4,0],o:8,l:[6,0]};const n2=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function r2(s){return n2.test(s)}function i2(s){const e=s.charCodeAt(0),t=s.charCodeAt(s.length-1);return e===t&&(e===34||e===39)?s.slice(1,-1):s}function a2(s){if(s==null)return"o";switch(s.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return s;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function o2(s){const e=s.trim();return s.charAt(0)==="0"&&isNaN(parseInt(s))?!1:r2(e)?i2(e):"*"+e}function l2(s){const e=[];let t=-1,n=0,r=0,i,a,o,l,u,c,h;const f=[];f[0]=()=>{a===void 0?a=o:a+=o},f[1]=()=>{a!==void 0&&(e.push(a),a=void 0)},f[2]=()=>{f[0](),r++},f[3]=()=>{if(r>0)r--,n=4,f[0]();else{if(r=0,a===void 0||(a=o2(a),a===!1))return!1;f[1]()}};function m(){const b=s[t+1];if(n===5&&b==="'"||n===6&&b==='"')return t++,o="\\"+b,f[0](),!0}for(;n!==null;)if(t++,i=s[t],!(i==="\\"&&m())){if(l=a2(i),h=Xi[n],u=h[l]||h.l||8,u===8||(n=u[0],u[1]!==void 0&&(c=f[u[1]],c&&(o=i,c()===!1))))return;if(n===7)return e}}const Ib=new Map;function c2(s,e){return Ve(s)?s[e]:null}function u2(s,e){if(!Ve(s))return null;let t=Ib.get(e);if(t||(t=l2(e),t&&Ib.set(e,t)),!t)return null;const n=t.length;let r=s,i=0;for(;i<n;){const a=t[i];if(oA.includes(a)&&On(r))return null;const o=r[a];if(o===void 0||Ye(r))return null;r=o,i++}return r}const h2=s=>s,f2=s=>"",d2="text",m2=s=>s.length===0?"":By(s),g2=Tx;function _b(s,e){return s=Math.abs(s),e===2?s?s>1?1:0:1:s?Math.min(s,2):0}function p2(s){const e=Pt(s.pluralIndex)?s.pluralIndex:-1;return s.named&&(Pt(s.named.count)||Pt(s.named.n))?Pt(s.named.count)?s.named.count:Pt(s.named.n)?s.named.n:e:e}function w2(s,e){e.count||(e.count=s),e.n||(e.n=s)}function y2(s={}){const e=s.locale,t=p2(s),n=Ve(s.pluralRules)&&le(e)&&Ye(s.pluralRules[e])?s.pluralRules[e]:_b,r=Ve(s.pluralRules)&&le(e)&&Ye(s.pluralRules[e])?_b:void 0,i=x=>x[n(t,x.length,r)],a=s.list||[],o=x=>a[x],l=s.named||Xe();Pt(s.pluralIndex)&&w2(t,l);const u=x=>l[x];function c(x){const R=Ye(s.messages)?s.messages(x):Ve(s.messages)?s.messages[x]:!1;return R||(s.parent?s.parent.message(x):f2)}const h=x=>s.modifiers?s.modifiers[x]:h2,f=Me(s.processor)&&Ye(s.processor.normalize)?s.processor.normalize:m2,m=Me(s.processor)&&Ye(s.processor.interpolate)?s.processor.interpolate:g2,b=Me(s.processor)&&le(s.processor.type)?s.processor.type:d2,k={list:o,named:u,plural:i,linked:(x,...R)=>{const[g,v]=R;let N="text",_="";R.length===1?Ve(g)?(_=g.modifier||_,N=g.type||N):le(g)&&(_=g||_):R.length===2&&(le(g)&&(_=g||_),le(v)&&(N=v||N));const H=c(x)(k),F=N==="vnode"&&xt(H)&&_?H[0]:H;return _?h(_)(F,N):F},message:c,type:b,interpolate:m,normalize:f,values:Bt(Xe(),a,l)};return k}let Mf=null;function v2(s){Mf=s}function b2(s,e,t){Mf&&Mf.emit("i18n:init",{timestamp:Date.now(),i18n:s,version:e,meta:t})}const S2=A2("function:translate");function A2(s){return e=>Mf&&Mf.emit(s,e)}const lA=zS.__EXTEND_POINT__,Zi=Ig(lA),k2={NOT_FOUND_KEY:lA,FALLBACK_TO_TRANSLATE:Zi(),CANNOT_FORMAT_NUMBER:Zi(),FALLBACK_TO_NUMBER_FORMAT:Zi(),CANNOT_FORMAT_DATE:Zi(),FALLBACK_TO_DATE_FORMAT:Zi(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Zi(),__EXTEND_POINT__:Zi()},cA=je.__EXTEND_POINT__,ea=Ig(cA),xn={INVALID_ARGUMENT:cA,INVALID_DATE_ARGUMENT:ea(),INVALID_ISO_DATE_ARGUMENT:ea(),NOT_SUPPORT_NON_STRING_MESSAGE:ea(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:ea(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:ea(),NOT_SUPPORT_LOCALE_TYPE:ea(),__EXTEND_POINT__:ea()};function ar(s){return Rg(s,null,void 0)}function Uy(s,e){return e.locale!=null?xb(e.locale):xb(s.locale)}let np;function xb(s){if(le(s))return s;if(Ye(s)){if(s.resolvedOnce&&np!=null)return np;if(s.constructor.name==="Function"){const e=s();if(Bx(e))throw ar(xn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return np=e}else throw ar(xn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw ar(xn.NOT_SUPPORT_LOCALE_TYPE)}function E2(s,e,t){return[...new Set([t,...xt(e)?e:Ve(e)?Object.keys(e):le(e)?[e]:[t]])]}function uA(s,e,t){const n=le(t)?t:Zm,r=s;r.__localeChainCache||(r.__localeChainCache=new Map);let i=r.__localeChainCache.get(n);if(!i){i=[];let a=[t];for(;xt(a);)a=Bb(i,a,e);const o=xt(e)||!Me(e)?e:e.default?e.default:null;a=le(o)?[o]:o,xt(a)&&Bb(i,a,!1),r.__localeChainCache.set(n,i)}return i}function Bb(s,e,t){let n=!0;for(let r=0;r<e.length&&gt(n);r++){const i=e[r];le(i)&&(n=C2(s,e[r],t))}return n}function C2(s,e,t){let n;const r=e.split("-");do{const i=r.join("-");n=N2(s,i,t),r.splice(-1,1)}while(r.length&&n===!0);return n}function N2(s,e,t){let n=!1;if(!s.includes(e)&&(n=!0,e)){n=e[e.length-1]!=="!";const r=e.replace(/!/g,"");s.push(r),(xt(t)||Me(t))&&t[r]&&(n=t[r])}return n}const I2="9.14.4",Og=-1,Zm="en-US",Tb="",Rb=s=>`${s.charAt(0).toLocaleUpperCase()}${s.substr(1)}`;function _2(){return{upper:(s,e)=>e==="text"&&le(s)?s.toUpperCase():e==="vnode"&&Ve(s)&&"__v_isVNode"in s?s.children.toUpperCase():s,lower:(s,e)=>e==="text"&&le(s)?s.toLowerCase():e==="vnode"&&Ve(s)&&"__v_isVNode"in s?s.children.toLowerCase():s,capitalize:(s,e)=>e==="text"&&le(s)?Rb(s):e==="vnode"&&Ve(s)&&"__v_isVNode"in s?Rb(s.children):s}}let hA;function x2(s){hA=s}let fA;function B2(s){fA=s}let dA;function T2(s){dA=s}let mA=null;const R2=s=>{mA=s},O2=()=>mA;let gA=null;const Ob=s=>{gA=s},P2=()=>gA;let Pb=0;function V2(s={}){const e=Ye(s.onWarn)?s.onWarn:Rx,t=le(s.version)?s.version:I2,n=le(s.locale)||Ye(s.locale)?s.locale:Zm,r=Ye(n)?Zm:n,i=xt(s.fallbackLocale)||Me(s.fallbackLocale)||le(s.fallbackLocale)||s.fallbackLocale===!1?s.fallbackLocale:r,a=Me(s.messages)?s.messages:rp(r),o=Me(s.datetimeFormats)?s.datetimeFormats:rp(r),l=Me(s.numberFormats)?s.numberFormats:rp(r),u=Bt(Xe(),s.modifiers,_2()),c=s.pluralRules||Xe(),h=Ye(s.missing)?s.missing:null,f=gt(s.missingWarn)||Ym(s.missingWarn)?s.missingWarn:!0,m=gt(s.fallbackWarn)||Ym(s.fallbackWarn)?s.fallbackWarn:!0,b=!!s.fallbackFormat,A=!!s.unresolving,k=Ye(s.postTranslation)?s.postTranslation:null,x=Me(s.processor)?s.processor:null,R=gt(s.warnHtmlMessage)?s.warnHtmlMessage:!0,g=!!s.escapeParameter,v=Ye(s.messageCompiler)?s.messageCompiler:hA,N=Ye(s.messageResolver)?s.messageResolver:fA||c2,_=Ye(s.localeFallbacker)?s.localeFallbacker:dA||E2,H=Ve(s.fallbackContext)?s.fallbackContext:void 0,F=s,j=Ve(F.__datetimeFormatters)?F.__datetimeFormatters:new Map,se=Ve(F.__numberFormatters)?F.__numberFormatters:new Map,L=Ve(F.__meta)?F.__meta:{};Pb++;const $={version:t,cid:Pb,locale:n,fallbackLocale:i,messages:a,modifiers:u,pluralRules:c,missing:h,missingWarn:f,fallbackWarn:m,fallbackFormat:b,unresolving:A,postTranslation:k,processor:x,warnHtmlMessage:R,escapeParameter:g,messageCompiler:v,messageResolver:N,localeFallbacker:_,fallbackContext:H,onWarn:e,__meta:L};return $.datetimeFormats=o,$.numberFormats=l,$.__datetimeFormatters=j,$.__numberFormatters=se,__INTLIFY_PROD_DEVTOOLS__&&b2($,t,L),$}const rp=s=>({[s]:Xe()});function Hy(s,e,t,n,r){const{missing:i,onWarn:a}=s;if(i!==null){const o=i(s,t,e,r);return le(o)?o:e}else return e}function cu(s,e,t){const n=s;n.__localeChainCache=new Map,s.localeFallbacker(s,t,e)}function L2(s,e){return s===e?!1:s.split("-")[0]===e.split("-")[0]}function D2(s,e){const t=e.indexOf(s);if(t===-1)return!1;for(let n=t+1;n<e.length;n++)if(L2(s,e[n]))return!0;return!1}function ip(s){return t=>U2(t,s)}function U2(s,e){const t=QB(e);if(t==null)throw Hf(0);if(Dy(t)===1){const i=zB(t);return s.plural(i.reduce((a,o)=>[...a,Vb(s,o)],[]))}else return Vb(s,t)}function Vb(s,e){const t=ZB(e);if(t!=null)return s.type==="text"?t:s.normalize([t]);{const n=e2(e).reduce((r,i)=>[...r,gw(s,i)],[]);return s.normalize(n)}}function gw(s,e){const t=Dy(e);switch(t){case 3:return vd(e,t);case 9:return vd(e,t);case 4:{const n=e;if(un(n,"k")&&n.k)return s.interpolate(s.named(n.k));if(un(n,"key")&&n.key)return s.interpolate(s.named(n.key));throw Hf(t)}case 5:{const n=e;if(un(n,"i")&&Pt(n.i))return s.interpolate(s.list(n.i));if(un(n,"index")&&Pt(n.index))return s.interpolate(s.list(n.index));throw Hf(t)}case 6:{const n=e,r=t2(n),i=s2(n);return s.linked(gw(s,i),r?gw(s,r):void 0,s.type)}case 7:return vd(e,t);case 8:return vd(e,t);default:throw new Error(`unhandled node on format message part: ${t}`)}}const H2=s=>s;let bd=Xe();function M2(s,e={}){let t=!1;const n=e.onError||_B;return e.onError=r=>{t=!0,n(r)},{...YB(s,e),detectError:t}}function $2(s,e){if(le(s)){gt(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||H2)(s),r=bd[n];if(r)return r;const{ast:i,detectError:a}=M2(s,{...e,location:!1,jit:!0}),o=ip(i);return a?o:bd[n]=o}else{const t=s.cacheKey;if(t){const n=bd[t];return n||(bd[t]=ip(s))}else return ip(s)}}const Lb=()=>"",js=s=>Ye(s);function Db(s,...e){const{fallbackFormat:t,postTranslation:n,unresolving:r,messageCompiler:i,fallbackLocale:a,messages:o}=s,[l,u]=pw(...e),c=gt(u.missingWarn)?u.missingWarn:s.missingWarn,h=gt(u.fallbackWarn)?u.fallbackWarn:s.fallbackWarn,f=gt(u.escapeParameter)?u.escapeParameter:s.escapeParameter,m=!!u.resolvedMessage,b=le(u.default)||gt(u.default)?gt(u.default)?i?l:()=>l:u.default:t?i?l:()=>l:"",A=t||b!=="",k=Uy(s,u);f&&F2(u);let[x,R,g]=m?[l,k,o[k]||Xe()]:pA(s,l,k,a,h,c),v=x,N=l;if(!m&&!(le(v)||On(v)||js(v))&&A&&(v=b,N=v),!m&&(!(le(v)||On(v)||js(v))||!le(R)))return r?Og:l;let _=!1;const H=()=>{_=!0},F=js(v)?v:wA(s,l,R,v,N,H);if(_)return v;const j=J2(s,R,g,u),se=y2(j),L=K2(s,F,se),$=n?n(L,l):L;if(__INTLIFY_PROD_DEVTOOLS__){const re={timestamp:Date.now(),key:le(l)?l:js(v)?v.key:"",locale:R||(js(v)?v.locale:""),format:le(v)?v:js(v)?v.source:"",message:$};re.meta=Bt({},s.__meta,O2()||{}),S2(re)}return $}function F2(s){xt(s.list)?s.list=s.list.map(e=>le(e)?gb(e):e):Ve(s.named)&&Object.keys(s.named).forEach(e=>{le(s.named[e])&&(s.named[e]=gb(s.named[e]))})}function pA(s,e,t,n,r,i){const{messages:a,onWarn:o,messageResolver:l,localeFallbacker:u}=s,c=u(s,n,t);let h=Xe(),f,m=null;const b="translate";for(let A=0;A<c.length&&(f=c[A],h=a[f]||Xe(),(m=l(h,e))===null&&(m=h[e]),!(le(m)||On(m)||js(m)));A++)if(!D2(f,c)){const k=Hy(s,e,f,i,b);k!==e&&(m=k)}return[m,f,h]}function wA(s,e,t,n,r,i){const{messageCompiler:a,warnHtmlMessage:o}=s;if(js(n)){const u=n;return u.locale=u.locale||t,u.key=u.key||e,u}if(a==null){const u=()=>n;return u.locale=t,u.key=e,u}const l=a(n,j2(s,t,r,n,o,i));return l.locale=t,l.key=e,l.source=n,l}function K2(s,e,t){return e(t)}function pw(...s){const[e,t,n]=s,r=Xe();if(!le(e)&&!Pt(e)&&!js(e)&&!On(e))throw ar(xn.INVALID_ARGUMENT);const i=Pt(e)?String(e):(js(e),e);return Pt(t)?r.plural=t:le(t)?r.default=t:Me(t)&&!Ng(t)?r.named=t:xt(t)&&(r.list=t),Pt(n)?r.plural=n:le(n)?r.default=n:Me(n)&&Bt(r,n),[i,r]}function j2(s,e,t,n,r,i){return{locale:e,key:t,warnHtmlMessage:r,onError:a=>{throw i&&i(a),a},onCacheKey:a=>Ex(e,t,a)}}function J2(s,e,t,n){const{modifiers:r,pluralRules:i,messageResolver:a,fallbackLocale:o,fallbackWarn:l,missingWarn:u,fallbackContext:c}=s,f={locale:e,modifiers:r,pluralRules:i,messages:m=>{let b=a(t,m);if(b==null&&c){const[,,A]=pA(c,m,e,o,l,u);b=a(A,m)}if(le(b)||On(b)){let A=!1;const x=wA(s,m,e,b,m,()=>{A=!0});return A?Lb:x}else return js(b)?b:Lb}};return s.processor&&(f.processor=s.processor),n.list&&(f.list=n.list),n.named&&(f.named=n.named),Pt(n.plural)&&(f.pluralIndex=n.plural),f}function Ub(s,...e){const{datetimeFormats:t,unresolving:n,fallbackLocale:r,onWarn:i,localeFallbacker:a}=s,{__datetimeFormatters:o}=s,[l,u,c,h]=ww(...e),f=gt(c.missingWarn)?c.missingWarn:s.missingWarn;gt(c.fallbackWarn)?c.fallbackWarn:s.fallbackWarn;const m=!!c.part,b=Uy(s,c),A=a(s,r,b);if(!le(l)||l==="")return new Intl.DateTimeFormat(b,h).format(u);let k={},x,R=null;const g="datetime format";for(let _=0;_<A.length&&(x=A[_],k=t[x]||{},R=k[l],!Me(R));_++)Hy(s,l,x,f,g);if(!Me(R)||!le(x))return n?Og:l;let v=`${x}__${l}`;Ng(h)||(v=`${v}__${JSON.stringify(h)}`);let N=o.get(v);return N||(N=new Intl.DateTimeFormat(x,Bt({},R,h)),o.set(v,N)),m?N.formatToParts(u):N.format(u)}const yA=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function ww(...s){const[e,t,n,r]=s,i=Xe();let a=Xe(),o;if(le(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw ar(xn.INVALID_ISO_DATE_ARGUMENT);const u=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();o=new Date(u);try{o.toISOString()}catch{throw ar(xn.INVALID_ISO_DATE_ARGUMENT)}}else if(Nx(e)){if(isNaN(e.getTime()))throw ar(xn.INVALID_DATE_ARGUMENT);o=e}else if(Pt(e))o=e;else throw ar(xn.INVALID_ARGUMENT);return le(t)?i.key=t:Me(t)&&Object.keys(t).forEach(l=>{yA.includes(l)?a[l]=t[l]:i[l]=t[l]}),le(n)?i.locale=n:Me(n)&&(a=n),Me(r)&&(a=r),[i.key||"",o,i,a]}function Hb(s,e,t){const n=s;for(const r in t){const i=`${e}__${r}`;n.__datetimeFormatters.has(i)&&n.__datetimeFormatters.delete(i)}}function Mb(s,...e){const{numberFormats:t,unresolving:n,fallbackLocale:r,onWarn:i,localeFallbacker:a}=s,{__numberFormatters:o}=s,[l,u,c,h]=yw(...e),f=gt(c.missingWarn)?c.missingWarn:s.missingWarn;gt(c.fallbackWarn)?c.fallbackWarn:s.fallbackWarn;const m=!!c.part,b=Uy(s,c),A=a(s,r,b);if(!le(l)||l==="")return new Intl.NumberFormat(b,h).format(u);let k={},x,R=null;const g="number format";for(let _=0;_<A.length&&(x=A[_],k=t[x]||{},R=k[l],!Me(R));_++)Hy(s,l,x,f,g);if(!Me(R)||!le(x))return n?Og:l;let v=`${x}__${l}`;Ng(h)||(v=`${v}__${JSON.stringify(h)}`);let N=o.get(v);return N||(N=new Intl.NumberFormat(x,Bt({},R,h)),o.set(v,N)),m?N.formatToParts(u):N.format(u)}const vA=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function yw(...s){const[e,t,n,r]=s,i=Xe();let a=Xe();if(!Pt(e))throw ar(xn.INVALID_ARGUMENT);const o=e;return le(t)?i.key=t:Me(t)&&Object.keys(t).forEach(l=>{vA.includes(l)?a[l]=t[l]:i[l]=t[l]}),le(n)?i.locale=n:Me(n)&&(a=n),Me(r)&&(a=r),[i.key||"",o,i,a]}function $b(s,e,t){const n=s;for(const r in t){const i=`${e}__${r}`;n.__numberFormatters.has(i)&&n.__numberFormatters.delete(i)}}XB();/*!
  * vue-i18n v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const W2="9.14.4";function q2(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(xy().__INTLIFY_PROD_DEVTOOLS__=!1)}const bA=k2.__EXTEND_POINT__,Mn=Ig(bA);Mn(),Mn(),Mn(),Mn(),Mn(),Mn(),Mn(),Mn(),Mn();const SA=xn.__EXTEND_POINT__,ys=Ig(SA),zs={UNEXPECTED_RETURN_TYPE:SA,INVALID_ARGUMENT:ys(),MUST_BE_CALL_SETUP_TOP:ys(),NOT_INSTALLED:ys(),NOT_AVAILABLE_IN_LEGACY_MODE:ys(),REQUIRED_VALUE:ys(),INVALID_VALUE:ys(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:ys(),NOT_INSTALLED_WITH_PROVIDE:ys(),UNEXPECTED_ERROR:ys(),NOT_COMPATIBLE_LEGACY_VUE_I18N:ys(),BRIDGE_SUPPORT_VUE_2_ONLY:ys(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:ys(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:ys(),__EXTEND_POINT__:ys()};function wn(s,...e){return Rg(s,null,void 0)}const vw=qi("__translateVNode"),bw=qi("__datetimeParts"),Sw=qi("__numberParts"),G2=qi("__setPluralRules"),Y2=qi("__injectWithOption"),Aw=qi("__dispose");function $f(s){if(!Ve(s)||On(s))return s;for(const e in s)if(un(s,e))if(!e.includes("."))Ve(s[e])&&$f(s[e]);else{const t=e.split("."),n=t.length-1;let r=s,i=!1;for(let a=0;a<n;a++){if(t[a]==="__proto__")throw new Error(`unsafe key: ${t[a]}`);if(t[a]in r||(r[t[a]]=Xe()),!Ve(r[t[a]])){i=!0;break}r=r[t[a]]}if(i||(On(r)?oA.includes(t[n])||delete s[e]:(r[t[n]]=s[e],delete s[e])),!On(r)){const a=r[t[n]];Ve(a)&&$f(a)}}return s}function AA(s,e){const{messages:t,__i18n:n,messageResolver:r,flatJson:i}=e,a=Me(t)?t:xt(n)?Xe():{[s]:Xe()};if(xt(n)&&n.forEach(o=>{if("locale"in o&&"resource"in o){const{locale:l,resource:u}=o;l?(a[l]=a[l]||Xe(),vo(u,a[l])):vo(u,a)}else le(o)&&vo(JSON.parse(o),a)}),r==null&&i)for(const o in a)un(a,o)&&$f(a[o]);return a}function kA(s){return s.type}function X2(s,e,t){let n=Ve(e.messages)?e.messages:Xe();"__i18nGlobal"in t&&(n=AA(s.locale.value,{messages:n,__i18n:t.__i18nGlobal}));const r=Object.keys(n);r.length&&r.forEach(i=>{s.mergeLocaleMessage(i,n[i])});{if(Ve(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach(a=>{s.mergeDateTimeFormat(a,e.datetimeFormats[a])})}if(Ve(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach(a=>{s.mergeNumberFormat(a,e.numberFormats[a])})}}}function Fb(s){return ye(Di,null,s,0)}const Kb="__INTLIFY_META__",jb=()=>[],Q2=()=>!1;let Jb=0;function Wb(s){return(e,t,n,r)=>s(t,n,td()||void 0,r)}const z2=()=>{const s=td();let e=null;return s&&(e=kA(s)[Kb])?{[Kb]:e}:null};function EA(s={},e){const{__root:t,__injectWithOption:n}=s,r=t===void 0,i=s.flatJson,a=Gm?He:jp,o=!!s.translateExistCompatible;let l=gt(s.inheritLocale)?s.inheritLocale:!0;const u=a(t&&l?t.locale.value:le(s.locale)?s.locale:Zm),c=a(t&&l?t.fallbackLocale.value:le(s.fallbackLocale)||xt(s.fallbackLocale)||Me(s.fallbackLocale)||s.fallbackLocale===!1?s.fallbackLocale:u.value),h=a(AA(u.value,s)),f=a(Me(s.datetimeFormats)?s.datetimeFormats:{[u.value]:{}}),m=a(Me(s.numberFormats)?s.numberFormats:{[u.value]:{}});let b=t?t.missingWarn:gt(s.missingWarn)||Ym(s.missingWarn)?s.missingWarn:!0,A=t?t.fallbackWarn:gt(s.fallbackWarn)||Ym(s.fallbackWarn)?s.fallbackWarn:!0,k=t?t.fallbackRoot:gt(s.fallbackRoot)?s.fallbackRoot:!0,x=!!s.fallbackFormat,R=Ye(s.missing)?s.missing:null,g=Ye(s.missing)?Wb(s.missing):null,v=Ye(s.postTranslation)?s.postTranslation:null,N=t?t.warnHtmlMessage:gt(s.warnHtmlMessage)?s.warnHtmlMessage:!0,_=!!s.escapeParameter;const H=t?t.modifiers:Me(s.modifiers)?s.modifiers:{};let F=s.pluralRules||t&&t.pluralRules,j;j=(()=>{r&&Ob(null);const I={version:W2,locale:u.value,fallbackLocale:c.value,messages:h.value,modifiers:H,pluralRules:F,missing:g===null?void 0:g,missingWarn:b,fallbackWarn:A,fallbackFormat:x,unresolving:!0,postTranslation:v===null?void 0:v,warnHtmlMessage:N,escapeParameter:_,messageResolver:s.messageResolver,messageCompiler:s.messageCompiler,__meta:{framework:"vue"}};I.datetimeFormats=f.value,I.numberFormats=m.value,I.__datetimeFormatters=Me(j)?j.__datetimeFormatters:void 0,I.__numberFormatters=Me(j)?j.__numberFormatters:void 0;const W=V2(I);return r&&Ob(W),W})(),cu(j,u.value,c.value);function L(){return[u.value,c.value,h.value,f.value,m.value]}const $=ss({get:()=>u.value,set:I=>{u.value=I,j.locale=u.value}}),re=ss({get:()=>c.value,set:I=>{c.value=I,j.fallbackLocale=c.value,cu(j,u.value,I)}}),we=ss(()=>h.value),he=ss(()=>f.value),oe=ss(()=>m.value);function ge(){return Ye(v)?v:null}function z(I){v=I,j.postTranslation=I}function be(){return R}function de(I){I!==null&&(g=Wb(I)),R=I,j.missing=g}const fe=(I,W,ve,Ee,ze,Et)=>{L();let Mt;try{__INTLIFY_PROD_DEVTOOLS__,r||(j.fallbackContext=t?P2():void 0),Mt=I(j)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(j.fallbackContext=void 0)}if(ve!=="translate exists"&&Pt(Mt)&&Mt===Og||ve==="translate exists"&&!Mt){const[rs,Uo]=W();return t&&k?Ee(t):ze(rs)}else{if(Et(Mt))return Mt;throw wn(zs.UNEXPECTED_RETURN_TYPE)}};function ce(...I){return fe(W=>Reflect.apply(Db,null,[W,...I]),()=>pw(...I),"translate",W=>Reflect.apply(W.t,W,[...I]),W=>W,W=>le(W))}function ae(...I){const[W,ve,Ee]=I;if(Ee&&!Ve(Ee))throw wn(zs.INVALID_ARGUMENT);return ce(W,ve,Bt({resolvedMessage:!0},Ee||{}))}function Re(...I){return fe(W=>Reflect.apply(Ub,null,[W,...I]),()=>ww(...I),"datetime format",W=>Reflect.apply(W.d,W,[...I]),()=>Tb,W=>le(W))}function rt(...I){return fe(W=>Reflect.apply(Mb,null,[W,...I]),()=>yw(...I),"number format",W=>Reflect.apply(W.n,W,[...I]),()=>Tb,W=>le(W))}function it(I){return I.map(W=>le(W)||Pt(W)||gt(W)?Fb(String(W)):W)}const Te={normalize:it,interpolate:I=>I,type:"vnode"};function ie(...I){return fe(W=>{let ve;const Ee=W;try{Ee.processor=Te,ve=Reflect.apply(Db,null,[Ee,...I])}finally{Ee.processor=null}return ve},()=>pw(...I),"translate",W=>W[vw](...I),W=>[Fb(W)],W=>xt(W))}function yt(...I){return fe(W=>Reflect.apply(Mb,null,[W,...I]),()=>yw(...I),"number format",W=>W[Sw](...I),jb,W=>le(W)||xt(W))}function Ht(...I){return fe(W=>Reflect.apply(Ub,null,[W,...I]),()=>ww(...I),"datetime format",W=>W[bw](...I),jb,W=>le(W)||xt(W))}function Qe(I){F=I,j.pluralRules=F}function p(I,W){return fe(()=>{if(!I)return!1;const ve=le(W)?W:u.value,Ee=O(ve),ze=j.messageResolver(Ee,I);return o?ze!=null:On(ze)||js(ze)||le(ze)},()=>[I],"translate exists",ve=>Reflect.apply(ve.te,ve,[I,W]),Q2,ve=>gt(ve))}function y(I){let W=null;const ve=uA(j,c.value,u.value);for(let Ee=0;Ee<ve.length;Ee++){const ze=h.value[ve[Ee]]||{},Et=j.messageResolver(ze,I);if(Et!=null){W=Et;break}}return W}function B(I){const W=y(I);return W??(t?t.tm(I)||{}:{})}function O(I){return h.value[I]||{}}function D(I,W){if(i){const ve={[I]:W};for(const Ee in ve)un(ve,Ee)&&$f(ve[Ee]);W=ve[I]}h.value[I]=W,j.messages=h.value}function V(I,W){h.value[I]=h.value[I]||{};const ve={[I]:W};if(i)for(const Ee in ve)un(ve,Ee)&&$f(ve[Ee]);W=ve[I],vo(W,h.value[I]),j.messages=h.value}function Y(I){return f.value[I]||{}}function S(I,W){f.value[I]=W,j.datetimeFormats=f.value,Hb(j,I,W)}function E(I,W){f.value[I]=Bt(f.value[I]||{},W),j.datetimeFormats=f.value,Hb(j,I,W)}function T(I){return m.value[I]||{}}function U(I,W){m.value[I]=W,j.numberFormats=m.value,$b(j,I,W)}function J(I,W){m.value[I]=Bt(m.value[I]||{},W),j.numberFormats=m.value,$b(j,I,W)}Jb++,t&&Gm&&(Rn(t.locale,I=>{l&&(u.value=I,j.locale=I,cu(j,u.value,c.value))}),Rn(t.fallbackLocale,I=>{l&&(c.value=I,j.fallbackLocale=I,cu(j,u.value,c.value))}));const q={id:Jb,locale:$,fallbackLocale:re,get inheritLocale(){return l},set inheritLocale(I){l=I,I&&t&&(u.value=t.locale.value,c.value=t.fallbackLocale.value,cu(j,u.value,c.value))},get availableLocales(){return Object.keys(h.value).sort()},messages:we,get modifiers(){return H},get pluralRules(){return F||{}},get isGlobal(){return r},get missingWarn(){return b},set missingWarn(I){b=I,j.missingWarn=b},get fallbackWarn(){return A},set fallbackWarn(I){A=I,j.fallbackWarn=A},get fallbackRoot(){return k},set fallbackRoot(I){k=I},get fallbackFormat(){return x},set fallbackFormat(I){x=I,j.fallbackFormat=x},get warnHtmlMessage(){return N},set warnHtmlMessage(I){N=I,j.warnHtmlMessage=I},get escapeParameter(){return _},set escapeParameter(I){_=I,j.escapeParameter=I},t:ce,getLocaleMessage:O,setLocaleMessage:D,mergeLocaleMessage:V,getPostTranslationHandler:ge,setPostTranslationHandler:z,getMissingHandler:be,setMissingHandler:de,[G2]:Qe};return q.datetimeFormats=he,q.numberFormats=oe,q.rt=ae,q.te=p,q.tm=B,q.d=Re,q.n=rt,q.getDateTimeFormat=Y,q.setDateTimeFormat=S,q.mergeDateTimeFormat=E,q.getNumberFormat=T,q.setNumberFormat=U,q.mergeNumberFormat=J,q[Y2]=n,q[vw]=ie,q[bw]=Ht,q[Sw]=yt,q}const My={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:s=>s==="parent"||s==="global",default:"parent"},i18n:{type:Object}};function Z2({slots:s},e){return e.length===1&&e[0]==="default"?(s.default?s.default():[]).reduce((n,r)=>[...n,...r.type===Lt?r.children:[r]],[]):e.reduce((t,n)=>{const r=s[n];return r&&(t[n]=r()),t},Xe())}function CA(s){return Lt}const eT=Wi({name:"i18n-t",props:Bt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:s=>Pt(s)||!isNaN(s)}},My),setup(s,e){const{slots:t,attrs:n}=e,r=s.i18n||Pg({useScope:s.scope,__useComponent:!0});return()=>{const i=Object.keys(t).filter(h=>h!=="_"),a=Xe();s.locale&&(a.locale=s.locale),s.plural!==void 0&&(a.plural=le(s.plural)?+s.plural:s.plural);const o=Z2(e,i),l=r[vw](s.keypath,o,a),u=Bt(Xe(),n),c=le(s.tag)||Ve(s.tag)?s.tag:CA();return ky(c,u,l)}}}),qb=eT;function tT(s){return xt(s)&&!le(s[0])}function NA(s,e,t,n){const{slots:r,attrs:i}=e;return()=>{const a={part:!0};let o=Xe();s.locale&&(a.locale=s.locale),le(s.format)?a.key=s.format:Ve(s.format)&&(le(s.format.key)&&(a.key=s.format.key),o=Object.keys(s.format).reduce((f,m)=>t.includes(m)?Bt(Xe(),f,{[m]:s.format[m]}):f,Xe()));const l=n(s.value,a,o);let u=[a.key];xt(l)?u=l.map((f,m)=>{const b=r[f.type],A=b?b({[f.type]:f.value,index:m,parts:l}):[f.value];return tT(A)&&(A[0].key=`${f.type}-${m}`),A}):le(l)&&(u=[l]);const c=Bt(Xe(),i),h=le(s.tag)||Ve(s.tag)?s.tag:CA();return ky(h,c,u)}}const sT=Wi({name:"i18n-n",props:Bt({value:{type:Number,required:!0},format:{type:[String,Object]}},My),setup(s,e){const t=s.i18n||Pg({useScope:s.scope,__useComponent:!0});return NA(s,e,vA,(...n)=>t[Sw](...n))}}),Gb=sT,nT=Wi({name:"i18n-d",props:Bt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},My),setup(s,e){const t=s.i18n||Pg({useScope:s.scope,__useComponent:!0});return NA(s,e,yA,(...n)=>t[bw](...n))}}),Yb=nT;function rT(s,e){const t=s;if(s.mode==="composition")return t.__getInstance(e)||s.global;{const n=t.__getInstance(e);return n!=null?n.__composer:s.global.__composer}}function iT(s){const e=a=>{const{instance:o,modifiers:l,value:u}=a;if(!o||!o.$)throw wn(zs.UNEXPECTED_ERROR);const c=rT(s,o.$),h=Xb(u);return[Reflect.apply(c.t,c,[...Qb(h)]),c]};return{created:(a,o)=>{const[l,u]=e(o);Gm&&s.global===u&&(a.__i18nWatcher=Rn(u.locale,()=>{o.instance&&o.instance.$forceUpdate()})),a.__composer=u,a.textContent=l},unmounted:a=>{Gm&&a.__i18nWatcher&&(a.__i18nWatcher(),a.__i18nWatcher=void 0,delete a.__i18nWatcher),a.__composer&&(a.__composer=void 0,delete a.__composer)},beforeUpdate:(a,{value:o})=>{if(a.__composer){const l=a.__composer,u=Xb(o);a.textContent=Reflect.apply(l.t,l,[...Qb(u)])}},getSSRProps:a=>{const[o]=e(a);return{textContent:o}}}}function Xb(s){if(le(s))return{path:s};if(Me(s)){if(!("path"in s))throw wn(zs.REQUIRED_VALUE,"path");return s}else throw wn(zs.INVALID_VALUE)}function Qb(s){const{path:e,locale:t,args:n,choice:r,plural:i}=s,a={},o=n||{};return le(t)&&(a.locale=t),Pt(r)&&(a.plural=r),Pt(i)&&(a.plural=i),[e,o,a]}function aT(s,e,...t){const n=Me(t[0])?t[0]:{},r=!!n.useI18nComponentName;(gt(n.globalInstall)?n.globalInstall:!0)&&([r?"i18n":qb.name,"I18nT"].forEach(a=>s.component(a,qb)),[Gb.name,"I18nN"].forEach(a=>s.component(a,Gb)),[Yb.name,"I18nD"].forEach(a=>s.component(a,Yb))),s.directive("t",iT(e))}const oT=qi("global-vue-i18n");function lT(s={},e){const t=gt(s.globalInjection)?s.globalInjection:!0,n=!0,r=new Map,[i,a]=cT(s),o=qi("");function l(h){return r.get(h)||null}function u(h,f){r.set(h,f)}function c(h){r.delete(h)}{const h={get mode(){return"composition"},get allowComposition(){return n},async install(f,...m){if(f.__VUE_I18N_SYMBOL__=o,f.provide(f.__VUE_I18N_SYMBOL__,h),Me(m[0])){const k=m[0];h.__composerExtend=k.__composerExtend,h.__vueI18nExtend=k.__vueI18nExtend}let b=null;t&&(b=wT(f,h.global)),aT(f,h,...m);const A=f.unmount;f.unmount=()=>{b&&b(),h.dispose(),A()}},get global(){return a},dispose(){i.stop()},__instances:r,__getInstance:l,__setInstance:u,__deleteInstance:c};return h}}function Pg(s={}){const e=td();if(e==null)throw wn(zs.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw wn(zs.NOT_INSTALLED);const t=uT(e),n=fT(t),r=kA(e),i=hT(s,r);if(i==="global")return X2(n,s,r),n;if(i==="parent"){let l=dT(t,e,s.__useComponent);return l==null&&(l=n),l}const a=t;let o=a.__getInstance(e);if(o==null){const l=Bt({},s);"__i18n"in r&&(l.__i18n=r.__i18n),n&&(l.__root=n),o=EA(l),a.__composerExtend&&(o[Aw]=a.__composerExtend(o)),gT(a,e,o),a.__setInstance(e,o)}return o}function cT(s,e,t){const n=sy();{const r=n.run(()=>EA(s));if(r==null)throw wn(zs.UNEXPECTED_ERROR);return[n,r]}}function uT(s){{const e=yo(s.isCE?oT:s.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw wn(s.isCE?zs.NOT_INSTALLED_WITH_PROVIDE:zs.UNEXPECTED_ERROR);return e}}function hT(s,e){return Ng(s)?"__i18n"in e?"local":"global":s.useScope?s.useScope:"local"}function fT(s){return s.mode==="composition"?s.global:s.global.__composer}function dT(s,e,t=!1){let n=null;const r=e.root;let i=mT(e,t);for(;i!=null;){const a=s;if(s.mode==="composition"&&(n=a.__getInstance(i)),n!=null||r===i)break;i=i.parent}return n}function mT(s,e=!1){return s==null?null:e&&s.vnode.ctx||s.parent}function gT(s,e,t){my(()=>{},e),gy(()=>{const n=t;s.__deleteInstance(e);const r=n[Aw];r&&(r(),delete n[Aw])},e)}const pT=["locale","fallbackLocale","availableLocales"],zb=["t","rt","d","n","tm","te"];function wT(s,e){const t=Object.create(null);return pT.forEach(r=>{const i=Object.getOwnPropertyDescriptor(e,r);if(!i)throw wn(zs.UNEXPECTED_ERROR);const a=pe(i.value)?{get(){return i.value.value},set(o){i.value.value=o}}:{get(){return i.get&&i.get()}};Object.defineProperty(t,r,a)}),s.config.globalProperties.$i18n=t,zb.forEach(r=>{const i=Object.getOwnPropertyDescriptor(e,r);if(!i||!i.value)throw wn(zs.UNEXPECTED_ERROR);Object.defineProperty(s.config.globalProperties,`$${r}`,i)}),()=>{delete s.config.globalProperties.$i18n,zb.forEach(r=>{delete s.config.globalProperties[`$${r}`]})}}q2();x2($2);B2(u2);T2(uA);if(__INTLIFY_PROD_DEVTOOLS__){const s=xy();s.__INTLIFY__=!0,v2(s.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}function yT(){return Bs(Yc)}const vT=Nr({name:"i18n:plugin:switch-locale-path-ssr",dependsOn:["i18n:plugin"],setup(s){if(s.$config.public.i18n.experimental.switchLocalePathLinkSSR!==!0)return;const e=yT(),t=new RegExp([`<!--${pb}-\\[(\\w+)\\]-->`,".+?",`<!--/${pb}-->`].join(""),"g");s.hook("app:rendered",n=>{var r;((r=n.renderResult)==null?void 0:r.html)!=null&&(n.renderResult.html=n.renderResult.html.replaceAll(t,(i,a)=>i.replace(/href="([^"]+)"/,`href="${encodeURI(e(a??""))}"`)))})}});function bT(s,{locales:e=[],localeCodes:t=[],baseUrl:n="",hooks:r={},context:i={}}={}){const a=sy(),o=s.install;return s.install=(l,...u)=>{const c=kT(u[0])?Bt({},u[0]):{inject:!0};c.inject==null&&(c.inject=!0);const h=c.__composerExtend;if(c.__composerExtend=A=>{const k=qc(s);A.locales=ss(()=>k.locales.value),A.localeCodes=ss(()=>k.localeCodes.value),A.baseUrl=ss(()=>k.baseUrl.value);let x;return Ye(h)&&(x=Reflect.apply(h,c,[A])),()=>{x&&x()}},s.mode==="legacy"){const A=c.__vueI18nExtend;c.__vueI18nExtend=k=>{Zb(k,r.onExtendVueI18n);let x;return Ye(A)&&(x=Reflect.apply(A,c,[k])),()=>{x&&x()}}}u[0]=c,Reflect.apply(o,s,[l,...u]);const f=qc(s);a.run(()=>{ST(f,{locales:e,localeCodes:t,baseUrl:n,hooks:r,context:i}),s.mode==="legacy"&&DS(s.global)&&Zb(s.global,r.onExtendVueI18n)});const m=l,b=s.mode==="composition"?m.config.globalProperties.$i18n:null;if(b&&AT(b,f,r.onExtendExportedGlobal),c.inject){const A=Vy(s);l.mixin({methods:{getRouteBaseName:Bs(Gc,A),resolveRoute:Bs(Bg,A),localePath:Bs(Ry,A),localeRoute:Bs(Oy,A),localeLocation:Bs(nB,A),switchLocalePath:Bs(Yc,A),localeHead:Bs($S,A)}})}if(m.unmount){const A=m.unmount;m.unmount=()=>{a.stop(),A()}}},a}function ST(s,e){const{locales:t,localeCodes:n,baseUrl:r,context:i}=e,a=He(t),o=He(n),l=He("");s.locales=ss(()=>a.value),s.localeCodes=ss(()=>o.value),s.baseUrl=ss(()=>l.value),Dx?Rn(s.locale,()=>{l.value=yb(r,i)},{immediate:!0}):l.value=yb(r,i),e.hooks&&e.hooks.onExtendComposer&&e.hooks.onExtendComposer(s)}function IA(s,e,t){const n=[{locales:{get(){return s.locales.value}},localeCodes:{get(){return s.localeCodes.value}},baseUrl:{get(){return s.baseUrl.value}}}];t&&n.push(t(s));for(const r of n)for(const[i,a]of Object.entries(r))Object.defineProperty(e,i,a)}function AT(s,e,t){IA(e,s,t)}function Zb(s,e){const t=qc(s);IA(t,s,e)}function kT(s){return Ve(s)&&("inject"in s||"__composerExtend"in s||"__vueI18nExtend"in s)}const ET=Nr({name:"i18n:plugin",parallel:Px,async setup(s){let e,t;const n=Iy(),{vueApp:r}=s,i=s,a=Tg(),{configLocales:o,defaultLocale:l,multiDomainLocales:u,strategy:c}=i.$config.public.i18n,h=o.some(L=>typeof L!="string"&&Array.isArray(L.defaultForDomains));let f;if(l)f=l;else if(h){const L=o.find($=>typeof $=="string"||!Array.isArray($.defaultForDomains)?!1:$.defaultForDomains.includes(a??""));f=(L==null?void 0:L.code)??""}else f="";if(u&&(c==="prefix_except_default"||c==="prefix_and_default")){const L=ru();L.getRoutes().forEach($=>{var re;if((re=$.name)!=null&&re.toString().includes("___default"))if($.name.toString().split("___")[1]!==f)L.removeRoute($.name);else{const he=$.name.toString().replace("___default","");$.name=he}})}const m={...i.$config.public.i18n,defaultLocale:f};m.baseUrl=bB();const b=id(),A=([e,t]=oo(()=>Gx(Ox,nt())),e=await e,t(),e);A.messages=A.messages||{},A.fallbackLocale=A.fallbackLocale??!1;const k=jS(),x=L=>L||A.locale||"en-US",R=AB();let g=Sb(n,k,x(m.defaultLocale),{ssg:m.strategy==="no_prefix"?"ssg_ignore":"normal",callType:"setup",firstAccess:!0,localeCookie:sp(R,b,m.defaultLocale)},m);A.messages=([e,t]=oo(()=>Yx(A.messages,Xm,{localeCodes:Wc,initialLocale:g,lazy:m.lazy,defaultLocale:m.defaultLocale,fallbackLocale:A.fallbackLocale})),e=await e,t(),e),g=x(g);const v=lT({...A,locale:g});let N=!0;const _=L=>g!==L&&N;let H=!0;const F=()=>H;if(F()&&m.strategy==="no_prefix"){const L=R.value;s.hook("app:mounted",()=>{const $=XS(n,{ssg:"ssg_setup",callType:"setup",firstAccess:!0,localeCookie:L},g);hB(v,$.locale),H=!1})}bT(v,{locales:m.configLocales,localeCodes:Wc,baseUrl:m.baseUrl,context:i,hooks:{onExtendComposer(L){L.strategy=m.strategy,L.localeProperties=ss(()=>_g.find($=>$.code===L.locale.value)||{code:L.locale.value}),L.setLocale=async $=>{const re=_($);await bb($,v,m,re)&&re&&(N=!1);const he=await i.runWithContext(()=>Ab({route:{to:n},targetLocale:$,routeLocaleGetter:k}));await i.runWithContext(async()=>await kb({nuxtApp:i,i18n:v,redirectPath:he,locale:$,route:n},{enableNavigate:!0}))},L.loadLocaleMessages=async $=>{await Qm($,Xm,(we,he)=>JS(v,we,he))},L.differentDomains=m.differentDomains,L.defaultLocale=m.defaultLocale,L.getBrowserLocale=()=>GS(),L.getLocaleCookie=()=>sp(R,b,m.defaultLocale),L.setLocaleCookie=$=>kB(R,$,b),L.onBeforeLanguageSwitch=($,re,we,he)=>s.callHook("i18n:beforeLocaleSwitch",{oldLocale:$,newLocale:re,initialSetup:we,context:he}),L.onLanguageSwitched=($,re)=>s.callHook("i18n:localeSwitched",{oldLocale:$,newLocale:re}),L.finalizePendingLocaleChange=async()=>{v.__pendingLocale&&(US(v,v.__pendingLocale),v.__resolvePendingLocalePromise&&await v.__resolvePendingLocalePromise(),v.__pendingLocale=void 0)},L.waitForPendingLocaleChange=async()=>{v.__pendingLocale&&v.__pendingLocalePromise&&await v.__pendingLocalePromise}},onExtendExportedGlobal(L){return{strategy:{get(){return L.strategy}},localeProperties:{get(){return L.localeProperties.value}},setLocale:{get(){return async $=>Reflect.apply(L.setLocale,L,[$])}},differentDomains:{get(){return L.differentDomains}},defaultLocale:{get(){return L.defaultLocale}},getBrowserLocale:{get(){return()=>Reflect.apply(L.getBrowserLocale,L,[])}},getLocaleCookie:{get(){return()=>Reflect.apply(L.getLocaleCookie,L,[])}},setLocaleCookie:{get(){return $=>Reflect.apply(L.setLocaleCookie,L,[$])}},onBeforeLanguageSwitch:{get(){return($,re,we,he)=>Reflect.apply(L.onBeforeLanguageSwitch,L,[$,re,we,he])}},onLanguageSwitched:{get(){return($,re)=>Reflect.apply(L.onLanguageSwitched,L,[$,re])}},finalizePendingLocaleChange:{get(){return()=>Reflect.apply(L.finalizePendingLocaleChange,L,[])}},waitForPendingLocaleChange:{get(){return()=>Reflect.apply(L.waitForPendingLocaleChange,L,[])}}}},onExtendVueI18n(L){return{strategy:{get(){return L.strategy}},localeProperties:{get(){return L.localeProperties.value}},setLocale:{get(){return async $=>Reflect.apply(L.setLocale,L,[$])}},loadLocaleMessages:{get(){return async $=>Reflect.apply(L.loadLocaleMessages,L,[$])}},differentDomains:{get(){return L.differentDomains}},defaultLocale:{get(){return L.defaultLocale}},getBrowserLocale:{get(){return()=>Reflect.apply(L.getBrowserLocale,L,[])}},getLocaleCookie:{get(){return()=>Reflect.apply(L.getLocaleCookie,L,[])}},setLocaleCookie:{get(){return $=>Reflect.apply(L.setLocaleCookie,L,[$])}},onBeforeLanguageSwitch:{get(){return($,re,we,he)=>Reflect.apply(L.onBeforeLanguageSwitch,L,[$,re,we,he])}},onLanguageSwitched:{get(){return($,re)=>Reflect.apply(L.onLanguageSwitched,L,[$,re])}},finalizePendingLocaleChange:{get(){return()=>Reflect.apply(L.finalizePendingLocaleChange,L,[])}},waitForPendingLocaleChange:{get(){return()=>Reflect.apply(L.waitForPendingLocaleChange,L,[])}}}}}});const j={__composerExtend:L=>{const $=qc(v);return L.strategy=$.strategy,L.localeProperties=ss(()=>$.localeProperties.value),L.setLocale=$.setLocale,L.differentDomains=$.differentDomains,L.getBrowserLocale=$.getBrowserLocale,L.getLocaleCookie=$.getLocaleCookie,L.setLocaleCookie=$.setLocaleCookie,L.onBeforeLanguageSwitch=$.onBeforeLanguageSwitch,L.onLanguageSwitched=$.onLanguageSwitched,L.finalizePendingLocaleChange=$.finalizePendingLocaleChange,L.waitForPendingLocaleChange=$.waitForPendingLocaleChange,()=>{}}};r.use(v,j),wB(i,v);let se=0;Y_("locale-changing",async(L,$)=>{let re,we;const he=Sb(L,k,()=>xg(v)||x(m.defaultLocale),{ssg:F()&&m.strategy==="no_prefix"?"ssg_ignore":"normal",callType:"routing",firstAccess:se===0,localeCookie:sp(R,b,m.defaultLocale)},m),oe=_(he);([re,we]=oo(()=>bb(he,v,m,oe)),re=await re,we(),re)&&oe&&(N=!1);const z=([re,we]=oo(()=>i.runWithContext(()=>Ab({route:{to:L,from:$},targetLocale:he,routeLocaleGetter:m.strategy==="no_prefix"?()=>he:k,calledWithRouting:!0}))),re=await re,we(),re);return se++,[re,we]=oo(()=>i.runWithContext(async()=>kb({nuxtApp:i,i18n:v,redirectPath:z,locale:he,route:L}))),re=await re,we(),re},{global:!0})}}),CT=Nr({name:"nuxt:chunk-reload",setup(s){const e=ru(),t=ns(),n=new Set;e.beforeEach(()=>{n.clear()}),s.hook("app:chunkError",({error:i})=>{n.add(i)});function r(i){const o="href"in i&&i.href.startsWith("#")?t.app.baseURL+i.href:yn(t.app.baseURL,i.fullPath);ox({path:o,persistState:!0})}s.hook("app:manifest:update",()=>{e.beforeResolve(r)}),e.onError((i,a)=>{n.has(i)&&r(a)})}}),NT=Nr(s=>{let e;const t=ns();async function n(){const r=await Cg();e&&clearTimeout(e),e=setTimeout(n,1e3*60*60);const i=await $fetch(yn(t.app.cdnURL||t.app.baseURL,t.app.buildAssetsDir,"builds/latest.json"));i.id!==r.id&&s.hooks.callHook("app:manifest:update",i)}_S(()=>{e=setTimeout(n,1e3*60*60)})}),IT=[px,yx,Sx,Ax,kx,vT,ET,CT,NT],iu=(s,e)=>{const t=s.__vccOpts||s;for(const[n,r]of e)t[n]=r;return t},_T={},xT={id:"toast-simple",class:"fixed top-0 left-0 right-0 mx-auto mt-4 flex items-center p-4 space-x-4 w-full max-w-xs text-gray-900 rounded-lg divide-x divide-gray-200 shadow dark:text-gray-400 dark:divide-gray-700 space-x",role:"alert"},BT={class:"pl-4 text-sm font-normal"};function TT(s,e){return $e(),It("div",xT,[e[0]||(e[0]=ne("svg",{"aria-hidden":"true",class:"w-5 h-5 text-blue-600 dark:text-blue-500",focusable:"false","data-prefix":"fas","data-icon":"paper-plane",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[ne("path",{fill:"currentColor",d:"M511.6 36.86l-64 415.1c-1.5 9.734-7.375 18.22-15.97 23.05c-4.844 2.719-10.27 4.097-15.68 4.097c-4.188 0-8.319-.8154-12.29-2.472l-122.6-51.1l-50.86 76.29C226.3 508.5 219.8 512 212.8 512C201.3 512 192 502.7 192 491.2v-96.18c0-7.115 2.372-14.03 6.742-19.64L416 96l-293.7 264.3L19.69 317.5C8.438 312.8 .8125 302.2 .0625 289.1s5.469-23.72 16.06-29.77l448-255.1c10.69-6.109 23.88-5.547 34 1.406S513.5 24.72 511.6 36.86z"})],-1)),ne("div",BT,[wy(s.$slots,"default")])])}const RT=iu(_T,[["render",TT]]),OT={class:"relative bg-gray-700 rounded-lg shadow m-4"},PT={class:"flex justify-between items-center p-2 rounded-t border-b border-gray-600"},VT={class:"text-l font-semibold text-gray-200"},LT={class:"p-3 space-y-6"},DT={class:"text-sm leading-relaxed text-gray-400"},UT={class:"flex justify-end items-center p-3 space-x-3 rounded-b border-t border-gray-600"},HT=Wi({__name:"MyModal",props:{title:String,description:String,modaltype:Number,btn1:String,btn2:String},setup(s){const e=s;return(t,n)=>($e(),It("div",{id:"defaultModal",tabindex:"-1","aria-hidden":"true",class:"absolute w-full min-h-screen flex items-center justify-center backdrop-blur backdrop-filter z-50",onClick:n[3]||(n[3]=r=>t.$emit("someEvent",e.modaltype,2))},[ne("div",OT,[ne("div",PT,[ne("h3",VT,xe(e.title),1),ne("button",{onClick:n[0]||(n[0]=r=>t.$emit("someEvent",e.modaltype,2)),type:"button",class:"text-gray-400 bg-transparent rounded-lg text-sm p-1.5 ml-auto inline-flex items-center hover:bg-gray-600 hover:text-white","data-modal-toggle":"defaultModal"},n[4]||(n[4]=[ne("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[ne("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),ne("span",{class:"sr-only"},"Close modal",-1)]))]),ne("div",LT,[ne("p",DT,xe(e.description),1)]),ne("div",UT,[e.btn1.length>0?($e(),It("button",{key:0,onClick:n[1]||(n[1]=r=>t.$emit("someEvent",e.modaltype,1)),"data-modal-toggle":"defaultModal",type:"button",class:"text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},xe(e.btn1),1)):nn("",!0),e.btn2?($e(),It("button",{key:1,onClick:n[2]||(n[2]=r=>t.$emit("someEvent",e.modaltype,2)),"data-modal-toggle":"defaultModal",type:"button",class:"hover:bg-gray-600 focus:ring-4 focus:outline-none focus:ring-gray-600 rounded-lg border border-gray-500 text-sm font-medium px-5 py-2.5 hover:text-white focus:z-10 bg-gray-700 text-gray-300"},xe(e.btn2),1)):nn("",!0)])])]))}}),MT=s=>Object.fromEntries(Object.entries(s).filter(([,e])=>e!==void 0)),$y=(s,e)=>(t,n)=>(V_(()=>s({...MT(t),...n.attrs},n)),()=>{var r,i;return e?(i=(r=n.slots).default)==null?void 0:i.call(r):null}),_A={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:[String,Object,Array],contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:String,tabindex:String,title:String,translate:String},$T=Wi({name:"Link",inheritAttrs:!1,props:{..._A,as:String,crossorigin:String,disabled:Boolean,fetchpriority:String,href:String,hreflang:String,imagesizes:String,imagesrcset:String,integrity:String,media:String,prefetch:{type:Boolean,default:void 0},referrerpolicy:String,rel:String,sizes:String,title:String,type:String,methods:String,target:String,body:Boolean,renderPriority:[String,Number]},setup:$y(s=>({link:[s]}))}),FT=Wi({name:"Title",inheritAttrs:!1,setup:$y((s,{slots:e})=>{var t,n,r;return{title:((r=(n=(t=e.default)==null?void 0:t.call(e))==null?void 0:n[0])==null?void 0:r.children)||null}})}),KT=Wi({name:"Meta",inheritAttrs:!1,props:{..._A,charset:String,content:String,httpEquiv:String,name:String,body:Boolean,renderPriority:[String,Number]},setup:$y(s=>{const e={...s};return e.httpEquiv&&(e["http-equiv"]=e.httpEquiv,delete e.httpEquiv),{meta:[e]}})}),jT={__name:"MyBA",props:{clickable:{default:!0}},setup(s){return(e,t)=>($e(),It("button",{class:Ot(["rounded-md border-solid border-2 border-black/25 px-3 py-2 text-sm font-medium text-black flex-1 max-w-60 m-1",s.clickable?"hover:border-black focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75":"text-black/50"]),type:"button"},[wy(e.$slots,"default")],2))}},JT=jT,WT={};function qT(s,e){return $e(),It("button",{id:"fileSelect",onDragover:e[0]||(e[0]=aa(()=>{},["prevent"])),class:"rounded-md border-black/25 border-2 border-dashed px-3 py-2 text-sm font-medium text-black hover:border-black focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 flex-1 max-w-60 m-1"},[wy(s.$slots,"default")],32)}const GT=iu(WT,[["render",qT]]),YT={},XT={class:"ml-2 inline cursor-help",xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",viewBox:"0 1 24 24"};function QT(s,e){return $e(),It("svg",XT,e[0]||(e[0]=[ne("path",{fill:"currentColor",d:"M3 5.75A.75.75 0 0 1 3.75 5c2.663 0 5.258-.943 7.8-2.85a.75.75 0 0 1 .9 0C14.992 4.057 17.587 5 20.25 5a.75.75 0 0 1 .75.75V11c0 5.001-2.958 8.676-8.725 10.948a.75.75 0 0 1-.55 0C5.958 19.676 3 16 3 11zm1.5.728V11c0 4.256 2.453 7.379 7.5 9.442c5.047-2.063 7.5-5.186 7.5-9.442V6.478c-2.577-.152-5.08-1.09-7.5-2.8c-2.42 1.71-4.923 2.648-7.5 2.8M13 16a1 1 0 1 1-2 0a1 1 0 0 1 2 0m-2.25-6.25a1.25 1.25 0 1 1 2.5 0c0 .447-.248.737-.78 1.268l-.047.047c-.47.468-1.173 1.167-1.173 2.285a.75.75 0 0 0 1.5 0c0-.45.249-.74.78-1.27l.049-.05c.47-.467 1.171-1.165 1.171-2.28a2.75 2.75 0 1 0-5.5 0a.75.75 0 0 0 1.5 0"},null,-1)]))}const zT=iu(YT,[["render",QT]]),ZT={},eR={class:"inline",xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",viewBox:"0 4 72 72"};function tR(s,e){return $e(),It("svg",eR,e[0]||(e[0]=[QC('<path fill-rule="evenodd" d="M20.4 32.431A16 16 0 0 0 20 36c0 8.837 7.163 16 16 16c1.227 0 2.421-.138 3.569-.4c-3.336-2.435-6.844-5.437-10.288-8.881S22.835 35.767 20.4 32.43m26.217 15.54c-3.326-.69-8.54-4.08-13.523-9.064c-4.984-4.983-8.375-10.197-9.064-13.523A15.96 15.96 0 0 1 36 20c8.837 0 16 7.163 16 16c0 4.763-2.08 9.039-5.383 11.97" clip-rule="evenodd"></path><circle cx="36" cy="36" r="20" fill="#d22f27" stroke="#d22f27" stroke-width="2"></circle><path fill="#d22f27" fill-rule="evenodd" d="M58.88 58.88c-3.949 3.95-17.394-3.093-30.03-15.73C16.213 30.514 9.17 17.07 13.12 13.12c1.848-1.848 5.775-1.29 10.727 1.124c3.405 1.66 7.312 1.98 11.096 1.784Q35.468 16 36 16c11.046 0 20 8.954 20 20q0 .532-.028 1.057c-.197 3.784.124 7.69 1.784 11.096c2.413 4.952 2.972 8.88 1.124 10.727" clip-rule="evenodd"></path><path d="M36 51c8.284 0 15-6.716 15-15s-6.716-15-15-15s-15 6.716-15 15s6.716 15 15 15"></path><path fill="#d22f27" fill-rule="evenodd" d="M18.203 14.039c-.365-.365-.858-.59-1.372-.539c-.967.098-1.756.425-2.331 1c-3.71 3.71 2.907 16.345 14.781 28.219S53.79 61.21 57.5 57.5c.575-.575.902-1.364 1-2.331c.052-.514-.174-1.007-.54-1.372l-6.649-6.65c-.464-.464-1.347-.111-1.811.353c-2.157 2.157-9.503-1.69-16.406-8.594C26.19 32.003 22.343 24.657 24.5 22.5c.464-.464.817-1.347.353-1.811z" clip-rule="evenodd"></path><path fill="#e27022" stroke="#d22f27" stroke-width="0.5" d="M14.71 14.71c.23-.23.842-.564 2.352-.39c1.48.17 3.442.798 5.799 1.947c3.899 1.9 8.247 2.213 12.199 2.007q.466-.024.94-.024c9.803 0 17.75 7.947 17.75 17.75q0 .475-.024.94c-.206 3.952.107 8.3 2.007 12.2c1.15 2.356 1.778 4.318 1.948 5.797c.173 1.51-.162 2.123-.392 2.352c-.246.247-.936.61-2.656.352c-1.668-.251-3.862-1.035-6.466-2.4c-5.183-2.714-11.523-7.479-17.726-13.682S19.473 29.016 16.758 23.833c-1.364-2.604-2.148-4.798-2.398-6.466c-.259-1.72.104-2.41.35-2.656Z"></path><path fill-rule="evenodd" d="M33.094 38.906c4.11 4.111 8.378 7.138 11.614 8.46c1.169.477 2.49.13 3.324-.819A15.94 15.94 0 0 0 52 36c0-8.837-7.163-16-16-16a15.94 15.94 0 0 0-10.547 3.968c-.95.834-1.296 2.155-.818 3.325c1.32 3.235 4.348 7.502 8.459 11.613" clip-rule="evenodd"></path><path d="m28.85 43.15l-.707.707zm30.03 15.73l-.707-.707zm-1.124-10.727l.899-.438zm-29.613-4.296c6.37 6.37 12.97 11.358 18.516 14.264c2.768 1.45 5.325 2.408 7.492 2.733c2.142.322 4.12.05 5.436-1.267l-1.414-1.414c-.657.658-1.842.986-3.725.704c-1.86-.28-4.194-1.131-6.861-2.528c-5.323-2.788-11.763-7.639-18.03-13.906zm-15.73-31.444c-1.318 1.316-1.59 3.294-1.267 5.436c.325 2.167 1.284 4.724 2.733 7.492c2.906 5.546 7.894 12.147 14.264 18.516l1.414-1.414c-6.267-6.267-11.118-12.707-13.906-18.03c-1.397-2.667-2.248-5.001-2.528-6.86c-.283-1.885.046-3.069.704-3.726zm11.872.932c-2.529-1.232-4.863-2.026-6.852-2.255c-1.973-.226-3.788.09-5.02 1.322l1.414 1.415c.615-.615 1.688-.944 3.378-.75c1.676.193 3.78.885 6.204 2.066zM36 15q-.558 0-1.11.029l.105 1.997Q35.495 17 36 17zm21 21c0-11.598-9.402-21-21-21v2c10.493 0 19 8.507 19 19zm-.029 1.11q.03-.552.029-1.11h-2q0 .505-.026 1.005zm2.617 22.478c1.232-1.233 1.548-3.047 1.322-5.022c-.229-1.988-1.023-4.322-2.255-6.85l-1.798.876c1.181 2.422 1.873 4.527 2.066 6.203c.194 1.69-.135 2.763-.75 3.378zm-4.614-22.583c-.201 3.858.116 7.962 1.883 11.587l1.798-.877c-1.553-3.186-1.877-6.897-1.684-10.606zM23.409 15.143c3.624 1.767 7.728 2.084 11.586 1.883l-.104-1.997c-3.709.193-7.42-.131-10.606-1.684z"></path><path fill="none" stroke="#000" stroke-linecap="round" stroke-width="2" d="M16.224 33A20 20 0 0 0 16 36c0 11.046 8.954 20 20 20c1.194 0 2.364-.105 3.5-.305"></path><path fill="none" stroke="#e27022" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M36 52c-8.837 0-16-7.163-16-16"></path>',10)]))}const sR=iu(ZT,[["render",tR]]),nR={},rR={class:"transition-all duration-700 ease-in-out",xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",viewBox:"0 0 24 24"};function iR(s,e){return $e(),It("svg",rR,e[0]||(e[0]=[ne("path",{fill:"currentColor","fill-rule":"evenodd",d:"m4 15l8-8l8 8l-2 2l-6-6l-6 6z"},null,-1)]))}const aR=iu(nR,[["render",iR]]),oR={},lR={class:"inline",xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",viewBox:"0 1 20 20"};function cR(s,e){return $e(),It("svg",lR,e[0]||(e[0]=[ne("path",{fill:"currentColor",d:"M10 10a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 1 0v-3a.5.5 0 0 0-.5-.5M6 8.5a.5.5 0 0 1 1 0v5a.5.5 0 0 1-1 0zM13.5 6a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 1 0v-7a.5.5 0 0 0-.5-.5M3 5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm1 0v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1"},null,-1)]))}const uR=iu(oR,[["render",cR]]);/*!
 * MIT License
 * 
 * Copyright (c) 2017-2024 Peculiar Ventures, LLC
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const hR="[object ArrayBuffer]";class Se{static isArrayBuffer(e){return Object.prototype.toString.call(e)===hR}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||e.byteOffset===0&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){const n=Se.toUint8Array(e),r=Se.toUint8Array(t);if(n.length!==r.byteLength)return!1;for(let i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}static concat(...e){let t;Array.isArray(e[0])&&!(e[1]instanceof Function)||Array.isArray(e[0])&&e[1]instanceof Function?t=e[0]:e[e.length-1]instanceof Function?t=e.slice(0,e.length-1):t=e;let n=0;for(const a of t)n+=a.byteLength;const r=new Uint8Array(n);let i=0;for(const a of t){const o=this.toUint8Array(a);r.set(o,i),i+=o.length}return e[e.length-1]instanceof Function?this.toView(r,e[e.length-1]):r.buffer}}const ap="string",fR=/^[0-9a-f\s]+$/i,dR=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,mR=/^[a-zA-Z0-9-_]+$/;class e0{static fromString(e){const t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}static toString(e){const t=Se.toUint8Array(e);let n="";for(let i=0;i<t.length;i++)n+=String.fromCharCode(t[i]);return decodeURIComponent(escape(n))}}class An{static toString(e,t=!1){const n=Se.toArrayBuffer(e),r=new DataView(n);let i="";for(let a=0;a<n.byteLength;a+=2){const o=r.getUint16(a,t);i+=String.fromCharCode(o)}return i}static fromString(e,t=!1){const n=new ArrayBuffer(e.length*2),r=new DataView(n);for(let i=0;i<e.length;i++)r.setUint16(i*2,e.charCodeAt(i),t);return n}}class Ae{static isHex(e){return typeof e===ap&&fR.test(e)}static isBase64(e){return typeof e===ap&&dR.test(e)}static isBase64Url(e){return typeof e===ap&&mR.test(e)}static ToString(e,t="utf8"){const n=Se.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(n);case"binary":return this.ToBinary(n);case"hex":return this.ToHex(n);case"base64":return this.ToBase64(n);case"base64url":return this.ToBase64Url(n);case"utf16le":return An.toString(n,!0);case"utf16":case"utf16be":return An.toString(n);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return An.fromString(e,!0);case"utf16":case"utf16be":return An.fromString(e);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){const t=Se.toUint8Array(e);if(typeof btoa<"u"){const n=this.ToString(t,"binary");return btoa(n)}else return Buffer.from(t).toString("base64")}static FromBase64(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!Ae.isBase64(t))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(t)):new Uint8Array(Buffer.from(t,"base64")).buffer}static FromBase64Url(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!Ae.isBase64Url(t))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=Ae.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return e0.fromString(e);case"utf16":case"utf16be":return An.fromString(e);case"utf16le":case"usc2":return An.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=Ae.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return e0.toString(e);case"utf16":case"utf16be":return An.toString(e);case"utf16le":case"usc2":return An.toString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;r++)n[r]=e.charCodeAt(r);return n.buffer}static ToBinary(e){const t=Se.toUint8Array(e);let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return n}static ToHex(e){const t=Se.toUint8Array(e);let n="";const r=t.length;for(let i=0;i<r;i++){const a=t[i];a<16&&(n+="0"),n+=a.toString(16)}return n}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!Ae.isHex(t))throw new TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);const n=new Uint8Array(t.length/2);for(let r=0;r<t.length;r=r+2){const i=t.slice(r,r+2);n[r/2]=parseInt(i,16)}return n.buffer}static ToUtf16String(e,t=!1){return An.toString(e,t)}static FromUtf16String(e,t=!1){return An.fromString(e,t)}static Base64Padding(e){const t=4-e.length%4;if(t<4)for(let n=0;n<t;n++)e+="=";return e}static formatString(e){return(e==null?void 0:e.replace(/[\n\r\t ]/g,""))||""}}Ae.DEFAULT_UTF8_ENCODING="utf8";/*!
 Copyright (c) Peculiar Ventures, LLC
*/function d(s,e,t){var n;return s instanceof Object&&(n=s[e])!==null&&n!==void 0?n:t}function t0(s,e=0,t=s.byteLength-e,n=!1){let r="";for(const i of new Uint8Array(s,e,t)){const a=i.toString(16).toUpperCase();a.length===1&&(r+="0"),r+=a,n&&(r+=" ")}return r.trim()}function _o(s,e){let t=0;if(s.length===1)return s[0];for(let n=s.length-1;n>=0;n--)t+=s[s.length-1-n]*Math.pow(2,e*n);return t}function Er(s,e,t=-1){const n=t;let r=s,i=0,a=Math.pow(2,e);for(let o=1;o<8;o++){if(s<a){let l;if(n<0)l=new ArrayBuffer(o),i=o;else{if(n<o)return new ArrayBuffer(0);l=new ArrayBuffer(n),i=n}const u=new Uint8Array(l);for(let c=o-1;c>=0;c--){const h=Math.pow(2,c*e);u[i-c-1]=Math.floor(r/h),r-=u[i-c-1]*h}return l}a*=Math.pow(2,e)}return new ArrayBuffer(0)}function Oc(...s){let e=0,t=0;for(const i of s)e+=i.byteLength;const n=new ArrayBuffer(e),r=new Uint8Array(n);for(const i of s)r.set(new Uint8Array(i),t),t+=i.byteLength;return n}function kw(...s){let e=0,t=0;for(const i of s)e+=i.length;const n=new ArrayBuffer(e),r=new Uint8Array(n);for(const i of s)r.set(i,t),t+=i.length;return r}function xA(){const s=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const o=s[0]===255&&s[1]&128,l=s[0]===0&&(s[1]&128)===0;(o||l)&&this.warnings.push("Needlessly long format")}const e=new ArrayBuffer(this.valueHex.byteLength),t=new Uint8Array(e);for(let o=0;o<this.valueHex.byteLength;o++)t[o]=0;t[0]=s[0]&128;const n=_o(t,8),r=new ArrayBuffer(this.valueHex.byteLength),i=new Uint8Array(r);for(let o=0;o<this.valueHex.byteLength;o++)i[o]=s[o];return i[0]&=127,_o(i,8)-n}function gR(s){const e=s<0?s*-1:s;let t=128;for(let n=1;n<8;n++){if(e<=t){if(s<0){const a=t-e,o=Er(a,8,n),l=new Uint8Array(o);return l[0]|=128,o}let r=Er(e,8,n),i=new Uint8Array(r);if(i[0]&128){const a=r.slice(0),o=new Uint8Array(a);r=new ArrayBuffer(r.byteLength+1),i=new Uint8Array(r);for(let l=0;l<a.byteLength;l++)i[l+1]=o[l];i[0]=0}return r}t*=Math.pow(2,8)}return new ArrayBuffer(0)}function Qc(s,e){if(s.byteLength!==e.byteLength)return!1;const t=new Uint8Array(s),n=new Uint8Array(e);for(let r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0}function Ts(s,e){const t=s.toString(10);if(e<t.length)return"";const n=e-t.length,r=new Array(n);for(let a=0;a<n;a++)r[a]="0";return r.join("").concat(t)}const BA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",TA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function Ew(s,e=!1,t=!1,n=!1){let r=0,i=0,a=0,o="";const l=e?TA:BA;if(n){let u=0;for(let c=0;c<s.length;c++)if(s.charCodeAt(c)!==0){u=c;break}s=s.slice(u)}for(;r<s.length;){const u=s.charCodeAt(r++);r>=s.length&&(i=1);const c=s.charCodeAt(r++);r>=s.length&&(a=1);const h=s.charCodeAt(r++),f=u>>2,m=(u&3)<<4|c>>4;let b=(c&15)<<2|h>>6,A=h&63;i===1?b=A=64:a===1&&(A=64),t?b===64?o+=`${l.charAt(f)}${l.charAt(m)}`:A===64?o+=`${l.charAt(f)}${l.charAt(m)}${l.charAt(b)}`:o+=`${l.charAt(f)}${l.charAt(m)}${l.charAt(b)}${l.charAt(A)}`:o+=`${l.charAt(f)}${l.charAt(m)}${l.charAt(b)}${l.charAt(A)}`}return o}function Ff(s,e=!1,t=!1){const n=e?TA:BA;function r(l){for(let u=0;u<64;u++)if(n.charAt(u)===l)return u;return 64}function i(l){return l===64?0:l}let a=0,o="";for(;a<s.length;){const l=r(s.charAt(a++)),u=a>=s.length?0:r(s.charAt(a++)),c=a>=s.length?0:r(s.charAt(a++)),h=a>=s.length?0:r(s.charAt(a++)),f=i(l)<<2|i(u)>>4,m=(i(u)&15)<<4|i(c)>>2,b=(i(c)&3)<<6|i(h);o+=String.fromCharCode(f),c!==64&&(o+=String.fromCharCode(m)),h!==64&&(o+=String.fromCharCode(b))}if(t){const l=o.length;let u=-1;for(let c=l-1;c>=0;c--)if(o.charCodeAt(c)!==0){u=c;break}u!==-1?o=o.slice(0,u+1):o=""}return o}function eg(s){let e="";const t=new Uint8Array(s);for(const n of t)e+=String.fromCharCode(n);return e}function zc(s){const e=s.length,t=new ArrayBuffer(e),n=new Uint8Array(t);for(let r=0;r<e;r++)n[r]=s.charCodeAt(r);return t}const pR=Math.log(2);function wR(s){const e=Math.log(s)/pR,t=Math.floor(e),n=Math.round(e);return t===n?t:n}function Z(s,e){for(const t of e)delete s[t]}/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */function tg(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function Fy(s){let e=0,t=0;for(let r=0;r<s.length;r++){const i=s[r];e+=i.byteLength}const n=new Uint8Array(e);for(let r=0;r<s.length;r++){const i=s[r];n.set(new Uint8Array(i),t),t+=i.byteLength}return n.buffer}function Ir(s,e,t,n){return e instanceof Uint8Array?e.byteLength?t<0?(s.error="Wrong parameter: inputOffset less than zero",!1):n<0?(s.error="Wrong parameter: inputLength less than zero",!1):e.byteLength-t-n<0?(s.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(s.error="Wrong parameter: inputBuffer has zero length",!1):(s.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class Ky{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return Fy(this.items)}}const uu=[new Uint8Array([1])],s0="0123456789",op="name",n0="valueHexView",yR="isHexOnly",vR="idBlock",bR="tagClass",SR="tagNumber",AR="isConstructed",kR="fromBER",ER="toBER",CR="local",Ss="",vn=new ArrayBuffer(0),Vg=new Uint8Array(0),Kf="EndOfContent",RA="OCTET STRING",OA="BIT STRING";function _r(s){var e;return e=class extends s{get valueHex(){return this.valueHexView.slice().buffer}set valueHex(n){this.valueHexView=new Uint8Array(n)}constructor(...n){var r;super(...n);const i=n[0]||{};this.isHexOnly=(r=i.isHexOnly)!==null&&r!==void 0?r:!1,this.valueHexView=i.valueHex?Se.toUint8Array(i.valueHex):Vg}fromBER(n,r,i){const a=n instanceof ArrayBuffer?new Uint8Array(n):n;if(!Ir(this,a,r,i))return-1;const o=r+i;return this.valueHexView=a.subarray(r,o),this.valueHexView.length?(this.blockLength=i,o):(this.warnings.push("Zero buffer length"),r)}toBER(n=!1){return this.isHexOnly?n?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",vn)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:Ae.ToHex(this.valueHexView)}}},e.NAME="hexBlock",e}class Po{static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}constructor({blockLength:e=0,error:t=Ss,warnings:n=[],valueBeforeDecode:r=Vg}={}){this.blockLength=e,this.error=t,this.warnings=n,this.valueBeforeDecodeView=Se.toUint8Array(r)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:Ae.ToHex(this.valueBeforeDecodeView)}}}Po.NAME="baseBlock";class Es extends Po{fromBER(e,t,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}Es.NAME="valueBlock";class PA extends _r(Po){constructor({idBlock:e={}}={}){var t,n,r,i;super(),e?(this.isHexOnly=(t=e.isHexOnly)!==null&&t!==void 0?t:!1,this.valueHexView=e.valueHex?Se.toUint8Array(e.valueHex):Vg,this.tagClass=(n=e.tagClass)!==null&&n!==void 0?n:-1,this.tagNumber=(r=e.tagNumber)!==null&&r!==void 0?r:-1,this.isConstructed=(i=e.isConstructed)!==null&&i!==void 0?i:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",vn}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){const r=new Uint8Array(1);if(!e){let i=this.tagNumber;i&=31,t|=i,r[0]=t}return r.buffer}if(!this.isHexOnly){const r=Er(this.tagNumber,7),i=new Uint8Array(r),a=r.byteLength,o=new Uint8Array(a+1);if(o[0]=t|31,!e){for(let l=0;l<a-1;l++)o[l+1]=i[l]|128;o[a]=i[a-1]}return o.buffer}const n=new Uint8Array(this.valueHexView.byteLength+1);if(n[0]=t|31,!e){const r=this.valueHexView;for(let i=0;i<r.length-1;i++)n[i+1]=r[i]|128;n[this.valueHexView.byteLength]=r[r.length-1]}return n.buffer}fromBER(e,t,n){const r=Se.toUint8Array(e);if(!Ir(this,r,t,n))return-1;const i=r.subarray(t,t+n);if(i.length===0)return this.error="Zero buffer length",-1;switch(i[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(i[0]&32)===32,this.isHexOnly=!1;const o=i[0]&31;if(o!==31)this.tagNumber=o,this.blockLength=1;else{let l=1,u=this.valueHexView=new Uint8Array(255),c=255;for(;i[l]&128;){if(u[l-1]=i[l]&127,l++,l>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(l===c){c+=255;const f=new Uint8Array(c);for(let m=0;m<u.length;m++)f[m]=u[m];u=this.valueHexView=new Uint8Array(c)}}this.blockLength=l+1,u[l-1]=i[l]&127;const h=new Uint8Array(l);for(let f=0;f<l;f++)h[f]=u[f];u=this.valueHexView=new Uint8Array(l),u.set(h),this.blockLength<=9?this.tagNumber=_o(u,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}PA.NAME="identificationBlock";class VA extends Po{constructor({lenBlock:e={}}={}){var t,n,r;super(),this.isIndefiniteForm=(t=e.isIndefiniteForm)!==null&&t!==void 0?t:!1,this.longFormUsed=(n=e.longFormUsed)!==null&&n!==void 0?n:!1,this.length=(r=e.length)!==null&&r!==void 0?r:0}fromBER(e,t,n){const r=Se.toUint8Array(e);if(!Ir(this,r,t,n))return-1;const i=r.subarray(t,t+n);if(i.length===0)return this.error="Zero buffer length",-1;if(i[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=i[0]===128,this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(i[0]&128),this.longFormUsed===!1)return this.length=i[0],this.blockLength=1,t+this.blockLength;const a=i[0]&127;if(a>8)return this.error="Too big integer",-1;if(a+1>i.length)return this.error="End of input reached before message was fully decoded",-1;const o=t+1,l=r.subarray(o,o+a);return l[a-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=_o(l,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=a+1,t+this.blockLength}toBER(e=!1){let t,n;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(t),n[0]=128),t;if(this.longFormUsed){const r=Er(this.length,8);if(r.byteLength>127)return this.error="Too big length",vn;if(t=new ArrayBuffer(r.byteLength+1),e)return t;const i=new Uint8Array(r);n=new Uint8Array(t),n[0]=r.byteLength|128;for(let a=0;a<r.byteLength;a++)n[a+1]=i[a];return t}return t=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(t),n[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}VA.NAME="lengthBlock";const me={};class ps extends Po{constructor({name:e=Ss,optional:t=!1,primitiveSchema:n,...r}={},i){super(r),this.name=e,this.optional=t,n&&(this.primitiveSchema=n),this.idBlock=new PA(r),this.lenBlock=new VA(r),this.valueBlock=i?new i(r):new Es(r)}fromBER(e,t,n){const r=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return r===-1?(this.error=this.valueBlock.error,r):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),r)}toBER(e,t){const n=t||new Ky;t||LA(this);const r=this.idBlock.toBER(e);if(n.write(r),this.lenBlock.isIndefiniteForm)n.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,n),n.write(new ArrayBuffer(2));else{const i=this.valueBlock.toBER(e);this.lenBlock.length=i.byteLength;const a=this.lenBlock.toBER(e);n.write(a),n.write(i)}return t?vn:n.final()}toJSON(){const e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return e==="ascii"?this.onAsciiEncoding():Ae.ToHex(this.toBER())}onAsciiEncoding(){const e=this.constructor.NAME,t=Ae.ToHex(this.valueBlock.valueBeforeDecodeView);return`${e} : ${t}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;const t=this.toBER(),n=e.toBER();return Qc(t,n)}}ps.NAME="BaseBlock";function LA(s){var e;if(s instanceof me.Constructed)for(const t of s.valueBlock.value)LA(t)&&(s.lenBlock.isIndefiniteForm=!0);return!!(!((e=s.lenBlock)===null||e===void 0)&&e.isIndefiniteForm)}class DA extends ps{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor({value:e=Ss,...t}={},n){super(t,n),e&&this.fromString(e)}fromBER(e,t,n){const r=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return r===-1?(this.error=this.valueBlock.error,r):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),r)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}DA.NAME="BaseStringBlock";class UA extends _r(Es){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}}UA.NAME="PrimitiveValueBlock";var HA;class ke extends ps{constructor(e={}){super(e,UA),this.idBlock.isConstructed=!1}}HA=ke;me.Primitive=HA;ke.NAME="PRIMITIVE";function NR(s,e){if(s instanceof e)return s;const t=new e;return t.idBlock=s.idBlock,t.lenBlock=s.lenBlock,t.warnings=s.warnings,t.valueBeforeDecodeView=s.valueBeforeDecodeView,t}function ad(s,e=0,t=s.length){const n=e;let r=new ps({},Es);const i=new Po;if(!Ir(i,s,e,t))return r.error=i.error,{offset:-1,result:r};if(!s.subarray(e,e+t).length)return r.error="Zero buffer length",{offset:-1,result:r};let o=r.idBlock.fromBER(s,e,t);if(r.idBlock.warnings.length&&r.warnings.concat(r.idBlock.warnings),o===-1)return r.error=r.idBlock.error,{offset:-1,result:r};if(e=o,t-=r.idBlock.blockLength,o=r.lenBlock.fromBER(s,e,t),r.lenBlock.warnings.length&&r.warnings.concat(r.lenBlock.warnings),o===-1)return r.error=r.lenBlock.error,{offset:-1,result:r};if(e=o,t-=r.lenBlock.blockLength,!r.idBlock.isConstructed&&r.lenBlock.isIndefiniteForm)return r.error="Indefinite length form used for primitive encoding form",{offset:-1,result:r};let l=ps;switch(r.idBlock.tagClass){case 1:if(r.idBlock.tagNumber>=37&&r.idBlock.isHexOnly===!1)return r.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:r};switch(r.idBlock.tagNumber){case 0:if(r.idBlock.isConstructed&&r.lenBlock.length>0)return r.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:r};l=me.EndOfContent;break;case 1:l=me.Boolean;break;case 2:l=me.Integer;break;case 3:l=me.BitString;break;case 4:l=me.OctetString;break;case 5:l=me.Null;break;case 6:l=me.ObjectIdentifier;break;case 10:l=me.Enumerated;break;case 12:l=me.Utf8String;break;case 13:l=me.RelativeObjectIdentifier;break;case 14:l=me.TIME;break;case 15:return r.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:r};case 16:l=me.Sequence;break;case 17:l=me.Set;break;case 18:l=me.NumericString;break;case 19:l=me.PrintableString;break;case 20:l=me.TeletexString;break;case 21:l=me.VideotexString;break;case 22:l=me.IA5String;break;case 23:l=me.UTCTime;break;case 24:l=me.GeneralizedTime;break;case 25:l=me.GraphicString;break;case 26:l=me.VisibleString;break;case 27:l=me.GeneralString;break;case 28:l=me.UniversalString;break;case 29:l=me.CharacterString;break;case 30:l=me.BmpString;break;case 31:l=me.DATE;break;case 32:l=me.TimeOfDay;break;case 33:l=me.DateTime;break;case 34:l=me.Duration;break;default:{const u=r.idBlock.isConstructed?new me.Constructed:new me.Primitive;u.idBlock=r.idBlock,u.lenBlock=r.lenBlock,u.warnings=r.warnings,r=u}}break;case 2:case 3:case 4:default:l=r.idBlock.isConstructed?me.Constructed:me.Primitive}return r=NR(r,l),o=r.fromBER(s,e,r.lenBlock.isIndefiniteForm?t:r.lenBlock.length),r.valueBeforeDecodeView=s.subarray(n,n+r.blockLength),{offset:o,result:r}}function kt(s){if(!s.byteLength){const e=new ps({},Es);return e.error="Input buffer has zero length",{offset:-1,result:e}}return ad(Se.toUint8Array(s).slice(),0,s.byteLength)}function IR(s,e){return s?1:e}class Ui extends Es{constructor({value:e=[],isIndefiniteForm:t=!1,...n}={}){super(n),this.value=e,this.isIndefiniteForm=t}fromBER(e,t,n){const r=Se.toUint8Array(e);if(!Ir(this,r,t,n))return-1;if(this.valueBeforeDecodeView=r.subarray(t,t+n),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),t;let i=t;for(;IR(this.isIndefiniteForm,n)>0;){const a=ad(r,i,n);if(a.offset===-1)return this.error=a.result.error,this.warnings.concat(a.result.warnings),-1;if(i=a.offset,this.blockLength+=a.result.blockLength,n-=a.result.blockLength,this.value.push(a.result),this.isIndefiniteForm&&a.result.constructor.NAME===Kf)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===Kf?this.value.pop():this.warnings.push("No EndOfContent block encoded")),i}toBER(e,t){const n=t||new Ky;for(let r=0;r<this.value.length;r++)this.value[r].toBER(e,n);return t?vn:n.final()}toJSON(){const e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const t of this.value)e.value.push(t.toJSON());return e}}Ui.NAME="ConstructedValueBlock";var MA;class P extends ps{constructor(e={}){super(e,Ui),this.idBlock.isConstructed=!0}fromBER(e,t,n){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const r=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return r===-1?(this.error=this.valueBlock.error,r):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),r)}onAsciiEncoding(){const e=[];for(const n of this.valueBlock.value)e.push(n.toString("ascii").split(`
`).map(r=>`  ${r}`).join(`
`));const t=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :
${e.join(`
`)}`:`${t} :`}}MA=P;me.Constructed=MA;P.NAME="CONSTRUCTED";class $A extends Es{fromBER(e,t,n){return t}toBER(e){return vn}}$A.override="EndOfContentValueBlock";var FA;class KA extends ps{constructor(e={}){super(e,$A),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}FA=KA;me.EndOfContent=FA;KA.NAME=Kf;var jA;class pt extends ps{constructor(e={}){super(e,Es),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,n){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=n,t+n>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+n}toBER(e,t){const n=new ArrayBuffer(2);if(!e){const r=new Uint8Array(n);r[0]=5,r[1]=0}return t&&t.write(n),n}onAsciiEncoding(){return`${this.constructor.NAME}`}}jA=pt;me.Null=jA;pt.NAME="NULL";class JA extends _r(Es){get value(){for(const e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}constructor({value:e,...t}={}){super(t),t.valueHex?this.valueHexView=Se.toUint8Array(t.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}fromBER(e,t,n){const r=Se.toUint8Array(e);return Ir(this,r,t,n)?(this.valueHexView=r.subarray(t,t+n),n>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,xA.call(this),this.blockLength=n,t+n):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}JA.NAME="BooleanValueBlock";var WA;let Dn=class extends ps{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor(e={}){super(e,JA),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}};WA=Dn;me.Boolean=WA;Dn.NAME="BOOLEAN";class qA extends _r(Ui){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,n){let r=0;if(this.isConstructed){if(this.isHexOnly=!1,r=Ui.prototype.fromBER.call(this,e,t,n),r===-1)return r;for(let i=0;i<this.value.length;i++){const a=this.value[i].constructor.NAME;if(a===Kf){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(a!==RA)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,r=super.fromBER(e,t,n),this.blockLength=n;return r}toBER(e,t){return this.isConstructed?Ui.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}qA.NAME="OctetStringValueBlock";var jy;class ee extends ps{constructor({idBlock:e={},lenBlock:t={},...n}={}){var r,i;(r=n.isConstructed)!==null&&r!==void 0||(n.isConstructed=!!(!((i=n.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!n.isIndefiniteForm},...n},qA),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,n){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,n===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){const i=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+n);try{if(i.byteLength){const a=ad(i,0,i.byteLength);a.offset!==-1&&a.offset===n&&(this.valueBlock.value=[a.result])}}catch{}}return super.fromBER(e,t,n)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return P.prototype.onAsciiEncoding.call(this);const e=this.constructor.NAME,t=Ae.ToHex(this.valueBlock.valueHexView);return`${e} : ${t}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const e=[];for(const t of this.valueBlock.value)t instanceof jy&&e.push(t.valueBlock.valueHexView);return Se.concat(e)}}jy=ee;me.OctetString=jy;ee.NAME=RA;class GA extends _r(Ui){constructor({unusedBits:e=0,isConstructed:t=!1,...n}={}){super(n),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,t,n){if(!n)return t;let r=-1;if(this.isConstructed){if(r=Ui.prototype.fromBER.call(this,e,t,n),r===-1)return r;for(const o of this.value){const l=o.constructor.NAME;if(l===Kf){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(l!==OA)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const u=o.valueBlock;if(this.unusedBits>0&&u.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=u.unusedBits}return r}const i=Se.toUint8Array(e);if(!Ir(this,i,t,n))return-1;const a=i.subarray(t,t+n);if(this.unusedBits=a[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const o=a.subarray(1);try{if(o.byteLength){const l=ad(o,0,o.byteLength);l.offset!==-1&&l.offset===n-1&&(this.value=[l.result])}}catch{}}return this.valueHexView=a.subarray(1),this.blockLength=a.length,t+n}toBER(e,t){if(this.isConstructed)return Ui.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return vn;const n=new Uint8Array(this.valueHexView.length+1);return n[0]=this.unusedBits,n.set(this.valueHexView,1),n.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}GA.NAME="BitStringValueBlock";var YA;class Oe extends ps{constructor({idBlock:e={},lenBlock:t={},...n}={}){var r,i;(r=n.isConstructed)!==null&&r!==void 0||(n.isConstructed=!!(!((i=n.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!n.isIndefiniteForm},...n},GA),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,n){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,n)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return P.prototype.onAsciiEncoding.call(this);{const e=[],t=this.valueBlock.valueHexView;for(const a of t)e.push(a.toString(2).padStart(8,"0"));const n=e.join(""),r=this.constructor.NAME,i=n.substring(0,n.length-this.valueBlock.unusedBits);return`${r} : ${i}`}}}YA=Oe;me.BitString=YA;Oe.NAME=OA;var XA;function _R(s,e){const t=new Uint8Array([0]),n=new Uint8Array(s),r=new Uint8Array(e);let i=n.slice(0);const a=i.length-1,o=r.slice(0),l=o.length-1;let u=0;const c=l<a?a:l;let h=0;for(let f=c;f>=0;f--,h++){switch(!0){case h<o.length:u=i[a-h]+o[l-h]+t[0];break;default:u=i[a-h]+t[0]}switch(t[0]=u/10,!0){case h>=i.length:i=kw(new Uint8Array([u%10]),i);break;default:i[a-h]=u%10}}return t[0]>0&&(i=kw(t,i)),i}function r0(s){if(s>=uu.length)for(let e=uu.length;e<=s;e++){const t=new Uint8Array([0]);let n=uu[e-1].slice(0);for(let r=n.length-1;r>=0;r--){const i=new Uint8Array([(n[r]<<1)+t[0]]);t[0]=i[0]/10,n[r]=i[0]%10}t[0]>0&&(n=kw(t,n)),uu.push(n)}return uu[s]}function xR(s,e){let t=0;const n=new Uint8Array(s),r=new Uint8Array(e),i=n.slice(0),a=i.length-1,o=r.slice(0),l=o.length-1;let u,c=0;for(let h=l;h>=0;h--,c++)switch(u=i[a-c]-o[l-c]-t,!0){case u<0:t=1,i[a-c]=u+10;break;default:t=0,i[a-c]=u}if(t>0)for(let h=a-l+1;h>=0;h--,c++)if(u=i[a-c]-t,u<0)t=1,i[a-c]=u+10;else{t=0,i[a-c]=u;break}return i.slice()}class Jy extends _r(Es){setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=xA.call(this)))}constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),e!==void 0&&(this.valueDec=e)}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(gR(e))}get valueDec(){return this._valueDec}fromDER(e,t,n,r=0){const i=this.fromBER(e,t,n);if(i===-1)return i;const a=this.valueHexView;return a[0]===0&&a[1]&128?this.valueHexView=a.subarray(1):r!==0&&a.length<r&&(r-a.length>1&&(r=a.length+1),this.valueHexView=a.subarray(r-a.length)),i}toDER(e=!1){const t=this.valueHexView;switch(!0){case(t[0]&128)!==0:{const n=new Uint8Array(this.valueHexView.length+1);n[0]=0,n.set(t,1),this.valueHexView=n}break;case(t[0]===0&&(t[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(e)}fromBER(e,t,n){const r=super.fromBER(e,t,n);return r===-1||this.setValueHex(),r}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const e=this.valueHexView.length*8-1;let t=new Uint8Array(this.valueHexView.length*8/3),n=0,r;const i=this.valueHexView;let a="",o=!1;for(let l=i.byteLength-1;l>=0;l--){r=i[l];for(let u=0;u<8;u++){if((r&1)===1)switch(n){case e:t=xR(r0(n),t),a="-";break;default:t=_R(t,r0(n))}n++,r>>=1}}for(let l=0;l<t.length;l++)t[l]&&(o=!0),o&&(a+=s0.charAt(t[l]));return o===!1&&(a+=s0.charAt(0)),a}}XA=Jy;Jy.NAME="IntegerValueBlock";Object.defineProperty(XA.prototype,"valueHex",{set:function(s){this.valueHexView=new Uint8Array(s),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});var Bf;class M extends ps{constructor(e={}){super(e,Jy),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return tg(),BigInt(this.valueBlock.toString())}static fromBigInt(e){tg();const t=BigInt(e),n=new Ky,r=t.toString(16).replace(/^-/,""),i=new Uint8Array(Ae.FromHex(r));if(t<0){const o=new Uint8Array(i.length+(i[0]&128?1:0));o[0]|=128;const u=BigInt(`0x${Ae.ToHex(o)}`)+t,c=Se.toUint8Array(Ae.FromHex(u.toString(16)));c[0]|=128,n.write(c)}else i[0]&128&&n.write(new Uint8Array([0])),n.write(i);return new Bf({valueHex:n.final()})}convertToDER(){const e=new Bf({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new Bf({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}Bf=M;me.Integer=Bf;M.NAME="INTEGER";var QA;class Ji extends M{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}QA=Ji;me.Enumerated=QA;Ji.NAME="ENUMERATED";class Cw extends _r(Es){constructor({valueDec:e=-1,isFirstSid:t=!1,...n}={}){super(n),this.valueDec=e,this.isFirstSid=t}fromBER(e,t,n){if(!n)return t;const r=Se.toUint8Array(e);if(!Ir(this,r,t,n))return-1;const i=r.subarray(t,t+n);this.valueHexView=new Uint8Array(n);for(let o=0;o<n&&(this.valueHexView[o]=i[o]&127,this.blockLength++,!!(i[o]&128));o++);const a=new Uint8Array(this.blockLength);for(let o=0;o<this.blockLength;o++)a[o]=this.valueHexView[o];return this.valueHexView=a,i[this.blockLength-1]&128?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=_o(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}set valueBigInt(e){tg();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;const n=new Uint8Array(t.length/7);for(let r=0;r<n.length;r++)n[r]=parseInt(t.slice(r*7,r*7+7),2)+(r+1<n.length?128:0);this.fromBER(n.buffer,0,n.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const r=this.valueHexView,i=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength-1;a++)i[a]=r[a]|128;return i[this.blockLength-1]=r[this.blockLength-1],i.buffer}const t=Er(this.valueDec,7);if(t.byteLength===0)return this.error="Error during encoding SID value",vn;const n=new Uint8Array(t.byteLength);if(!e){const r=new Uint8Array(t),i=t.byteLength-1;for(let a=0;a<i;a++)n[a]=r[a]|128;n[i]=r[i]}return n}toString(){let e="";if(this.isHexOnly)e=Ae.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}Cw.NAME="sidBlock";class zA extends Es{constructor({value:e=Ss,...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,n){let r=t;for(;n>0;){const i=new Cw;if(r=i.fromBER(e,r,n),r===-1)return this.blockLength=0,this.error=i.error,r;this.value.length===0&&(i.isFirstSid=!0),this.blockLength+=i.blockLength,n-=i.blockLength,this.value.push(i)}return r}toBER(e){const t=[];for(let n=0;n<this.value.length;n++){const r=this.value[n].toBER(e);if(r.byteLength===0)return this.error=this.value[n].error,vn;t.push(r)}return Fy(t)}fromString(e){this.value=[];let t=0,n=0,r="",i=!1;do if(n=e.indexOf(".",t),n===-1?r=e.substring(t):r=e.substring(t,n),t=n+1,i){const a=this.value[0];let o=0;switch(a.valueDec){case 0:break;case 1:o=40;break;case 2:o=80;break;default:this.value=[];return}const l=parseInt(r,10);if(isNaN(l))return;a.valueDec=l+o,i=!1}else{const a=new Cw;if(r>Number.MAX_SAFE_INTEGER){tg();const o=BigInt(r);a.valueBigInt=o}else if(a.valueDec=parseInt(r,10),isNaN(a.valueDec))return;this.value.length||(a.isFirstSid=!0,i=!0),this.value.push(a)}while(n!==-1)}toString(){let e="",t=!1;for(let n=0;n<this.value.length;n++){t=this.value[n].isHexOnly;let r=this.value[n].toString();n!==0&&(e=`${e}.`),t?(r=`{${r}}`,this.value[n].isFirstSid?e=`2.{${r} - 80}`:e+=r):e+=r}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}zA.NAME="ObjectIdentifierValueBlock";var ZA;class ue extends ps{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,zA),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}ZA=ue;me.ObjectIdentifier=ZA;ue.NAME="OBJECT IDENTIFIER";class Nw extends _r(Po){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,t,n){if(n===0)return t;const r=Se.toUint8Array(e);if(!Ir(this,r,t,n))return-1;const i=r.subarray(t,t+n);this.valueHexView=new Uint8Array(n);for(let o=0;o<n&&(this.valueHexView[o]=i[o]&127,this.blockLength++,!!(i[o]&128));o++);const a=new Uint8Array(this.blockLength);for(let o=0;o<this.blockLength;o++)a[o]=this.valueHexView[o];return this.valueHexView=a,i[this.blockLength-1]&128?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=_o(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const r=this.valueHexView,i=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength-1;a++)i[a]=r[a]|128;return i[this.blockLength-1]=r[this.blockLength-1],i.buffer}const t=Er(this.valueDec,7);if(t.byteLength===0)return this.error="Error during encoding SID value",vn;const n=new Uint8Array(t.byteLength);if(!e){const r=new Uint8Array(t),i=t.byteLength-1;for(let a=0;a<i;a++)n[a]=r[a]|128;n[i]=r[i]}return n.buffer}toString(){let e="";return this.isHexOnly?e=Ae.ToHex(this.valueHexView):e=this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}Nw.NAME="relativeSidBlock";class ek extends Es{constructor({value:e=Ss,...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,n){let r=t;for(;n>0;){const i=new Nw;if(r=i.fromBER(e,r,n),r===-1)return this.blockLength=0,this.error=i.error,r;this.blockLength+=i.blockLength,n-=i.blockLength,this.value.push(i)}return r}toBER(e,t){const n=[];for(let r=0;r<this.value.length;r++){const i=this.value[r].toBER(e);if(i.byteLength===0)return this.error=this.value[r].error,vn;n.push(i)}return Fy(n)}fromString(e){this.value=[];let t=0,n=0,r="";do{n=e.indexOf(".",t),n===-1?r=e.substring(t):r=e.substring(t,n),t=n+1;const i=new Nw;if(i.valueDec=parseInt(r,10),isNaN(i.valueDec))return!0;this.value.push(i)}while(n!==-1);return!0}toString(){let e="",t=!1;for(let n=0;n<this.value.length;n++){t=this.value[n].isHexOnly;let r=this.value[n].toString();n!==0&&(e=`${e}.`),t&&(r=`{${r}}`),e+=r}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}ek.NAME="RelativeObjectIdentifierValueBlock";var tk;class sk extends ps{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,ek),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}tk=sk;me.RelativeObjectIdentifier=tk;sk.NAME="RelativeObjectIdentifier";var nk;class C extends P{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}nk=C;me.Sequence=nk;C.NAME="SEQUENCE";var rk;let St=class extends P{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}};rk=St;me.Set=rk;St.NAME="SET";class ik extends _r(Es){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=Ss}toJSON(){return{...super.toJSON(),value:this.value}}}ik.NAME="StringValueBlock";class ak extends ik{}ak.NAME="SimpleStringValueBlock";class Us extends DA{constructor({...e}={}){super(e,ak)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,Se.toUint8Array(e))}fromString(e){const t=e.length,n=this.valueBlock.valueHexView=new Uint8Array(t);for(let r=0;r<t;r++)n[r]=e.charCodeAt(r);this.valueBlock.value=e}}Us.NAME="SIMPLE STRING";class ok extends Us{fromBuffer(e){this.valueBlock.valueHexView=Se.toUint8Array(e);try{this.valueBlock.value=Ae.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=Ae.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(Ae.FromUtf8String(e)),this.valueBlock.value=e}}ok.NAME="Utf8StringValueBlock";var lk;class ht extends ok{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}lk=ht;me.Utf8String=lk;ht.NAME="UTF8String";class ck extends Us{fromBuffer(e){this.valueBlock.value=Ae.ToUtf16String(e),this.valueBlock.valueHexView=Se.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(Ae.FromUtf16String(e))}}ck.NAME="BmpStringValueBlock";var uk;class jf extends ck{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}uk=jf;me.BmpString=uk;jf.NAME="BMPString";class hk extends Us{fromBuffer(e){const t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),n=new Uint8Array(t);for(let r=0;r<n.length;r+=4)n[r]=n[r+3],n[r+1]=n[r+2],n[r+2]=0,n[r+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){const t=e.length,n=this.valueBlock.valueHexView=new Uint8Array(t*4);for(let r=0;r<t;r++){const i=Er(e.charCodeAt(r),8),a=new Uint8Array(i);if(a.length>4)continue;const o=4-a.length;for(let l=a.length-1;l>=0;l--)n[r*4+l+o]=a[l]}this.valueBlock.value=e}}hk.NAME="UniversalStringValueBlock";var fk;class Jf extends hk{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}fk=Jf;me.UniversalString=fk;Jf.NAME="UniversalString";var dk;class Pc extends Us{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}dk=Pc;me.NumericString=dk;Pc.NAME="NumericString";var mk;class hn extends Us{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}mk=hn;me.PrintableString=mk;hn.NAME="PrintableString";var gk;class Wf extends Us{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}gk=Wf;me.TeletexString=gk;Wf.NAME="TeletexString";var pk;class Wy extends Us{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}pk=Wy;me.VideotexString=pk;Wy.NAME="VideotexString";var wk;class Lg extends Us{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}wk=Lg;me.IA5String=wk;Lg.NAME="IA5String";var yk;class qy extends Us{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}yk=qy;me.GraphicString=yk;qy.NAME="GraphicString";var vk;class Dg extends Us{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}vk=Dg;me.VisibleString=vk;Dg.NAME="VisibleString";var bk;class Gy extends Us{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}bk=Gy;me.GeneralString=bk;Gy.NAME="GeneralString";var Sk;class Yy extends Us{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}Sk=Yy;me.CharacterString=Sk;Yy.NAME="CharacterString";var Ak;class Zc extends Dg{constructor({value:e,valueDate:t,...n}={}){if(super(n),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let r=0;r<e.length;r++)this.valueBlock.valueHexView[r]=e.charCodeAt(r)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,Se.toUint8Array(e)))}toBuffer(){const e=this.toString(),t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){const n=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(n===null){this.error="Wrong input string for conversion";return}const r=parseInt(n[1],10);r>=50?this.year=1900+r:this.year=2e3+r,this.month=parseInt(n[2],10),this.day=parseInt(n[3],10),this.hour=parseInt(n[4],10),this.minute=parseInt(n[5],10),this.second=parseInt(n[6],10)}toString(e="iso"){if(e==="iso"){const t=new Array(7);return t[0]=Ts(this.year<2e3?this.year-1900:this.year-2e3,2),t[1]=Ts(this.month,2),t[2]=Ts(this.day,2),t[3]=Ts(this.hour,2),t[4]=Ts(this.minute,2),t[5]=Ts(this.second,2),t[6]="Z",t.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}Ak=Zc;me.UTCTime=Ak;Zc.NAME="UTCTime";var kk;class ot extends Zc{constructor(e={}){var t;super(e),(t=this.millisecond)!==null&&t!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){const e=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond);return new Date(e)}fromString(e){let t=!1,n="",r="",i=0,a,o=0,l=0;if(e[e.length-1]==="Z")n=e.substring(0,e.length-1),t=!0;else{const h=new Number(e[e.length-1]);if(isNaN(h.valueOf()))throw new Error("Wrong input string for conversion");n=e}if(t){if(n.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(n.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let h=1,f=n.indexOf("+"),m="";if(f===-1&&(f=n.indexOf("-"),h=-1),f!==-1){if(m=n.substring(f+1),n=n.substring(0,f),m.length!==2&&m.length!==4)throw new Error("Wrong input string for conversion");let b=parseInt(m.substring(0,2),10);if(isNaN(b.valueOf()))throw new Error("Wrong input string for conversion");if(o=h*b,m.length===4){if(b=parseInt(m.substring(2,4),10),isNaN(b.valueOf()))throw new Error("Wrong input string for conversion");l=h*b}}}let u=n.indexOf(".");if(u===-1&&(u=n.indexOf(",")),u!==-1){const h=new Number(`0${n.substring(u)}`);if(isNaN(h.valueOf()))throw new Error("Wrong input string for conversion");i=h.valueOf(),r=n.substring(0,u)}else r=n;switch(!0){case r.length===8:if(a=/(\d{4})(\d{2})(\d{2})/ig,u!==-1)throw new Error("Wrong input string for conversion");break;case r.length===10:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,u!==-1){let h=60*i;this.minute=Math.floor(h),h=60*(h-this.minute),this.second=Math.floor(h),h=1e3*(h-this.second),this.millisecond=Math.floor(h)}break;case r.length===12:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,u!==-1){let h=60*i;this.second=Math.floor(h),h=1e3*(h-this.second),this.millisecond=Math.floor(h)}break;case r.length===14:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,u!==-1){const h=1e3*i;this.millisecond=Math.floor(h)}break;default:throw new Error("Wrong input string for conversion")}const c=a.exec(r);if(c===null)throw new Error("Wrong input string for conversion");for(let h=1;h<c.length;h++)switch(h){case 1:this.year=parseInt(c[h],10);break;case 2:this.month=parseInt(c[h],10);break;case 3:this.day=parseInt(c[h],10);break;case 4:this.hour=parseInt(c[h],10)+o;break;case 5:this.minute=parseInt(c[h],10)+l;break;case 6:this.second=parseInt(c[h],10);break;default:throw new Error("Wrong input string for conversion")}if(t===!1){const h=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=h.getUTCFullYear(),this.month=h.getUTCMonth(),this.day=h.getUTCDay(),this.hour=h.getUTCHours(),this.minute=h.getUTCMinutes(),this.second=h.getUTCSeconds(),this.millisecond=h.getUTCMilliseconds()}}toString(e="iso"){if(e==="iso"){const t=[];return t.push(Ts(this.year,4)),t.push(Ts(this.month,2)),t.push(Ts(this.day,2)),t.push(Ts(this.hour,2)),t.push(Ts(this.minute,2)),t.push(Ts(this.second,2)),this.millisecond!==0&&(t.push("."),t.push(Ts(this.millisecond,3))),t.push("Z"),t.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}kk=ot;me.GeneralizedTime=kk;ot.NAME="GeneralizedTime";var Ek;let Ck=class extends ht{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}};Ek=Ck;me.DATE=Ek;Ck.NAME="DATE";var Nk;class Ik extends ht{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}Nk=Ik;me.TimeOfDay=Nk;Ik.NAME="TimeOfDay";var _k;class xk extends ht{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}_k=xk;me.DateTime=_k;xk.NAME="DateTime";var Bk;class Tk extends ht{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}Bk=Tk;me.Duration=Bk;Tk.NAME="Duration";var Rk;class Ok extends ht{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}Rk=Ok;me.TIME=Rk;Ok.NAME="TIME";class Ce{constructor({name:e=Ss,optional:t=!1}={}){this.name=e,this.optional=t}}class lt extends Ce{constructor({value:e=[],...t}={}){super(t),this.value=e}}class _e extends Ce{constructor({value:e=new Ce,local:t=!1,...n}={}){super(n),this.value=e,this.local=t}}class sg{get data(){return this.dataView.slice().buffer}set data(e){this.dataView=Se.toUint8Array(e)}constructor({data:e=Vg}={}){this.dataView=Se.toUint8Array(e)}fromBER(e,t,n){const r=t+n;return this.dataView=Se.toUint8Array(e).subarray(t,r),r}toBER(e){return this.dataView.slice().buffer}}function X(s,e,t){if(t instanceof lt){for(const i of t.value)if(X(s,e,i).verified)return{verified:!0,result:s};{const i={verified:!1,result:{error:"Wrong values for Choice type"}};return t.hasOwnProperty(op)&&(i.name=t.name),i}}if(t instanceof Ce)return t.hasOwnProperty(op)&&(s[t.name]=e),{verified:!0,result:s};if(!(s instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(vR in t))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(kR in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(ER in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const n=t.idBlock.toBER(!1);if(n.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(t.idBlock.fromBER(n,0,n.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(t.idBlock.hasOwnProperty(bR)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.tagClass!==e.idBlock.tagClass)return{verified:!1,result:s};if(t.idBlock.hasOwnProperty(SR)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.tagNumber!==e.idBlock.tagNumber)return{verified:!1,result:s};if(t.idBlock.hasOwnProperty(AR)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.isConstructed!==e.idBlock.isConstructed)return{verified:!1,result:s};if(!(yR in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.isHexOnly!==e.idBlock.isHexOnly)return{verified:!1,result:s};if(t.idBlock.isHexOnly){if(!(n0 in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const i=t.idBlock.valueHexView,a=e.idBlock.valueHexView;if(i.length!==a.length)return{verified:!1,result:s};for(let o=0;o<i.length;o++)if(i[o]!==a[1])return{verified:!1,result:s}}if(t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Ss),t.name&&(s[t.name]=e)),t instanceof me.Constructed){let i=0,a={verified:!1,result:{error:"Unknown error"}},o=t.valueBlock.value.length;if(o>0&&t.valueBlock.value[0]instanceof _e&&(o=e.valueBlock.value.length),o===0)return{verified:!0,result:s};if(e.valueBlock.value.length===0&&t.valueBlock.value.length!==0){let l=!0;for(let u=0;u<t.valueBlock.value.length;u++)l=l&&(t.valueBlock.value[u].optional||!1);return l?{verified:!0,result:s}:(t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Ss),t.name&&delete s[t.name]),s.error="Inconsistent object length",{verified:!1,result:s})}for(let l=0;l<o;l++)if(l-i>=e.valueBlock.value.length){if(t.valueBlock.value[l].optional===!1){const u={verified:!1,result:s};return s.error="Inconsistent length between ASN.1 data and schema",t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Ss),t.name&&(delete s[t.name],u.name=t.name)),u}}else if(t.valueBlock.value[0]instanceof _e){if(a=X(s,e.valueBlock.value[l],t.valueBlock.value[0].value),a.verified===!1)if(t.valueBlock.value[0].optional)i++;else return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Ss),t.name&&delete s[t.name]),a;if(op in t.valueBlock.value[0]&&t.valueBlock.value[0].name.length>0){let u={};CR in t.valueBlock.value[0]&&t.valueBlock.value[0].local?u=e:u=s,typeof u[t.valueBlock.value[0].name]>"u"&&(u[t.valueBlock.value[0].name]=[]),u[t.valueBlock.value[0].name].push(e.valueBlock.value[l])}}else if(a=X(s,e.valueBlock.value[l-i],t.valueBlock.value[l]),a.verified===!1)if(t.valueBlock.value[l].optional)i++;else return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Ss),t.name&&delete s[t.name]),a;if(a.verified===!1){const l={verified:!1,result:s};return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Ss),t.name&&(delete s[t.name],l.name=t.name)),l}return{verified:!0,result:s}}if(t.primitiveSchema&&n0 in e.valueBlock){const i=ad(e.valueBlock.valueHexView);if(i.offset===-1){const a={verified:!1,result:i.result};return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,Ss),t.name&&(delete s[t.name],a.name=t.name)),a}return X(s,i.result,t.primitiveSchema)}return{verified:!0,result:s}}class dt{constructor(e={}){if("view"in e)this.fromUint8Array(e.view);else if("buffer"in e)this.fromArrayBuffer(e.buffer);else if("string"in e)this.fromString(e.string);else if("hexstring"in e)this.fromHexString(e.hexstring);else if("length"in e&&e.length>0){if(this.length=e.length,e.stub)for(let t=0;t<this._view.length;t++)this._view[t]=e.stub}else this.length=0}set buffer(e){this._buffer=e,this._view=new Uint8Array(this._buffer)}get buffer(){return this._buffer}set view(e){this._buffer=new ArrayBuffer(e.length),this._view=new Uint8Array(this._buffer),this._view.set(e)}get view(){return this._view}get length(){return this.view.byteLength}set length(e){this._buffer=new ArrayBuffer(e),this._view=new Uint8Array(this._buffer)}clear(){this._buffer=new ArrayBuffer(0),this._view=new Uint8Array(this._buffer)}fromArrayBuffer(e){this._buffer=e,this._view=new Uint8Array(this._buffer)}fromUint8Array(e){this.fromArrayBuffer(new Uint8Array(e).buffer)}fromString(e){const t=e.length;this.length=t;for(let n=0;n<t;n++)this.view[n]=e.charCodeAt(n)}toString(e=0,t=this.view.length-e){let n="";(e>=this.view.length||e<0)&&(e=0),(t>=this.view.length||t<0)&&(t=this.view.length-e);for(let r=e;r<e+t;r++)n+=String.fromCharCode(this.view[r]);return n}fromHexString(e){const t=e.length;this.buffer=new ArrayBuffer(t>>1),this.view=new Uint8Array(this.buffer);const n=new Map;n.set("0",0),n.set("1",1),n.set("2",2),n.set("3",3),n.set("4",4),n.set("5",5),n.set("6",6),n.set("7",7),n.set("8",8),n.set("9",9),n.set("A",10),n.set("a",10),n.set("B",11),n.set("b",11),n.set("C",12),n.set("c",12),n.set("D",13),n.set("d",13),n.set("E",14),n.set("e",14),n.set("F",15),n.set("f",15);let r=0,i=0;for(let a=0;a<t;a++)a%2?(i|=n.get(e.charAt(a)),this.view[r]=i,r++):i=n.get(e.charAt(a))<<4}toHexString(e=0,t=this.view.length-e){let n="";(e>=this.view.length||e<0)&&(e=0),(t>=this.view.length||t<0)&&(t=this.view.length-e);for(let r=e;r<e+t;r++){const i=this.view[r].toString(16).toUpperCase();n=n+(i.length==1?"0":"")+i}return n}copy(e=0,t=this.length-e){if(!e&&!this.length)return new dt;if(e<0||e>this.length-1)throw new Error(`Wrong start position: ${e}`);return new dt({buffer:this._buffer.slice(e,e+t)})}slice(e=0,t=this.length){if(!e&&!this.length)return new dt;if(e<0||e>this.length-1)throw new Error(`Wrong start position: ${e}`);return new dt({buffer:this._buffer.slice(e,t)})}realloc(e){const t=new ArrayBuffer(e),n=new Uint8Array(t);e>this._view.length?n.set(this._view):n.set(new Uint8Array(this._buffer,0,e)),this._buffer=t,this._view=new Uint8Array(this._buffer)}append(e){const t=this.length,n=e.length,r=e._view.subarray();this.realloc(t+n),this._view.set(r,t)}insert(e,t=0,n=this.length-t){return t>this.length-1?!1:(n>this.length-t&&(n=this.length-t),n>e.length&&(n=e.length),n==e.length?this._view.set(e._view,t):this._view.set(e._view.subarray(0,n),t),!0)}isEqual(e){if(this.length!=e.length)return!1;for(let t=0;t<e.length;t++)if(this.view[t]!=e.view[t])return!1;return!0}isEqualView(e){if(e.length!=this.view.length)return!1;for(let t=0;t<e.length;t++)if(this.view[t]!=e[t])return!1;return!0}findPattern(e,t,n,r){const{start:i,length:a,backward:o}=this.prepareFindParameters(t,n,r),l=e.length;if(l>a)return-1;const u=[];for(let c=0;c<l;c++)u.push(e.view[c]);for(let c=0;c<=a-l;c++){let h=!0;const f=o?i-l-c:i+c;for(let m=0;m<l;m++)if(this.view[m+f]!=u[m]){h=!1;break}if(h)return o?i-l-c:i+l+c}return-1}findFirstIn(e,t,n,r){const{start:i,length:a,backward:o}=this.prepareFindParameters(t,n,r),l={id:-1,position:o?0:i+a,length:0};for(let u=0;u<e.length;u++){const c=this.findPattern(e[u],i,a,o);if(c!=-1){let h=!1;const f=e[u].length;o?c-f>=l.position-l.length&&(h=!0):c-f<=l.position-l.length&&(h=!0),h&&(l.position=c,l.id=u,l.length=f)}}return l}findAllIn(e,t,n){let{start:r,length:i}=this.prepareFindParameters(t,n);const a=[];let o={id:-1,position:r};do{const l=o.position;if(o=this.findFirstIn(e,o.position,i),o.id==-1)break;i-=o.position-l,a.push({id:o.id,position:o.position})}while(!0);return a}findAllPatternIn(e,t,n){const{start:r,length:i}=this.prepareFindParameters(t,n),a=[],o=e.length;if(o>i)return-1;const l=Array.from(e.view);for(let u=0;u<=i-o;u++){let c=!0;const h=r+u;for(let f=0;f<o;f++)if(this.view[f+h]!=l[f]){c=!1;break}c&&(a.push(r+o+u),u+=o-1)}return a}findFirstNotIn(e,t,n,r){let{start:i,length:a,backward:o}=this.prepareFindParameters(t,n,r);const l={left:{id:-1,position:i},right:{id:-1,position:0},value:new dt};let u=a;for(;u>0;){if(l.right=this.findFirstIn(e,o?i-a+u:i+a-u,u,o),l.right.id==-1){a=u,o?i-=a:i=l.left.position,l.value=new dt({buffer:this._buffer.slice(i,i+a)});break}if(l.right.position!=(o?l.left.position-e[l.right.id].length:l.left.position+e[l.right.id].length)){o?(i=l.right.position+e[l.right.id].length,a=l.left.position-l.right.position-e[l.right.id].length):(i=l.left.position,a=l.right.position-l.left.position-e[l.right.id].length),l.value=new dt({buffer:this._buffer.slice(i,i+a)});break}l.left=l.right,u-=e[l.right.id].length}if(o){const c=l.right;l.right=l.left,l.left=c}return l}findAllNotIn(e,t,n){let{start:r,length:i}=this.prepareFindParameters(t,n);const a=[];let o={left:{id:-1,position:r},right:{id:-1,position:r},value:new dt};do{const l=o.right.position;o=this.findFirstNotIn(e,o.right.position,i),i-=o.right.position-l,a.push({left:{id:o.left.id,position:o.left.position},right:{id:o.right.id,position:o.right.position},value:o.value})}while(o.right.id!=-1);return a}findFirstSequence(e,t,n,r){let{start:i,length:a,backward:o}=this.prepareFindParameters(t,n,r);const l=this.skipNotPatterns(e,i,a,o);if(l==-1)return{position:-1,value:new dt};const u=this.skipPatterns(e,l,a-(o?i-l:l-i),o);o?(i=u,a=l-u):(i=l,a=u-l);const c=new dt({buffer:this._buffer.slice(i,i+a)});return{position:u,value:c}}findAllSequences(e,t,n){let{start:r,length:i}=this.prepareFindParameters(t,n);const a=[];let o={position:r,value:new dt};do{const l=o.position;o=this.findFirstSequence(e,o.position,i),o.position!=-1&&(i-=o.position-l,a.push({position:o.position,value:o.value}))}while(o.position!=-1);return a}findPairedPatterns(e,t,n,r){const i=[];if(e.isEqual(t))return i;const{start:a,length:o}=this.prepareFindParameters(n,r);let l=0;const u=this.findAllPatternIn(e,a,o);if(!Array.isArray(u)||u.length==0)return i;const c=this.findAllPatternIn(t,a,o);if(!Array.isArray(c)||c.length==0)return i;for(;l<u.length&&c.length!=0;){if(u[0]==c[0]){i.push({left:u[0],right:c[0]}),u.splice(0,1),c.splice(0,1);continue}if(u[l]>c[0])break;for(;u[l]<c[0]&&(l++,!(l>=u.length)););i.push({left:u[l-1],right:c[0]}),u.splice(l-1,1),c.splice(0,1),l=0}return i.sort((h,f)=>h.left-f.left),i}findPairedArrays(e,t,n,r){const{start:i,length:a}=this.prepareFindParameters(n,r),o=[];let l=0;const u=this.findAllIn(e,i,a);if(u.length==0)return o;const c=this.findAllIn(t,i,a);if(c.length==0)return o;for(;l<u.length&&c.length!=0;){if(u[0].position==c[0].position){o.push({left:u[0],right:c[0]}),u.splice(0,1),c.splice(0,1);continue}if(u[l].position>c[0].position)break;for(;u[l].position<c[0].position&&(l++,!(l>=u.length)););o.push({left:u[l-1],right:c[0]}),u.splice(l-1,1),c.splice(0,1),l=0}return o.sort((h,f)=>h.left.position-f.left.position),o}replacePattern(e,t,n,r,i=null){let a=[],o;const l={status:-1,searchPatternPositions:[],replacePatternPositions:[]},{start:u,length:c}=this.prepareFindParameters(n,r);if(i==null){if(a=this.findAllIn([e],u,c),a.length==0)return l}else a=i;l.searchPatternPositions.push(...Array.from(a,b=>b.position));const h=e.length-t.length,f=new ArrayBuffer(this.view.length-a.length*h),m=new Uint8Array(f);for(m.set(new Uint8Array(this.buffer,0,u)),o=0;o<a.length;o++){const b=o==0?u:a[o-1].position;m.set(new Uint8Array(this.buffer,b,a[o].position-e.length-b),b-o*h),m.set(t.view,a[o].position-e.length-o*h),l.replacePatternPositions.push(a[o].position-e.length-o*h)}return o--,m.set(new Uint8Array(this.buffer,a[o].position,this.length-a[o].position),a[o].position-e.length+t.length-o*h),this.buffer=f,this.view=new Uint8Array(this.buffer),l.status=1,l}skipPatterns(e,t,n,r){const{start:i,length:a,backward:o}=this.prepareFindParameters(t,n,r);let l=i;for(let u=0;u<e.length;u++){const c=e[u].length,h=o?l-c:l;let f=!0;for(let m=0;m<c;m++)if(this.view[m+h]!=e[u].view[m]){f=!1;break}if(f){if(u=-1,o){if(l-=c,l<=0)return l}else if(l+=c,l>=i+a)return l}}return l}skipNotPatterns(e,t,n,r){const{start:i,length:a,backward:o}=this.prepareFindParameters(t,n,r);let l=-1;for(let u=0;u<a;u++){for(let c=0;c<e.length;c++){const h=e[c].length,f=o?i-u-h:i+u;let m=!0;for(let b=0;b<h;b++)if(this.view[b+f]!=e[c].view[b]){m=!1;break}if(m){l=o?i-u:i+u;break}}if(l!=-1)break}return l}prepareFindParameters(e=null,t=null,n=!1){return e===null&&(e=n?this.length:0),e>this.length&&(e=this.length),n?(t===null&&(t=e),t>e&&(t=e)):(t===null&&(t=this.length-e),t>this.length-e&&(t=this.length-e)),{start:e,length:t,backward:n}}}const BR=16777216;class Hi{constructor(e={}){this._stream=new dt,this._length=0,this._start=0,this.backward=!1,this.appendBlock=0,this.prevLength=0,this.prevStart=0,"view"in e?this.stream=new dt({view:e.view}):"buffer"in e?this.stream=new dt({buffer:e.buffer}):"string"in e?this.stream=new dt({string:e.string}):"hexstring"in e?this.stream=new dt({hexstring:e.hexstring}):"stream"in e?this.stream=e.stream.slice():this.stream=new dt,"backward"in e&&e.backward&&(this.backward=e.backward,this._start=this.stream.length),"length"in e&&e.length>0&&(this._length=e.length),"start"in e&&e.start&&e.start>0&&(this._start=e.start),"appendBlock"in e&&e.appendBlock&&e.appendBlock>0&&(this.appendBlock=e.appendBlock)}set stream(e){this._stream=e,this.prevLength=this._length,this._length=e.length,this.prevStart=this._start,this._start=0}get stream(){return this._stream}set length(e){this.prevLength=this._length,this._length=e}get length(){return this.appendBlock?this.start:this._length}set start(e){e>this.stream.length||(this.prevStart=this._start,this.prevLength=this._length,this._length-=this.backward?this._start-e:e-this._start,this._start=e)}get start(){return this._start}get buffer(){return this._stream.buffer.slice(0,this._length)}resetPosition(){this._start=this.prevStart,this._length=this.prevLength}findPattern(e,t=null){(t==null||t>this.length)&&(t=this.length);const n=this.stream.findPattern(e,this.start,this.length,this.backward);if(n==-1)return n;if(this.backward){if(n<this.start-e.length-t)return-1}else if(n>this.start+e.length+t)return-1;return this.start=n,n}findFirstIn(e,t=null){(t==null||t>this.length)&&(t=this.length);const n=this.stream.findFirstIn(e,this.start,this.length,this.backward);if(n.id==-1)return n;if(this.backward){if(n.position<this.start-e[n.id].length-t)return{id:-1,position:this.backward?0:this.start+this.length}}else if(n.position>this.start+e[n.id].length+t)return{id:-1,position:this.backward?0:this.start+this.length};return this.start=n.position,n}findAllIn(e){const t=this.backward?this.start-this.length:this.start;return this.stream.findAllIn(e,t,this.length)}findFirstNotIn(e,t=null){(t==null||t>this._length)&&(t=this._length);const n=this._stream.findFirstNotIn(e,this._start,this._length,this.backward);if(n.left.id==-1&&n.right.id==-1)return n;if(this.backward){if(n.right.id!=-1&&n.right.position<this._start-e[n.right.id].length-t)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new dt}}else if(n.left.id!=-1&&n.left.position>this._start+e[n.left.id].length+t)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new dt};return this.backward?n.left.id==-1?this.start=0:this.start=n.left.position:n.right.id==-1?this.start=this._start+this._length:this.start=n.right.position,n}findAllNotIn(e){const t=this.backward?this._start-this._length:this._start;return this._stream.findAllNotIn(e,t,this._length)}findFirstSequence(e,t=null,n=null){(t==null||t>this._length)&&(t=this._length),(n==null||n>t)&&(n=t);const r=this._stream.findFirstSequence(e,this._start,t,this.backward);if(r.value.length==0)return r;if(this.backward){if(r.position<this._start-r.value.length-n)return{position:-1,value:new dt}}else if(r.position>this._start+r.value.length+n)return{position:-1,value:new dt};return this.start=r.position,r}findAllSequences(e){const t=this.backward?this.start-this.length:this.start;return this.stream.findAllSequences(e,t,this.length)}findPairedPatterns(e,t,n=null){(n==null||n>this.length)&&(n=this.length);const r=this.backward?this.start-this.length:this.start,i=this.stream.findPairedPatterns(e,t,r,this.length);if(i.length){if(this.backward){if(i[0].right<this.start-t.length-n)return[]}else if(i[0].left>this.start+e.length+n)return[]}return i}findPairedArrays(e,t,n=null){(n==null||n>this.length)&&(n=this.length);const r=this.backward?this.start-this.length:this.start,i=this.stream.findPairedArrays(e,t,r,this.length);if(i.length){if(this.backward){if(i[0].right.position<this.start-t[i[0].right.id].length-n)return[]}else if(i[0].left.position>this.start+e[i[0].left.id].length+n)return[]}return i}replacePattern(e,t){const n=this.backward?this.start-this.length:this.start;return this.stream.replacePattern(e,t,n,this.length)}skipPatterns(e){const t=this.stream.skipPatterns(e,this.start,this.length,this.backward);return this.start=t,t}skipNotPatterns(e){const t=this.stream.skipNotPatterns(e,this.start,this.length,this.backward);return t==-1?-1:(this.start=t,t)}append(e){this.beforeAppend(e.length),this._stream.view.set(e.view,this._start),this._length+=e.length*2,this.start=this._start+e.length,this.prevLength-=e.length*2}appendView(e){this.beforeAppend(e.length),this._stream.view.set(e,this._start),this._length+=e.length*2,this.start=this._start+e.length,this.prevLength-=e.length*2}appendChar(e){this.beforeAppend(1),this._stream.view[this._start]=e,this._length+=2,this.start=this._start+1,this.prevLength-=2}appendUint16(e){this.beforeAppend(2);const t=new Uint16Array([e]),n=new Uint8Array(t.buffer);this.stream.view[this._start]=n[1],this._stream.view[this._start+1]=n[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendUint24(e){this.beforeAppend(3);const t=new Uint32Array([e]),n=new Uint8Array(t.buffer);this._stream.view[this._start]=n[2],this._stream.view[this._start+1]=n[1],this._stream.view[this._start+2]=n[0],this._length+=6,this.start=this._start+3,this.prevLength-=6}appendUint32(e){this.beforeAppend(4);const t=new Uint32Array([e]),n=new Uint8Array(t.buffer);this._stream.view[this._start]=n[3],this._stream.view[this._start+1]=n[2],this._stream.view[this._start+2]=n[1],this._stream.view[this._start+3]=n[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}appendInt16(e){this.beforeAppend(2);const t=new Int16Array([e]),n=new Uint8Array(t.buffer);this._stream.view[this._start]=n[1],this._stream.view[this._start+1]=n[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendInt32(e){this.beforeAppend(4);const t=new Int32Array([e]),n=new Uint8Array(t.buffer);this._stream.view[this._start]=n[3],this._stream.view[this._start+1]=n[2],this._stream.view[this._start+2]=n[1],this._stream.view[this._start+3]=n[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}getBlock(e,t=!0){if(this._length<=0)return new Uint8Array(0);this._length<e&&(e=this._length);let n;if(this.backward){const r=this._stream.view.subarray(this._length-e,this._length);n=new Uint8Array(e);for(let i=0;i<e;i++)n[e-1-i]=r[i]}else n=this._stream.view.subarray(this._start,this._start+e);return t&&(this.start+=this.backward?-1*e:e),n}getUint16(e=!0){const t=this.getBlock(2,e);return t.length<2?0:t[0]<<8|t[1]}getInt16(e=!0){const t=this.getUint16(e),n=32768;return t&n?-(n-(t^n)):t}getUint24(e=!0){const t=this.getBlock(4,e);return t.length<3?0:t[0]<<16|t[1]<<8|t[2]}getUint32(e=!0){const t=this.getBlock(4,e);return t.length<4?0:t[0]*BR+(t[1]<<16)+(t[2]<<8)+t[3]}getInt32(e=!0){const t=this.getUint32(e),n=2147483648;return t&n?-(n-(t^n)):t}beforeAppend(e){this._start+e>this._stream.length&&(e>this.appendBlock&&(this.appendBlock=e+Hi.APPEND_BLOCK),this._stream.realloc(this._stream.length+this.appendBlock))}}Hi.APPEND_BLOCK=1e3;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function TR(s){return s instanceof Uint8Array||ArrayBuffer.isView(s)&&s.constructor.name==="Uint8Array"}function Xy(s,...e){if(!TR(s))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(s.length))throw new Error("Uint8Array expected of length "+e+", got length="+s.length)}function i0(s,e=!0){if(s.destroyed)throw new Error("Hash instance has been destroyed");if(e&&s.finished)throw new Error("Hash#digest() has already been called")}function RR(s,e){Xy(s);const t=e.outputLen;if(s.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function xo(...s){for(let e=0;e<s.length;e++)s[e].fill(0)}function lp(s){return new DataView(s.buffer,s.byteOffset,s.byteLength)}function kn(s,e){return s<<32-e|s>>>e}function cp(s,e){return s<<e|s>>>32-e>>>0}function OR(s){if(typeof s!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(s))}function Pk(s){return typeof s=="string"&&(s=OR(s)),Xy(s),s}class PR{}function Ug(s){const e=n=>s().update(Pk(n)).digest(),t=s();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>s(),e}function VR(s,e,t,n){if(typeof s.setBigUint64=="function")return s.setBigUint64(e,t,n);const r=BigInt(32),i=BigInt(4294967295),a=Number(t>>r&i),o=Number(t&i),l=n?4:0,u=n?0:4;s.setUint32(e+l,a,n),s.setUint32(e+u,o,n)}function Vk(s,e,t){return s&e^~s&t}function Lk(s,e,t){return s&e^s&t^e&t}class Qy extends PR{constructor(e,t,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=lp(this.buffer)}update(e){i0(this),e=Pk(e),Xy(e);const{view:t,buffer:n,blockLen:r}=this,i=e.length;for(let a=0;a<i;){const o=Math.min(r-this.pos,i-a);if(o===r){const l=lp(e);for(;r<=i-a;a+=r)this.process(l,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){i0(this),RR(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:a}=this;t[a++]=128,xo(this.buffer.subarray(a)),this.padOffset>r-a&&(this.process(n,0),a=0);for(let h=a;h<r;h++)t[h]=0;VR(n,r-8,BigInt(this.length*8),i),this.process(n,0);const o=lp(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)o.setUint32(4*h,c[h],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=i,e.length=r,e.pos=o,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const Rr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Gt=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Yt=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),hu=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),Or=new Uint32Array(80);let LR=class extends Qy{constructor(){super(64,20,8,!1),this.A=hu[0]|0,this.B=hu[1]|0,this.C=hu[2]|0,this.D=hu[3]|0,this.E=hu[4]|0}get(){const{A:e,B:t,C:n,D:r,E:i}=this;return[e,t,n,r,i]}set(e,t,n,r,i){this.A=e|0,this.B=t|0,this.C=n|0,this.D=r|0,this.E=i|0}process(e,t){for(let l=0;l<16;l++,t+=4)Or[l]=e.getUint32(t,!1);for(let l=16;l<80;l++)Or[l]=cp(Or[l-3]^Or[l-8]^Or[l-14]^Or[l-16],1);let{A:n,B:r,C:i,D:a,E:o}=this;for(let l=0;l<80;l++){let u,c;l<20?(u=Vk(r,i,a),c=1518500249):l<40?(u=r^i^a,c=1859775393):l<60?(u=Lk(r,i,a),c=2400959708):(u=r^i^a,c=3395469782);const h=cp(n,5)+u+o+c+Or[l]|0;o=a,a=i,i=cp(r,30),r=n,n=h}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,this.set(n,r,i,a,o)}roundClean(){xo(Or)}destroy(){this.set(0,0,0,0,0),xo(this.buffer)}};const DR=Ug(()=>new LR),UR=DR,Sd=BigInt(2**32-1),a0=BigInt(32);function HR(s,e=!1){return e?{h:Number(s&Sd),l:Number(s>>a0&Sd)}:{h:Number(s>>a0&Sd)|0,l:Number(s&Sd)|0}}function MR(s,e=!1){const t=s.length;let n=new Uint32Array(t),r=new Uint32Array(t);for(let i=0;i<t;i++){const{h:a,l:o}=HR(s[i],e);[n[i],r[i]]=[a,o]}return[n,r]}const o0=(s,e,t)=>s>>>t,l0=(s,e,t)=>s<<32-t|e>>>t,Jo=(s,e,t)=>s>>>t|e<<32-t,Wo=(s,e,t)=>s<<32-t|e>>>t,Ad=(s,e,t)=>s<<64-t|e>>>t-32,kd=(s,e,t)=>s>>>t-32|e<<64-t;function $n(s,e,t,n){const r=(e>>>0)+(n>>>0);return{h:s+t+(r/2**32|0)|0,l:r|0}}const $R=(s,e,t)=>(s>>>0)+(e>>>0)+(t>>>0),FR=(s,e,t,n)=>e+t+n+(s/2**32|0)|0,KR=(s,e,t,n)=>(s>>>0)+(e>>>0)+(t>>>0)+(n>>>0),jR=(s,e,t,n,r)=>e+t+n+r+(s/2**32|0)|0,JR=(s,e,t,n,r)=>(s>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),WR=(s,e,t,n,r,i)=>e+t+n+r+i+(s/2**32|0)|0,qR=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Pr=new Uint32Array(64);let GR=class extends Qy{constructor(e=32){super(64,e,8,!1),this.A=Rr[0]|0,this.B=Rr[1]|0,this.C=Rr[2]|0,this.D=Rr[3]|0,this.E=Rr[4]|0,this.F=Rr[5]|0,this.G=Rr[6]|0,this.H=Rr[7]|0}get(){const{A:e,B:t,C:n,D:r,E:i,F:a,G:o,H:l}=this;return[e,t,n,r,i,a,o,l]}set(e,t,n,r,i,a,o,l){this.A=e|0,this.B=t|0,this.C=n|0,this.D=r|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=l|0}process(e,t){for(let h=0;h<16;h++,t+=4)Pr[h]=e.getUint32(t,!1);for(let h=16;h<64;h++){const f=Pr[h-15],m=Pr[h-2],b=kn(f,7)^kn(f,18)^f>>>3,A=kn(m,17)^kn(m,19)^m>>>10;Pr[h]=A+Pr[h-7]+b+Pr[h-16]|0}let{A:n,B:r,C:i,D:a,E:o,F:l,G:u,H:c}=this;for(let h=0;h<64;h++){const f=kn(o,6)^kn(o,11)^kn(o,25),m=c+f+Vk(o,l,u)+qR[h]+Pr[h]|0,A=(kn(n,2)^kn(n,13)^kn(n,22))+Lk(n,r,i)|0;c=u,u=l,l=o,o=a+m|0,a=i,i=r,r=n,n=m+A|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(n,r,i,a,o,l,u,c)}roundClean(){xo(Pr)}destroy(){this.set(0,0,0,0,0,0,0,0),xo(this.buffer)}};const Dk=(()=>MR(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(s=>BigInt(s))))(),YR=(()=>Dk[0])(),XR=(()=>Dk[1])(),Vr=new Uint32Array(80),Lr=new Uint32Array(80);let Uk=class extends Qy{constructor(e=64){super(128,e,16,!1),this.Ah=Yt[0]|0,this.Al=Yt[1]|0,this.Bh=Yt[2]|0,this.Bl=Yt[3]|0,this.Ch=Yt[4]|0,this.Cl=Yt[5]|0,this.Dh=Yt[6]|0,this.Dl=Yt[7]|0,this.Eh=Yt[8]|0,this.El=Yt[9]|0,this.Fh=Yt[10]|0,this.Fl=Yt[11]|0,this.Gh=Yt[12]|0,this.Gl=Yt[13]|0,this.Hh=Yt[14]|0,this.Hl=Yt[15]|0}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:a,Dh:o,Dl:l,Eh:u,El:c,Fh:h,Fl:f,Gh:m,Gl:b,Hh:A,Hl:k}=this;return[e,t,n,r,i,a,o,l,u,c,h,f,m,b,A,k]}set(e,t,n,r,i,a,o,l,u,c,h,f,m,b,A,k){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=r|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=l|0,this.Eh=u|0,this.El=c|0,this.Fh=h|0,this.Fl=f|0,this.Gh=m|0,this.Gl=b|0,this.Hh=A|0,this.Hl=k|0}process(e,t){for(let g=0;g<16;g++,t+=4)Vr[g]=e.getUint32(t),Lr[g]=e.getUint32(t+=4);for(let g=16;g<80;g++){const v=Vr[g-15]|0,N=Lr[g-15]|0,_=Jo(v,N,1)^Jo(v,N,8)^o0(v,N,7),H=Wo(v,N,1)^Wo(v,N,8)^l0(v,N,7),F=Vr[g-2]|0,j=Lr[g-2]|0,se=Jo(F,j,19)^Ad(F,j,61)^o0(F,j,6),L=Wo(F,j,19)^kd(F,j,61)^l0(F,j,6),$=KR(H,L,Lr[g-7],Lr[g-16]),re=jR($,_,se,Vr[g-7],Vr[g-16]);Vr[g]=re|0,Lr[g]=$|0}let{Ah:n,Al:r,Bh:i,Bl:a,Ch:o,Cl:l,Dh:u,Dl:c,Eh:h,El:f,Fh:m,Fl:b,Gh:A,Gl:k,Hh:x,Hl:R}=this;for(let g=0;g<80;g++){const v=Jo(h,f,14)^Jo(h,f,18)^Ad(h,f,41),N=Wo(h,f,14)^Wo(h,f,18)^kd(h,f,41),_=h&m^~h&A,H=f&b^~f&k,F=JR(R,N,H,XR[g],Lr[g]),j=WR(F,x,v,_,YR[g],Vr[g]),se=F|0,L=Jo(n,r,28)^Ad(n,r,34)^Ad(n,r,39),$=Wo(n,r,28)^kd(n,r,34)^kd(n,r,39),re=n&i^n&o^i&o,we=r&a^r&l^a&l;x=A|0,R=k|0,A=m|0,k=b|0,m=h|0,b=f|0,{h,l:f}=$n(u|0,c|0,j|0,se|0),u=o|0,c=l|0,o=i|0,l=a|0,i=n|0,a=r|0;const he=$R(se,$,we);n=FR(he,j,L,re),r=he|0}({h:n,l:r}=$n(this.Ah|0,this.Al|0,n|0,r|0)),{h:i,l:a}=$n(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l}=$n(this.Ch|0,this.Cl|0,o|0,l|0),{h:u,l:c}=$n(this.Dh|0,this.Dl|0,u|0,c|0),{h,l:f}=$n(this.Eh|0,this.El|0,h|0,f|0),{h:m,l:b}=$n(this.Fh|0,this.Fl|0,m|0,b|0),{h:A,l:k}=$n(this.Gh|0,this.Gl|0,A|0,k|0),{h:x,l:R}=$n(this.Hh|0,this.Hl|0,x|0,R|0),this.set(n,r,i,a,o,l,u,c,h,f,m,b,A,k,x,R)}roundClean(){xo(Vr,Lr)}destroy(){xo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},QR=class extends Uk{constructor(){super(48),this.Ah=Gt[0]|0,this.Al=Gt[1]|0,this.Bh=Gt[2]|0,this.Bl=Gt[3]|0,this.Ch=Gt[4]|0,this.Cl=Gt[5]|0,this.Dh=Gt[6]|0,this.Dl=Gt[7]|0,this.Eh=Gt[8]|0,this.El=Gt[9]|0,this.Fh=Gt[10]|0,this.Fl=Gt[11]|0,this.Gh=Gt[12]|0,this.Gl=Gt[13]|0,this.Hh=Gt[14]|0,this.Hl=Gt[15]|0}};const zR=Ug(()=>new GR),ZR=Ug(()=>new Uk),eO=Ug(()=>new QR),tO=zR,sO=ZR,nO=eO;/*!
 * Copyright (c) 2014, GlobalSign
 * Copyright (c) 2015-2019, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the {organization} nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */const Tt=new ArrayBuffer(0),w="";class We extends TypeError{constructor(){super(...arguments),this.name=We.NAME}static isType(e,t){if(typeof t=="string"){if(t==="Array"&&Array.isArray(e))return!0;if(t==="ArrayBuffer"&&e instanceof ArrayBuffer)return!0;if(t==="ArrayBufferView"&&ArrayBuffer.isView(e))return!0;if(typeof e===t)return!0}else if(e instanceof t)return!0;return!1}static assert(e,t,...n){for(const i of n)if(this.isType(e,i))return;const r=n.map(i=>i instanceof Function&&"name"in i?i.name:`${i}`);throw new We(`Parameter '${t}' is not of type ${r.length>1?`(${r.join(" or ")})`:r[0]}`)}}We.NAME="ArgumentError";class Le extends TypeError{static assert(...e){let t=null,n,r;typeof e[0]=="string"?(t=e[0],n=e[1],r=e.slice(2)):(n=e[0],r=e.slice(1)),We.assert(n,"parameters","object");for(const i of r){const a=n[i];if(a==null)throw new Le(i,t)}}static assertEmpty(e,t,n){if(e==null)throw new Le(t,n)}constructor(e,t=null,n){super(),this.name=Le.NAME,this.field=e,t&&(this.target=t),n?this.message=n:this.message=`Absent mandatory parameter '${e}' ${t?` in '${t}'`:w}`}}Le.NAME="ParameterError";class G extends Error{static assertSchema(e,t){if(!e.verified)throw new Error(`Object's schema was not verified against input data for ${t}`)}static assert(e,t){if(e.offset===-1)throw new G(`Error during parsing of ASN.1 data. Data is not correct for '${t}'.`)}constructor(e){super(e),this.name="AsnError"}}class Q{static blockName(){return this.CLASS_NAME}static fromBER(e){const t=kt(e);G.assert(t,this.name);try{return new this({schema:t.result})}catch{throw new G(`Cannot create '${this.CLASS_NAME}' from ASN.1 object`)}}static defaultValues(e){throw new Error(`Invalid member name for ${this.CLASS_NAME} class: ${e}`)}static schema(e={}){throw new Error(`Method '${this.CLASS_NAME}.schema' should be overridden`)}get className(){return this.constructor.CLASS_NAME}toString(e="hex"){let t;try{t=this.toSchema()}catch{t=this.toSchema(!0)}return Ae.ToString(t.toBER(),e)}}Q.CLASS_NAME="PkiObject";function Ni(s){let e=!1,t=w;const n=s.trim();for(let r=0;r<n.length;r++)n.charCodeAt(r)===32?e===!1&&(e=!0):(e&&(t+=" ",e=!1),t+=n[r]);return t.toLowerCase()}const fu="type",up="value";class Nt extends Q{constructor(e={}){super(),this.type=d(e,fu,Nt.defaultValues(fu)),this.value=d(e,up,Nt.defaultValues(up)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case fu:return w;case up:return{};default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.type||w}),new Ce({name:t.value||w})]})}fromSchema(e){Z(e,[fu,"typeValue"]);const t=X(e,e,Nt.schema({names:{type:fu,value:"typeValue"}}));G.assertSchema(t,this.className),this.type=t.result.type.valueBlock.toString(),this.value=t.result.typeValue}toSchema(){return new C({value:[new ue({value:this.type}),this.value]})}toJSON(){const e={type:this.type};return Object.keys(this.value).length!==0?e.value=this.value.toJSON():e.value=this.value,e}isEqual(e){const t=[ht.blockName(),jf.blockName(),Jf.blockName(),Pc.blockName(),hn.blockName(),Wf.blockName(),Wy.blockName(),Lg.blockName(),qy.blockName(),Dg.blockName(),Gy.blockName(),Yy.blockName()];if(e instanceof ArrayBuffer)return Se.isEqual(this.value.valueBeforeDecodeView,e);if(e.constructor.blockName()===Nt.blockName()){if(this.type!==e.type)return!1;const n=[!1,!1],r=this.value.constructor.blockName();for(const a of t)r===a&&(n[0]=!0),e.value.constructor.blockName()===a&&(n[1]=!0);if(n[0]!==n[1])return!1;if(n[0]&&n[1]){const a=Ni(this.value.valueBlock.value),o=Ni(e.value.valueBlock.value);if(a.localeCompare(o)!==0)return!1}else if(!Se.isEqual(this.value.valueBeforeDecodeView,e.value.valueBeforeDecodeView))return!1;return!0}return!1}}Nt.CLASS_NAME="AttributeTypeAndValue";const ta="typesAndValues",Ed="valueBeforeDecode",c0="RDN";class qe extends Q{constructor(e={}){super(),this.typesAndValues=d(e,ta,qe.defaultValues(ta)),this.valueBeforeDecode=d(e,Ed,qe.defaultValues(Ed)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ta:return[];case Ed:return Tt;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case ta:return t.length===0;case Ed:return t.byteLength===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new _e({name:t.repeatedSequence||w,value:new St({value:[new _e({name:t.repeatedSet||w,value:Nt.schema(t.typeAndValue||{})})]})})]})}fromSchema(e){Z(e,[c0,ta]);const t=X(e,e,qe.schema({names:{blockName:c0,repeatedSet:ta}}));G.assertSchema(t,this.className),ta in t.result&&(this.typesAndValues=Array.from(t.result.typesAndValues,n=>new Nt({schema:n}))),this.valueBeforeDecode=t.result.RDN.valueBeforeDecodeView.slice().buffer}toSchema(){if(this.valueBeforeDecode.byteLength===0)return new C({value:[new St({value:Array.from(this.typesAndValues,t=>t.toSchema())})]});const e=kt(this.valueBeforeDecode);if(G.assert(e,"RelativeDistinguishedNames"),!(e.result instanceof C))throw new Error("ASN.1 result should be SEQUENCE");return e.result}toJSON(){return{typesAndValues:Array.from(this.typesAndValues,e=>e.toJSON())}}isEqual(e){if(e instanceof qe){if(this.typesAndValues.length!==e.typesAndValues.length)return!1;for(const[t,n]of this.typesAndValues.entries())if(n.isEqual(e.typesAndValues[t])===!1)return!1;return!0}return e instanceof ArrayBuffer?Qc(this.valueBeforeDecode,e):!1}}qe.CLASS_NAME="RelativeDistinguishedNames";const Iu="type",_u="value";function rO(s={},e=!1){const t=d(s,"names",{});return new C({optional:e,value:[new P({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:t.country_name||w,value:[new lt({value:[new Pc,new hn]})]}),new P({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:t.administration_domain_name||w,value:[new lt({value:[new Pc,new hn]})]}),new ke({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:t.network_address||w,isHexOnly:!0}),new ke({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:t.terminal_identifier||w,isHexOnly:!0}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:t.private_domain_name||w,value:[new lt({value:[new Pc,new hn]})]}),new ke({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:t.organization_name||w,isHexOnly:!0}),new ke({optional:!0,name:t.numeric_user_identifier||w,idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new P({optional:!0,name:t.personal_name||w,idBlock:{tagClass:3,tagNumber:5},value:[new ke({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new ke({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new ke({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new ke({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new P({optional:!0,name:t.organizational_unit_names||w,idBlock:{tagClass:3,tagNumber:6},value:[new _e({value:new hn})]})]})}function iO(s=!1){return new C({optional:s,value:[new hn,new hn]})}function aO(s=!1){return new St({optional:s,value:[new ke({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Ce]})]})}class Pe extends Q{constructor(e={}){super(),this.type=d(e,Iu,Pe.defaultValues(Iu)),this.value=d(e,_u,Pe.defaultValues(_u)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Iu:return 9;case _u:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Iu:return t===Pe.defaultValues(e);case _u:return Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new lt({value:[new P({idBlock:{tagClass:3,tagNumber:0},name:t.blockName||w,value:[new ue,new P({idBlock:{tagClass:3,tagNumber:0},value:[new Ce]})]}),new ke({name:t.blockName||w,idBlock:{tagClass:3,tagNumber:1}}),new ke({name:t.blockName||w,idBlock:{tagClass:3,tagNumber:2}}),new P({idBlock:{tagClass:3,tagNumber:3},name:t.blockName||w,value:[rO(t.builtInStandardAttributes||{},!1),iO(!0),aO(!0)]}),new P({idBlock:{tagClass:3,tagNumber:4},name:t.blockName||w,value:[qe.schema(t.directoryName||{})]}),new P({idBlock:{tagClass:3,tagNumber:5},name:t.blockName||w,value:[new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new lt({value:[new Wf,new hn,new Jf,new ht,new jf]})]}),new P({idBlock:{tagClass:3,tagNumber:1},value:[new lt({value:[new Wf,new hn,new Jf,new ht,new jf]})]})]}),new ke({name:t.blockName||w,idBlock:{tagClass:3,tagNumber:6}}),new ke({name:t.blockName||w,idBlock:{tagClass:3,tagNumber:7}}),new ke({name:t.blockName||w,idBlock:{tagClass:3,tagNumber:8}})]})}fromSchema(e){Z(e,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);const t=X(e,e,Pe.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));switch(G.assertSchema(t,this.className),this.type=t.result.blockName.idBlock.tagNumber,this.type){case 0:this.value=t.result.blockName;break;case 1:case 2:case 6:{const n=t.result.blockName;n.idBlock.tagClass=1,n.idBlock.tagNumber=22;const r=n.toBER(!1),i=kt(r);G.assert(i,"GeneralName value"),this.value=i.result.valueBlock.value}break;case 3:this.value=t.result.blockName;break;case 4:this.value=new qe({schema:t.result.directoryName});break;case 5:this.value=t.result.ediPartyName;break;case 7:this.value=new ee({valueHex:t.result.blockName.valueBlock.valueHex});break;case 8:{const n=t.result.blockName;n.idBlock.tagClass=1,n.idBlock.tagNumber=6;const r=n.toBER(!1),i=kt(r);G.assert(i,"GeneralName registeredID"),this.value=i.result.valueBlock.toString()}break}}toSchema(){switch(this.type){case 0:case 3:case 5:return new P({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:{const e=new Lg({value:this.value});return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.type,e}case 4:return new P({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:{const e=this.value;return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.type,e}case 8:{const e=new ue({value:this.value});return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.type,e}default:return Pe.schema()}}toJSON(){const e={type:this.type,value:w};if(typeof this.value=="string")e.value=this.value;else try{e.value=this.value.toJSON()}catch{}return e}}Pe.CLASS_NAME="GeneralName";const xu="accessMethod",Bu="accessLocation",oO=[xu,Bu];class Mi extends Q{constructor(e={}){super(),this.accessMethod=d(e,xu,Mi.defaultValues(xu)),this.accessLocation=d(e,Bu,Mi.defaultValues(Bu)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case xu:return w;case Bu:return new Pe;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.accessMethod||w}),Pe.schema(t.accessLocation||{})]})}fromSchema(e){Z(e,oO);const t=X(e,e,Mi.schema({names:{accessMethod:xu,accessLocation:{names:{blockName:Bu}}}}));G.assertSchema(t,this.className),this.accessMethod=t.result.accessMethod.valueBlock.toString(),this.accessLocation=new Pe({schema:t.result.accessLocation})}toSchema(){return new C({value:[new ue({value:this.accessMethod}),this.accessLocation.toSchema()]})}toJSON(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}}Mi.CLASS_NAME="AccessDescription";const Hr="seconds",Mr="millis",$r="micros";class Os extends Q{constructor(e={}){super(),Hr in e&&(this.seconds=d(e,Hr,Os.defaultValues(Hr))),Mr in e&&(this.millis=d(e,Mr,Os.defaultValues(Mr))),$r in e&&(this.micros=d(e,$r,Os.defaultValues($r))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Hr:case Mr:case $r:return 0;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Hr:case Mr:case $r:return t===Os.defaultValues(e);default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,optional:!0,value:[new M({optional:!0,name:t.seconds||w}),new ke({name:t.millis||w,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new ke({name:t.micros||w,optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(e){Z(e,[Hr,Mr,$r]);const t=X(e,e,Os.schema({names:{seconds:Hr,millis:Mr,micros:$r}}));if(G.assertSchema(t,this.className),"seconds"in t.result&&(this.seconds=t.result.seconds.valueBlock.valueDec),"millis"in t.result){const n=new M({valueHex:t.result.millis.valueBlock.valueHex});this.millis=n.valueBlock.valueDec}if("micros"in t.result){const n=new M({valueHex:t.result.micros.valueBlock.valueHex});this.micros=n.valueBlock.valueDec}}toSchema(){const e=[];if(this.seconds!==void 0&&e.push(new M({value:this.seconds})),this.millis!==void 0){const t=new M({value:this.millis});e.push(new ke({idBlock:{tagClass:3,tagNumber:0},valueHex:t.valueBlock.valueHexView}))}if(this.micros!==void 0){const t=new M({value:this.micros});e.push(new ke({idBlock:{tagClass:3,tagNumber:1},valueHex:t.valueBlock.valueHexView}))}return new C({value:e})}toJSON(){const e={};return this.seconds!==void 0&&(e.seconds=this.seconds),this.millis!==void 0&&(e.millis=this.millis),this.micros!==void 0&&(e.micros=this.micros),e}}Os.CLASS_NAME="Accuracy";const Cd="algorithmId",du="algorithmParams",Hk="algorithm",Iw="params",lO=[Hk,Iw];class K extends Q{constructor(e={}){super(),this.algorithmId=d(e,Cd,K.defaultValues(Cd)),du in e&&(this.algorithmParams=d(e,du,K.defaultValues(du))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Cd:return w;case du:return new Ce;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Cd:return t===w;case du:return t instanceof Ce;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,optional:t.optional||!1,value:[new ue({name:t.algorithmIdentifier||w}),new Ce({name:t.algorithmParams||w,optional:!0})]})}fromSchema(e){Z(e,lO);const t=X(e,e,K.schema({names:{algorithmIdentifier:Hk,algorithmParams:Iw}}));G.assertSchema(t,this.className),this.algorithmId=t.result.algorithm.valueBlock.toString(),Iw in t.result&&(this.algorithmParams=t.result.params)}toSchema(){const e=[];return e.push(new ue({value:this.algorithmId})),this.algorithmParams&&!(this.algorithmParams instanceof Ce)&&e.push(this.algorithmParams),new C({value:e})}toJSON(){const e={algorithmId:this.algorithmId};return this.algorithmParams&&!(this.algorithmParams instanceof Ce)&&(e.algorithmParams=this.algorithmParams.toJSON()),e}isEqual(e){return!(e instanceof K)||this.algorithmId!==e.algorithmId?!1:this.algorithmParams?e.algorithmParams?JSON.stringify(this.algorithmParams)===JSON.stringify(e.algorithmParams):!1:!e.algorithmParams}}K.CLASS_NAME="AlgorithmIdentifier";const rl="altNames",cO=[rl];class eu extends Q{constructor(e={}){super(),this.altNames=d(e,rl,eu.defaultValues(rl)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case rl:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new _e({name:t.altNames||w,value:Pe.schema()})]})}fromSchema(e){Z(e,cO);const t=X(e,e,eu.schema({names:{altNames:rl}}));G.assertSchema(t,this.className),rl in t.result&&(this.altNames=Array.from(t.result.altNames,n=>new Pe({schema:n})))}toSchema(){return new C({value:Array.from(this.altNames,e=>e.toSchema())})}toJSON(){return{altNames:Array.from(this.altNames,e=>e.toJSON())}}}eu.CLASS_NAME="AltName";const il="type",al="values",uO=[il,al];class tt extends Q{constructor(e={}){super(),this.type=d(e,il,tt.defaultValues(il)),this.values=d(e,al,tt.defaultValues(al)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case il:return w;case al:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case il:return t===w;case al:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.type||w}),new St({name:t.setName||w,value:[new _e({name:t.values||w,value:new Ce})]})]})}fromSchema(e){Z(e,uO);const t=X(e,e,tt.schema({names:{type:il,values:al}}));G.assertSchema(t,this.className),this.type=t.result.type.valueBlock.toString(),this.values=t.result.values}toSchema(){return new C({value:[new ue({value:this.type}),new St({value:this.values})]})}toJSON(){return{type:this.type,values:Array.from(this.values,e=>e.toJSON())}}}tt.CLASS_NAME="Attribute";const Tu="notBeforeTime",Ru="notAfterTime",hO=[Tu,Ru];class mn extends Q{constructor(e={}){super(),this.notBeforeTime=d(e,Tu,mn.defaultValues(Tu)),this.notAfterTime=d(e,Ru,mn.defaultValues(Ru)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Tu:case Ru:return new Date(0,0,0);default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ot({name:t.notBeforeTime||w}),new ot({name:t.notAfterTime||w})]})}fromSchema(e){Z(e,hO);const t=X(e,e,mn.schema({names:{notBeforeTime:Tu,notAfterTime:Ru}}));G.assertSchema(t,this.className),this.notBeforeTime=t.result.notBeforeTime.toDate(),this.notAfterTime=t.result.notAfterTime.toDate()}toSchema(){return new C({value:[new ot({valueDate:this.notBeforeTime}),new ot({valueDate:this.notAfterTime})]})}toJSON(){return{notBeforeTime:this.notBeforeTime,notAfterTime:this.notAfterTime}}}mn.CLASS_NAME="AttCertValidityPeriod";const mu="names",u0="generalNames";class At extends Q{constructor(e={}){super(),this.names=d(e,mu,At.defaultValues(mu)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"names":return[];default:return super.defaultValues(e)}}static schema(e={},t=!1){const n=d(e,mu,{});return new C({optional:t,name:n.blockName||w,value:[new _e({name:n.generalNames||w,value:Pe.schema()})]})}fromSchema(e){Z(e,[mu,u0]);const t=X(e,e,At.schema({names:{blockName:mu,generalNames:u0}}));G.assertSchema(t,this.className),this.names=Array.from(t.result.generalNames,n=>new Pe({schema:n}))}toSchema(){return new C({value:Array.from(this.names,e=>e.toSchema())})}toJSON(){return{names:Array.from(this.names,e=>e.toJSON())}}}At.CLASS_NAME="GeneralNames";const fO="2.5.29.9",dO="2.5.29.14",mO="2.5.29.15",gO="2.5.29.16",Mk="2.5.29.17",$k="2.5.29.18",zy="2.5.29.19",pO="2.5.29.20",wO="2.5.29.27",yO="2.5.29.21",vO="2.5.29.24",Fk="2.5.29.28",Kk="2.5.29.29",jk="2.5.29.30",Jk="2.5.29.31",Zy="2.5.29.46",Wk="2.5.29.32",Ms="2.5.29.32.0",bO="1.3.6.1.4.1.311.21.10",qk="2.5.29.33",ev="2.5.29.35",Gk="2.5.29.36",SO="2.5.29.37",AO="2.5.29.54",tv="1.3.6.1.5.5.7.1.1",kO="1.3.6.1.5.5.7.1.11",EO="1.3.6.1.4.1.11129.2.4.2",CO="1.3.6.1.4.1.311.21.7",NO="1.3.6.1.4.1.311.21.1",IO="1.3.6.1.5.5.7.1.3",sv="1.2.840.113549.1.7.1",Yk="1.2.840.113549.1.7.2",Xk="1.2.840.113549.1.7.3",Qk="1.2.840.113549.1.7.6",_O="1.2.840.113549.1.9.16.1.4",h0="1.2.840.113549.1.9.22.1",xO="1.2.840.113549.1.9.22.2",f0="1.2.840.113549.1.9.22.3",d0="1.2.840.113549.1.9.23.1",BO="1.3.6.1.5.5.7",TO=`${BO}.48`,tm=`${TO}.1.1`,oa="keyIdentifier",la="authorityCertIssuer",ca="authorityCertSerialNumber",RO=[oa,la,ca];class or extends Q{constructor(e={}){super(),oa in e&&(this.keyIdentifier=d(e,oa,or.defaultValues(oa))),la in e&&(this.authorityCertIssuer=d(e,la,or.defaultValues(la))),ca in e&&(this.authorityCertSerialNumber=d(e,ca,or.defaultValues(ca))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case oa:return new ee;case la:return[];case ca:return new M;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ke({name:t.keyIdentifier||w,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new _e({name:t.authorityCertIssuer||w,value:Pe.schema()})]}),new ke({name:t.authorityCertSerialNumber||w,optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})}fromSchema(e){Z(e,RO);const t=X(e,e,or.schema({names:{keyIdentifier:oa,authorityCertIssuer:la,authorityCertSerialNumber:ca}}));G.assertSchema(t,this.className),oa in t.result&&(this.keyIdentifier=new ee({valueHex:t.result.keyIdentifier.valueBlock.valueHex})),la in t.result&&(this.authorityCertIssuer=Array.from(t.result.authorityCertIssuer,n=>new Pe({schema:n}))),ca in t.result&&(this.authorityCertSerialNumber=new M({valueHex:t.result.authorityCertSerialNumber.valueBlock.valueHex}))}toSchema(){const e=[];return this.keyIdentifier&&e.push(new ke({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHexView})),this.authorityCertIssuer&&e.push(new P({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,t=>t.toSchema())})),this.authorityCertSerialNumber&&e.push(new ke({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHexView})),new C({value:e})}toJSON(){const e={};return this.keyIdentifier&&(e.keyIdentifier=this.keyIdentifier.toJSON()),this.authorityCertIssuer&&(e.authorityCertIssuer=Array.from(this.authorityCertIssuer,t=>t.toJSON())),this.authorityCertSerialNumber&&(e.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()),e}}or.CLASS_NAME="AuthorityKeyIdentifier";const sa="pathLenConstraint",na="cA";class $i extends Q{constructor(e={}){super(),this.cA=d(e,na,!1),sa in e&&(this.pathLenConstraint=d(e,sa,0)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case na:return!1;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new Dn({optional:!0,name:t.cA||w}),new M({optional:!0,name:t.pathLenConstraint||w})]})}fromSchema(e){Z(e,[na,sa]);const t=X(e,e,$i.schema({names:{cA:na,pathLenConstraint:sa}}));G.assertSchema(t,this.className),na in t.result&&(this.cA=t.result.cA.valueBlock.value),sa in t.result&&(t.result.pathLenConstraint.valueBlock.isHexOnly?this.pathLenConstraint=t.result.pathLenConstraint:this.pathLenConstraint=t.result.pathLenConstraint.valueBlock.valueDec)}toSchema(){const e=[];return this.cA!==$i.defaultValues(na)&&e.push(new Dn({value:this.cA})),sa in this&&(this.pathLenConstraint instanceof M?e.push(this.pathLenConstraint):e.push(new M({value:this.pathLenConstraint}))),new C({value:e})}toJSON(){const e={};return this.cA!==$i.defaultValues(na)&&(e.cA=this.cA),sa in this&&(this.pathLenConstraint instanceof M?e.pathLenConstraint=this.pathLenConstraint.toJSON():e.pathLenConstraint=this.pathLenConstraint),e}}$i.CLASS_NAME="BasicConstraints";const hp="certificateIndex",fp="keyIndex";class qf extends Q{constructor(e={}){super(),this.certificateIndex=d(e,hp,qf.defaultValues(hp)),this.keyIndex=d(e,fp,qf.defaultValues(fp)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case hp:case fp:return 0;default:return super.defaultValues(e)}}static schema(){return new M}fromSchema(e){if(e.constructor.blockName()!==M.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");let t=e.valueBlock.valueHex.slice(0);const n=new Uint8Array(t);switch(!0){case t.byteLength<4:{const h=new ArrayBuffer(4);new Uint8Array(h).set(n,4-t.byteLength),t=h.slice(0)}break;case t.byteLength>4:{const h=new ArrayBuffer(4);new Uint8Array(h).set(n.slice(0,4)),t=h.slice(0)}break}const r=t.slice(0,2),i=new Uint8Array(r);let a=i[0];i[0]=i[1],i[1]=a;const o=new Uint16Array(r);this.keyIndex=o[0];const l=t.slice(2),u=new Uint8Array(l);a=u[0],u[0]=u[1],u[1]=a;const c=new Uint16Array(l);this.certificateIndex=c[0]}toSchema(){const e=new ArrayBuffer(2),t=new Uint16Array(e);t[0]=this.certificateIndex;const n=new Uint8Array(e);let r=n[0];n[0]=n[1],n[1]=r;const i=new ArrayBuffer(2),a=new Uint16Array(i);a[0]=this.keyIndex;const o=new Uint8Array(i);return r=o[0],o[0]=o[1],o[1]=r,new M({valueHex:Oc(i,e)})}toJSON(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}}qf.CLASS_NAME="CAVersion";const Ou="policyQualifierId",Pu="qualifier",OO=[Ou,Pu];class bo extends Q{constructor(e={}){super(),this.policyQualifierId=d(e,Ou,bo.defaultValues(Ou)),this.qualifier=d(e,Pu,bo.defaultValues(Pu)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ou:return w;case Pu:return new Ce;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.policyQualifierId||w}),new Ce({name:t.qualifier||w})]})}fromSchema(e){Z(e,OO);const t=X(e,e,bo.schema({names:{policyQualifierId:Ou,qualifier:Pu}}));G.assertSchema(t,this.className),this.policyQualifierId=t.result.policyQualifierId.valueBlock.toString(),this.qualifier=t.result.qualifier}toSchema(){return new C({value:[new ue({value:this.policyQualifierId}),this.qualifier]})}toJSON(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}}bo.CLASS_NAME="PolicyQualifierInfo";const Vu="policyIdentifier",ua="policyQualifiers",PO=[Vu,ua];class So extends Q{constructor(e={}){super(),this.policyIdentifier=d(e,Vu,So.defaultValues(Vu)),ua in e&&(this.policyQualifiers=d(e,ua,So.defaultValues(ua))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Vu:return w;case ua:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.policyIdentifier||w}),new C({optional:!0,value:[new _e({name:t.policyQualifiers||w,value:bo.schema()})]})]})}fromSchema(e){Z(e,PO);const t=X(e,e,So.schema({names:{policyIdentifier:Vu,policyQualifiers:ua}}));G.assertSchema(t,this.className),this.policyIdentifier=t.result.policyIdentifier.valueBlock.toString(),ua in t.result&&(this.policyQualifiers=Array.from(t.result.policyQualifiers,n=>new bo({schema:n})))}toSchema(){const e=[];return e.push(new ue({value:this.policyIdentifier})),this.policyQualifiers&&e.push(new C({value:Array.from(this.policyQualifiers,t=>t.toSchema())})),new C({value:e})}toJSON(){const e={policyIdentifier:this.policyIdentifier};return this.policyQualifiers&&(e.policyQualifiers=Array.from(this.policyQualifiers,t=>t.toJSON())),e}}So.CLASS_NAME="PolicyInformation";const Lu="certificatePolicies",VO=[Lu];class tu extends Q{constructor(e={}){super(),this.certificatePolicies=d(e,Lu,tu.defaultValues(Lu)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Lu:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new _e({name:t.certificatePolicies||w,value:So.schema()})]})}fromSchema(e){Z(e,VO);const t=X(e,e,tu.schema({names:{certificatePolicies:Lu}}));G.assertSchema(t,this.className),this.certificatePolicies=Array.from(t.result.certificatePolicies,n=>new So({schema:n}))}toSchema(){return new C({value:Array.from(this.certificatePolicies,e=>e.toSchema())})}toJSON(){return{certificatePolicies:Array.from(this.certificatePolicies,e=>e.toJSON())}}}tu.CLASS_NAME="CertificatePolicies";const Du="templateID",Kn="templateMajorVersion",jn="templateMinorVersion",LO=[Du,Kn,jn];class Cc extends Q{constructor(e={}){super(),this.templateID=d(e,Du,Cc.defaultValues(Du)),Kn in e&&(this.templateMajorVersion=d(e,Kn,Cc.defaultValues(Kn))),jn in e&&(this.templateMinorVersion=d(e,jn,Cc.defaultValues(jn))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Du:return w;case Kn:case jn:return 0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.templateID||w}),new M({name:t.templateMajorVersion||w,optional:!0}),new M({name:t.templateMinorVersion||w,optional:!0})]})}fromSchema(e){Z(e,LO);const t=X(e,e,Cc.schema({names:{templateID:Du,templateMajorVersion:Kn,templateMinorVersion:jn}}));G.assertSchema(t,this.className),this.templateID=t.result.templateID.valueBlock.toString(),Kn in t.result&&(this.templateMajorVersion=t.result.templateMajorVersion.valueBlock.valueDec),jn in t.result&&(this.templateMinorVersion=t.result.templateMinorVersion.valueBlock.valueDec)}toSchema(){const e=[];return e.push(new ue({value:this.templateID})),Kn in this&&e.push(new M({value:this.templateMajorVersion})),jn in this&&e.push(new M({value:this.templateMinorVersion})),new C({value:e})}toJSON(){const e={templateID:this.templateID};return Kn in this&&(e.templateMajorVersion=this.templateMajorVersion),jn in this&&(e.templateMinorVersion=this.templateMinorVersion),e}}const ha="distributionPoint",zk="distributionPointNames",fa="reasons",da="cRLIssuer",Zk="cRLIssuerNames",DO=[ha,zk,fa,da,Zk];class lr extends Q{constructor(e={}){super(),ha in e&&(this.distributionPoint=d(e,ha,lr.defaultValues(ha))),fa in e&&(this.reasons=d(e,fa,lr.defaultValues(fa))),da in e&&(this.cRLIssuer=d(e,da,lr.defaultValues(da))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ha:return[];case fa:return new Oe;case da:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new lt({value:[new P({name:t.distributionPoint||w,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new _e({name:t.distributionPointNames||w,value:Pe.schema()})]}),new P({name:t.distributionPoint||w,optional:!0,idBlock:{tagClass:3,tagNumber:1},value:qe.schema().valueBlock.value})]})]}),new ke({name:t.reasons||w,optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new P({name:t.cRLIssuer||w,optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new _e({name:t.cRLIssuerNames||w,value:Pe.schema()})]})]})}fromSchema(e){Z(e,DO);const t=X(e,e,lr.schema({names:{distributionPoint:ha,distributionPointNames:zk,reasons:fa,cRLIssuer:da,cRLIssuerNames:Zk}}));G.assertSchema(t,this.className),ha in t.result&&(t.result.distributionPoint.idBlock.tagNumber===0&&(this.distributionPoint=Array.from(t.result.distributionPointNames,n=>new Pe({schema:n}))),t.result.distributionPoint.idBlock.tagNumber===1&&(this.distributionPoint=new qe({schema:new C({value:t.result.distributionPoint.valueBlock.value})}))),fa in t.result&&(this.reasons=new Oe({valueHex:t.result.reasons.valueBlock.valueHex})),da in t.result&&(this.cRLIssuer=Array.from(t.result.cRLIssuerNames,n=>new Pe({schema:n})))}toSchema(){const e=[];if(this.distributionPoint){let t;this.distributionPoint instanceof Array?t=new P({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,n=>n.toSchema())}):t=new P({idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]}),e.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[t]}))}return this.reasons&&e.push(new ke({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHexView})),this.cRLIssuer&&e.push(new P({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,t=>t.toSchema())})),new C({value:e})}toJSON(){const e={};return this.distributionPoint&&(this.distributionPoint instanceof Array?e.distributionPoint=Array.from(this.distributionPoint,t=>t.toJSON()):e.distributionPoint=this.distributionPoint.toJSON()),this.reasons&&(e.reasons=this.reasons.toJSON()),this.cRLIssuer&&(e.cRLIssuer=Array.from(this.cRLIssuer,t=>t.toJSON())),e}}lr.CLASS_NAME="DistributionPoint";const Uu="distributionPoints",UO=[Uu];class Bo extends Q{constructor(e={}){super(),this.distributionPoints=d(e,Uu,Bo.defaultValues(Uu)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Uu:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new _e({name:t.distributionPoints||w,value:lr.schema()})]})}fromSchema(e){Z(e,UO);const t=X(e,e,Bo.schema({names:{distributionPoints:Uu}}));G.assertSchema(t,this.className),this.distributionPoints=Array.from(t.result.distributionPoints,n=>new lr({schema:n}))}toSchema(){return new C({value:Array.from(this.distributionPoints,e=>e.toSchema())})}toJSON(){return{distributionPoints:Array.from(this.distributionPoints,e=>e.toJSON())}}}Bo.CLASS_NAME="CRLDistributionPoints";const Hu="keyPurposes",HO=[Hu];class su extends Q{constructor(e={}){super(),this.keyPurposes=d(e,Hu,su.defaultValues(Hu)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Hu:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new _e({name:t.keyPurposes||w,value:new ue})]})}fromSchema(e){Z(e,HO);const t=X(e,e,su.schema({names:{keyPurposes:Hu}}));G.assertSchema(t,this.className),this.keyPurposes=Array.from(t.result.keyPurposes,n=>n.valueBlock.toString())}toSchema(){return new C({value:Array.from(this.keyPurposes,e=>new ue({value:e}))})}toJSON(){return{keyPurposes:Array.from(this.keyPurposes)}}}su.CLASS_NAME="ExtKeyUsage";const gu="accessDescriptions";class To extends Q{constructor(e={}){super(),this.accessDescriptions=d(e,gu,To.defaultValues(gu)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case gu:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new _e({name:t.accessDescriptions||w,value:Mi.schema()})]})}fromSchema(e){Z(e,[gu]);const t=X(e,e,To.schema({names:{accessDescriptions:gu}}));G.assertSchema(t,this.className),this.accessDescriptions=Array.from(t.result.accessDescriptions,n=>new Mi({schema:n}))}toSchema(){return new C({value:Array.from(this.accessDescriptions,e=>e.toSchema())})}toJSON(){return{accessDescriptions:Array.from(this.accessDescriptions,e=>e.toJSON())}}}To.CLASS_NAME="InfoAccess";const ma="distributionPoint",eE="distributionPointNames",Fr="onlyContainsUserCerts",Kr="onlyContainsCACerts",jr="onlySomeReasons",Jr="indirectCRL",Wr="onlyContainsAttributeCerts",MO=[ma,eE,Fr,Kr,jr,Jr,Wr];class $t extends Q{constructor(e={}){super(),ma in e&&(this.distributionPoint=d(e,ma,$t.defaultValues(ma))),this.onlyContainsUserCerts=d(e,Fr,$t.defaultValues(Fr)),this.onlyContainsCACerts=d(e,Kr,$t.defaultValues(Kr)),jr in e&&(this.onlySomeReasons=d(e,jr,$t.defaultValues(jr))),this.indirectCRL=d(e,Jr,$t.defaultValues(Jr)),this.onlyContainsAttributeCerts=d(e,Wr,$t.defaultValues(Wr)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ma:return[];case Fr:return!1;case Kr:return!1;case jr:return 0;case Jr:return!1;case Wr:return!1;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new lt({value:[new P({name:t.distributionPoint||w,idBlock:{tagClass:3,tagNumber:0},value:[new _e({name:t.distributionPointNames||w,value:Pe.schema()})]}),new P({name:t.distributionPoint||w,idBlock:{tagClass:3,tagNumber:1},value:qe.schema().valueBlock.value})]})]}),new ke({name:t.onlyContainsUserCerts||w,optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new ke({name:t.onlyContainsCACerts||w,optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new ke({name:t.onlySomeReasons||w,optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new ke({name:t.indirectCRL||w,optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new ke({name:t.onlyContainsAttributeCerts||w,optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})}fromSchema(e){Z(e,MO);const t=X(e,e,$t.schema({names:{distributionPoint:ma,distributionPointNames:eE,onlyContainsUserCerts:Fr,onlyContainsCACerts:Kr,onlySomeReasons:jr,indirectCRL:Jr,onlyContainsAttributeCerts:Wr}}));if(G.assertSchema(t,this.className),ma in t.result)switch(!0){case t.result.distributionPoint.idBlock.tagNumber===0:this.distributionPoint=Array.from(t.result.distributionPointNames,n=>new Pe({schema:n}));break;case t.result.distributionPoint.idBlock.tagNumber===1:this.distributionPoint=new qe({schema:new C({value:t.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if(Fr in t.result){const n=new Uint8Array(t.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=n[0]!==0}if(Kr in t.result){const n=new Uint8Array(t.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=n[0]!==0}if(jr in t.result){const n=new Uint8Array(t.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=n[0]}if(Jr in t.result){const n=new Uint8Array(t.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=n[0]!==0}if(Wr in t.result){const n=new Uint8Array(t.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=n[0]!==0}}toSchema(){const e=[];if(this.distributionPoint){let t;this.distributionPoint instanceof Array?t=new P({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,n=>n.toSchema())}):(t=this.distributionPoint.toSchema(),t.idBlock.tagClass=3,t.idBlock.tagNumber=1),e.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[t]}))}if(this.onlyContainsUserCerts!==$t.defaultValues(Fr)&&e.push(new ke({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsCACerts!==$t.defaultValues(Kr)&&e.push(new ke({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer})),this.onlySomeReasons!==void 0){const t=new ArrayBuffer(1),n=new Uint8Array(t);n[0]=this.onlySomeReasons,e.push(new ke({idBlock:{tagClass:3,tagNumber:3},valueHex:t}))}return this.indirectCRL!==$t.defaultValues(Jr)&&e.push(new ke({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsAttributeCerts!==$t.defaultValues(Wr)&&e.push(new ke({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer})),new C({value:e})}toJSON(){const e={};return this.distributionPoint&&(this.distributionPoint instanceof Array?e.distributionPoint=Array.from(this.distributionPoint,t=>t.toJSON()):e.distributionPoint=this.distributionPoint.toJSON()),this.onlyContainsUserCerts!==$t.defaultValues(Fr)&&(e.onlyContainsUserCerts=this.onlyContainsUserCerts),this.onlyContainsCACerts!==$t.defaultValues(Kr)&&(e.onlyContainsCACerts=this.onlyContainsCACerts),jr in this&&(e.onlySomeReasons=this.onlySomeReasons),this.indirectCRL!==$t.defaultValues(Jr)&&(e.indirectCRL=this.indirectCRL),this.onlyContainsAttributeCerts!==$t.defaultValues(Wr)&&(e.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts),e}}$t.CLASS_NAME="IssuingDistributionPoint";const Mu="base",ol="minimum",qr="maximum",$O=[Mu,ol,qr];class Bn extends Q{constructor(e={}){super(),this.base=d(e,Mu,Bn.defaultValues(Mu)),this.minimum=d(e,ol,Bn.defaultValues(ol)),qr in e&&(this.maximum=d(e,qr,Bn.defaultValues(qr))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Mu:return new Pe;case ol:return 0;case qr:return 0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[Pe.schema(t.base||{}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new M({name:t.minimum||w})]}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new M({name:t.maximum||w})]})]})}fromSchema(e){Z(e,$O);const t=X(e,e,Bn.schema({names:{base:{names:{blockName:Mu}},minimum:ol,maximum:qr}}));G.assertSchema(t,this.className),this.base=new Pe({schema:t.result.base}),ol in t.result&&(t.result.minimum.valueBlock.isHexOnly?this.minimum=t.result.minimum:this.minimum=t.result.minimum.valueBlock.valueDec),qr in t.result&&(t.result.maximum.valueBlock.isHexOnly?this.maximum=t.result.maximum:this.maximum=t.result.maximum.valueBlock.valueDec)}toSchema(){const e=[];if(e.push(this.base.toSchema()),this.minimum!==0){let t=0;this.minimum instanceof M?t=this.minimum:t=new M({value:this.minimum}),e.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[t]}))}if(qr in this){let t=0;this.maximum instanceof M?t=this.maximum:t=new M({value:this.maximum}),e.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[t]}))}return new C({value:e})}toJSON(){const e={base:this.base.toJSON()};return this.minimum!==0&&(typeof this.minimum=="number"?e.minimum=this.minimum:e.minimum=this.minimum.toJSON()),this.maximum!==void 0&&(typeof this.maximum=="number"?e.maximum=this.maximum:e.maximum=this.maximum.toJSON()),e}}Bn.CLASS_NAME="GeneralSubtree";const ga="permittedSubtrees",pa="excludedSubtrees",FO=[ga,pa];class Vc extends Q{constructor(e={}){super(),ga in e&&(this.permittedSubtrees=d(e,ga,Vc.defaultValues(ga))),pa in e&&(this.excludedSubtrees=d(e,pa,Vc.defaultValues(pa))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ga:case pa:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new _e({name:t.permittedSubtrees||w,value:Bn.schema()})]}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new _e({name:t.excludedSubtrees||w,value:Bn.schema()})]})]})}fromSchema(e){Z(e,FO);const t=X(e,e,Vc.schema({names:{permittedSubtrees:ga,excludedSubtrees:pa}}));G.assertSchema(t,this.className),ga in t.result&&(this.permittedSubtrees=Array.from(t.result.permittedSubtrees,n=>new Bn({schema:n}))),pa in t.result&&(this.excludedSubtrees=Array.from(t.result.excludedSubtrees,n=>new Bn({schema:n})))}toSchema(){const e=[];return this.permittedSubtrees&&e.push(new P({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,t=>t.toSchema())})),this.excludedSubtrees&&e.push(new P({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,t=>t.toSchema())})),new C({value:e})}toJSON(){const e={};return this.permittedSubtrees&&(e.permittedSubtrees=Array.from(this.permittedSubtrees,t=>t.toJSON())),this.excludedSubtrees&&(e.excludedSubtrees=Array.from(this.excludedSubtrees,t=>t.toJSON())),e}}Vc.CLASS_NAME="NameConstraints";const Jn="requireExplicitPolicy",Wn="inhibitPolicyMapping",KO=[Jn,Wn];class Lc extends Q{constructor(e={}){super(),Jn in e&&(this.requireExplicitPolicy=d(e,Jn,Lc.defaultValues(Jn))),Wn in e&&(this.inhibitPolicyMapping=d(e,Wn,Lc.defaultValues(Wn))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Jn:return 0;case Wn:return 0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ke({name:t.requireExplicitPolicy||w,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new ke({name:t.inhibitPolicyMapping||w,optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(e){Z(e,KO);const t=X(e,e,Lc.schema({names:{requireExplicitPolicy:Jn,inhibitPolicyMapping:Wn}}));if(G.assertSchema(t,this.className),Jn in t.result){const n=t.result.requireExplicitPolicy;n.idBlock.tagClass=1,n.idBlock.tagNumber=2;const r=n.toBER(!1),i=kt(r);G.assert(i,"Integer"),this.requireExplicitPolicy=i.result.valueBlock.valueDec}if(Wn in t.result){const n=t.result.inhibitPolicyMapping;n.idBlock.tagClass=1,n.idBlock.tagNumber=2;const r=n.toBER(!1),i=kt(r);G.assert(i,"Integer"),this.inhibitPolicyMapping=i.result.valueBlock.valueDec}}toSchema(){const e=[];if(Jn in this){const t=new M({value:this.requireExplicitPolicy});t.idBlock.tagClass=3,t.idBlock.tagNumber=0,e.push(t)}if(Wn in this){const t=new M({value:this.inhibitPolicyMapping});t.idBlock.tagClass=3,t.idBlock.tagNumber=1,e.push(t)}return new C({value:e})}toJSON(){const e={};return Jn in this&&(e.requireExplicitPolicy=this.requireExplicitPolicy),Wn in this&&(e.inhibitPolicyMapping=this.inhibitPolicyMapping),e}}Lc.CLASS_NAME="PolicyConstraints";const $u="issuerDomainPolicy",Fu="subjectDomainPolicy",jO=[$u,Fu];class Ao extends Q{constructor(e={}){super(),this.issuerDomainPolicy=d(e,$u,Ao.defaultValues($u)),this.subjectDomainPolicy=d(e,Fu,Ao.defaultValues(Fu)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case $u:return w;case Fu:return w;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.issuerDomainPolicy||w}),new ue({name:t.subjectDomainPolicy||w})]})}fromSchema(e){Z(e,jO);const t=X(e,e,Ao.schema({names:{issuerDomainPolicy:$u,subjectDomainPolicy:Fu}}));G.assertSchema(t,this.className),this.issuerDomainPolicy=t.result.issuerDomainPolicy.valueBlock.toString(),this.subjectDomainPolicy=t.result.subjectDomainPolicy.valueBlock.toString()}toSchema(){return new C({value:[new ue({value:this.issuerDomainPolicy}),new ue({value:this.subjectDomainPolicy})]})}toJSON(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}}Ao.CLASS_NAME="PolicyMapping";const Ku="mappings",JO=[Ku];class Gf extends Q{constructor(e={}){super(),this.mappings=d(e,Ku,Gf.defaultValues(Ku)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ku:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new _e({name:t.mappings||w,value:Ao.schema()})]})}fromSchema(e){Z(e,JO);const t=X(e,e,Gf.schema({names:{mappings:Ku}}));G.assertSchema(t,this.className),this.mappings=Array.from(t.result.mappings,n=>new Ao({schema:n}))}toSchema(){return new C({value:Array.from(this.mappings,e=>e.toSchema())})}toJSON(){return{mappings:Array.from(this.mappings,e=>e.toJSON())}}}Gf.CLASS_NAME="PolicyMappings";const Gr="notBefore",Yr="notAfter",WO=[Gr,Yr];class Dc extends Q{constructor(e={}){super(),Gr in e&&(this.notBefore=d(e,Gr,Dc.defaultValues(Gr))),Yr in e&&(this.notAfter=d(e,Yr,Dc.defaultValues(Yr))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Gr:return new Date;case Yr:return new Date;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ke({name:t.notBefore||w,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new ke({name:t.notAfter||w,optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(e){Z(e,WO);const t=X(e,e,Dc.schema({names:{notBefore:Gr,notAfter:Yr}}));if(G.assertSchema(t,this.className),Gr in t.result){const n=new ot;n.fromBuffer(t.result.notBefore.valueBlock.valueHex),this.notBefore=n.toDate()}if(Yr in t.result){const n=new ot({valueHex:t.result.notAfter.valueBlock.valueHex});n.fromBuffer(t.result.notAfter.valueBlock.valueHex),this.notAfter=n.toDate()}}toSchema(){const e=[];return Gr in this&&e.push(new ke({idBlock:{tagClass:3,tagNumber:0},valueHex:new ot({valueDate:this.notBefore}).valueBlock.valueHexView})),Yr in this&&e.push(new ke({idBlock:{tagClass:3,tagNumber:1},valueHex:new ot({valueDate:this.notAfter}).valueBlock.valueHexView})),new C({value:e})}toJSON(){const e={};return this.notBefore&&(e.notBefore=this.notBefore),this.notAfter&&(e.notAfter=this.notAfter),e}}Dc.CLASS_NAME="PrivateKeyUsagePeriod";const ll="id",qn="type",cl="values",qO=[ll,qn],GO=[cl];class ko extends Q{constructor(e={}){super(),this.id=d(e,ll,ko.defaultValues(ll)),qn in e&&(this.type=d(e,qn,ko.defaultValues(qn))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ll:return w;case qn:return new pt;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case ll:return t===w;case qn:return t instanceof pt;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.id||w}),new Ce({name:t.type||w,optional:!0})]})}fromSchema(e){Z(e,qO);const t=X(e,e,ko.schema({names:{id:ll,type:qn}}));G.assertSchema(t,this.className),this.id=t.result.id.valueBlock.toString(),qn in t.result&&(this.type=t.result.type)}toSchema(){const e=[new ue({value:this.id})];return qn in this&&e.push(this.type),new C({value:e})}toJSON(){const e={id:this.id};return this.type&&(e.type=this.type.toJSON()),e}}ko.CLASS_NAME="QCStatement";class Yf extends Q{constructor(e={}){super(),this.values=d(e,cl,Yf.defaultValues(cl)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case cl:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case cl:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new _e({name:t.values||w,value:ko.schema(t.value||{})})]})}fromSchema(e){Z(e,GO);const t=X(e,e,Yf.schema({names:{values:cl}}));G.assertSchema(t,this.className),this.values=Array.from(t.result.values,n=>new ko({schema:n}))}toSchema(){return new C({value:Array.from(this.values,e=>e.toSchema())})}toJSON(){return{values:Array.from(this.values,e=>e.toJSON())}}}Yf.CLASS_NAME="QCStatements";var wa;class Fi{static register(e,t,n){this.namedCurves[e.toLowerCase()]=this.namedCurves[t]={name:e,id:t,size:n}}static find(e){return this.namedCurves[e.toLowerCase()]||null}}wa=Fi;Fi.namedCurves={};wa.register("P-256","1.2.840.10045.3.1.7",32),wa.register("P-384","1.3.132.0.34",48),wa.register("P-521","1.3.132.0.35",66),wa.register("brainpoolP256r1","1.3.36.3.3.2.8.1.1.7",32),wa.register("brainpoolP384r1","1.3.36.3.3.2.8.1.1.11",48),wa.register("brainpoolP512r1","1.3.36.3.3.2.8.1.1.13",64);const Nd="x",Id="y",_d="namedCurve";class ds extends Q{constructor(e={}){super(),this.x=d(e,Nd,ds.defaultValues(Nd)),this.y=d(e,Id,ds.defaultValues(Id)),this.namedCurve=d(e,_d,ds.defaultValues(_d)),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Nd:case Id:return Tt;case _d:return w;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Nd:case Id:return t instanceof ArrayBuffer&&Qc(t,ds.defaultValues(e));case _d:return typeof t=="string"&&t===ds.defaultValues(e);default:return super.defaultValues(e)}}static schema(){return new sg}fromSchema(e){const t=Se.toUint8Array(e);if(t[0]!==4)throw new Error("Object's schema was not verified against input data for ECPublicKey");const n=Fi.find(this.namedCurve);if(!n)throw new Error(`Incorrect curve OID: ${this.namedCurve}`);const r=n.size;if(t.byteLength!==r*2+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.namedCurve=n.name,this.x=t.slice(1,r+1).buffer,this.y=t.slice(1+r,r*2+1).buffer}toSchema(){return new sg({data:Oc(new Uint8Array([4]).buffer,this.x,this.y)})}toJSON(){const e=Fi.find(this.namedCurve);return{crv:e?e.name:this.namedCurve,x:Ew(eg(this.x),!0,!0,!1),y:Ew(eg(this.y),!0,!0,!1)}}fromJSON(e){Le.assert("json",e,"crv","x","y");let t=0;const n=Fi.find(e.crv);n&&(this.namedCurve=n.id,t=n.size);const r=zc(Ff(e.x,!0));if(r.byteLength<t){this.x=new ArrayBuffer(t);const a=new Uint8Array(this.x),o=new Uint8Array(r);a.set(o,1)}else this.x=r.slice(0,t);const i=zc(Ff(e.y,!0));if(i.byteLength<t){this.y=new ArrayBuffer(t);const a=new Uint8Array(this.y),o=new Uint8Array(i);a.set(o,1)}else this.y=i.slice(0,t)}}ds.CLASS_NAME="ECPublicKey";const ju="modulus",Ju="publicExponent",YO=[ju,Ju];class Eo extends Q{constructor(e={}){super(),this.modulus=d(e,ju,Eo.defaultValues(ju)),this.publicExponent=d(e,Ju,Eo.defaultValues(Ju)),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ju:return new M;case Ju:return new M;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new M({name:t.modulus||w}),new M({name:t.publicExponent||w})]})}fromSchema(e){Z(e,YO);const t=X(e,e,Eo.schema({names:{modulus:ju,publicExponent:Ju}}));G.assertSchema(t,this.className),this.modulus=t.result.modulus.convertFromDER(256),this.publicExponent=t.result.publicExponent}toSchema(){return new C({value:[this.modulus.convertToDER(),this.publicExponent]})}toJSON(){return{n:Ae.ToBase64Url(this.modulus.valueBlock.valueHexView),e:Ae.ToBase64Url(this.publicExponent.valueBlock.valueHexView)}}fromJSON(e){Le.assert("json",e,"n","e");const t=zc(Ff(e.n,!0));this.modulus=new M({valueHex:t.slice(0,Math.pow(2,wR(t.byteLength)))}),this.publicExponent=new M({valueHex:zc(Ff(e.e,!0)).slice(0,3)})}}Eo.CLASS_NAME="RSAPublicKey";const Wu="algorithm",qu="subjectPublicKey",XO=[Wu,qu];class gs extends Q{get parsedKey(){if(this._parsedKey===void 0){switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===ue.blockName())try{this._parsedKey=new ds({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHexView})}catch{}break;case"1.2.840.113549.1.1.1":{const e=kt(this.subjectPublicKey.valueBlock.valueHexView);if(e.offset!==-1)try{this._parsedKey=new Eo({schema:e.result})}catch{}}break}this._parsedKey||(this._parsedKey=null)}return this._parsedKey||void 0}set parsedKey(e){this._parsedKey=e}constructor(e={}){super(),this.algorithm=d(e,Wu,gs.defaultValues(Wu)),this.subjectPublicKey=d(e,qu,gs.defaultValues(qu));const t=d(e,"parsedKey",null);t&&(this.parsedKey=t),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Wu:return new K;case qu:return new Oe;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[K.schema(t.algorithm||{}),new Oe({name:t.subjectPublicKey||w})]})}fromSchema(e){Z(e,XO);const t=X(e,e,gs.schema({names:{algorithm:{names:{blockName:Wu}},subjectPublicKey:qu}}));G.assertSchema(t,this.className),this.algorithm=new K({schema:t.result.algorithm}),this.subjectPublicKey=t.result.subjectPublicKey}toSchema(){return new C({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}toJSON(){if(!this.parsedKey)return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};const e={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":e.kty="EC";break;case"1.2.840.113549.1.1.1":e.kty="RSA";break}const t=this.parsedKey.toJSON();return Object.assign(e,t),e}fromJSON(e){if("kty"in e){switch(e.kty.toUpperCase()){case"EC":this.parsedKey=new ds({json:e}),this.algorithm=new K({algorithmId:"1.2.840.10045.2.1",algorithmParams:new ue({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new Eo({json:e}),this.algorithm=new K({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new pt});break;default:throw new Error(`Invalid value for "kty" parameter: ${e.kty}`)}this.subjectPublicKey=new Oe({valueHex:this.parsedKey.toSchema().toBER(!1)})}}async importKey(e,t=Ie(!0)){try{if(!e)throw new Error("Need to provide publicKey input parameter");const n=await t.exportKey("spki",e),r=kt(n);try{this.fromSchema(r.result)}catch{throw new Error("Error during initializing object from schema")}}catch(n){const r=n instanceof Error?n.message:`${n}`;throw new Error(`Error during exporting public key: ${r}`)}}}gs.CLASS_NAME="PublicKeyInfo";const ul="version",hl="privateKey",en="namedCurve",Xr="publicKey",QO=[ul,hl,en,Xr];class Fs extends Q{constructor(e={}){super(),this.version=d(e,ul,Fs.defaultValues(ul)),this.privateKey=d(e,hl,Fs.defaultValues(hl)),en in e&&(this.namedCurve=d(e,en,Fs.defaultValues(en))),Xr in e&&(this.publicKey=d(e,Xr,Fs.defaultValues(Xr))),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ul:return 1;case hl:return new ee;case en:return w;case Xr:return new ds;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case ul:return t===Fs.defaultValues(e);case hl:return t.isEqual(Fs.defaultValues(e));case en:return t===w;case Xr:return ds.compareWithDefault(en,t.namedCurve)&&ds.compareWithDefault("x",t.x)&&ds.compareWithDefault("y",t.y);default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new M({name:t.version||w}),new ee({name:t.privateKey||w}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new ue({name:t.namedCurve||w})]}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Oe({name:t.publicKey||w})]})]})}fromSchema(e){Z(e,QO);const t=X(e,e,Fs.schema({names:{version:ul,privateKey:hl,namedCurve:en,publicKey:Xr}}));if(G.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.privateKey=t.result.privateKey,en in t.result&&(this.namedCurve=t.result.namedCurve.valueBlock.toString()),Xr in t.result){const n={schema:t.result.publicKey.valueBlock.valueHex};en in this&&(n.namedCurve=this.namedCurve),this.publicKey=new ds(n)}}toSchema(){const e=[new M({value:this.version}),this.privateKey];return this.namedCurve&&e.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[new ue({value:this.namedCurve})]})),this.publicKey&&e.push(new P({idBlock:{tagClass:3,tagNumber:1},value:[new Oe({valueHex:this.publicKey.toSchema().toBER(!1)})]})),new C({value:e})}toJSON(){if(!this.namedCurve||Fs.compareWithDefault(en,this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');const e=Fi.find(this.namedCurve),t={crv:e?e.name:this.namedCurve,d:Ae.ToBase64Url(this.privateKey.valueBlock.valueHexView)};if(this.publicKey){const n=this.publicKey.toJSON();t.x=n.x,t.y=n.y}return t}fromJSON(e){Le.assert("json",e,"crv","d");let t=0;const n=Fi.find(e.crv);n&&(this.namedCurve=n.id,t=n.size);const r=Ae.FromBase64Url(e.d);if(r.byteLength<t){const i=new ArrayBuffer(t),a=new Uint8Array(i),o=new Uint8Array(r);a.set(o,1),this.privateKey=new ee({valueHex:i})}else this.privateKey=new ee({valueHex:r.slice(0,t)});e.x&&e.y&&(this.publicKey=new ds({json:e}))}}Fs.CLASS_NAME="ECPrivateKey";const Gu="prime",Yu="exponent",Xu="coefficient",zO=[Gu,Yu,Xu];class cr extends Q{constructor(e={}){super(),this.prime=d(e,Gu,cr.defaultValues(Gu)),this.exponent=d(e,Yu,cr.defaultValues(Yu)),this.coefficient=d(e,Xu,cr.defaultValues(Xu)),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Gu:return new M;case Yu:return new M;case Xu:return new M;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new M({name:t.prime||w}),new M({name:t.exponent||w}),new M({name:t.coefficient||w})]})}fromSchema(e){Z(e,zO);const t=X(e,e,cr.schema({names:{prime:Gu,exponent:Yu,coefficient:Xu}}));G.assertSchema(t,this.className),this.prime=t.result.prime.convertFromDER(),this.exponent=t.result.exponent.convertFromDER(),this.coefficient=t.result.coefficient.convertFromDER()}toSchema(){return new C({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}toJSON(){return{r:Ae.ToBase64Url(this.prime.valueBlock.valueHexView),d:Ae.ToBase64Url(this.exponent.valueBlock.valueHexView),t:Ae.ToBase64Url(this.coefficient.valueBlock.valueHexView)}}fromJSON(e){Le.assert("json",e,"r","d","r"),this.prime=new M({valueHex:Ae.FromBase64Url(e.r)}),this.exponent=new M({valueHex:Ae.FromBase64Url(e.d)}),this.coefficient=new M({valueHex:Ae.FromBase64Url(e.t)})}}cr.CLASS_NAME="OtherPrimeInfo";const Qu="version",zu="modulus",Zu="publicExponent",eh="privateExponent",th="prime1",sh="prime2",nh="exponent1",rh="exponent2",ih="coefficient",ya="otherPrimeInfos",ZO=[Qu,zu,Zu,eh,th,sh,nh,rh,ih,ya];class ls extends Q{constructor(e={}){super(),this.version=d(e,Qu,ls.defaultValues(Qu)),this.modulus=d(e,zu,ls.defaultValues(zu)),this.publicExponent=d(e,Zu,ls.defaultValues(Zu)),this.privateExponent=d(e,eh,ls.defaultValues(eh)),this.prime1=d(e,th,ls.defaultValues(th)),this.prime2=d(e,sh,ls.defaultValues(sh)),this.exponent1=d(e,nh,ls.defaultValues(nh)),this.exponent2=d(e,rh,ls.defaultValues(rh)),this.coefficient=d(e,ih,ls.defaultValues(ih)),ya in e&&(this.otherPrimeInfos=d(e,ya,ls.defaultValues(ya))),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Qu:return 0;case zu:return new M;case Zu:return new M;case eh:return new M;case th:return new M;case sh:return new M;case nh:return new M;case rh:return new M;case ih:return new M;case ya:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new M({name:t.version||w}),new M({name:t.modulus||w}),new M({name:t.publicExponent||w}),new M({name:t.privateExponent||w}),new M({name:t.prime1||w}),new M({name:t.prime2||w}),new M({name:t.exponent1||w}),new M({name:t.exponent2||w}),new M({name:t.coefficient||w}),new C({optional:!0,value:[new _e({name:t.otherPrimeInfosName||w,value:cr.schema(t.otherPrimeInfo||{})})]})]})}fromSchema(e){Z(e,ZO);const t=X(e,e,ls.schema({names:{version:Qu,modulus:zu,publicExponent:Zu,privateExponent:eh,prime1:th,prime2:sh,exponent1:nh,exponent2:rh,coefficient:ih,otherPrimeInfo:{names:{blockName:ya}}}}));G.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.modulus=t.result.modulus.convertFromDER(256),this.publicExponent=t.result.publicExponent,this.privateExponent=t.result.privateExponent.convertFromDER(256),this.prime1=t.result.prime1.convertFromDER(128),this.prime2=t.result.prime2.convertFromDER(128),this.exponent1=t.result.exponent1.convertFromDER(128),this.exponent2=t.result.exponent2.convertFromDER(128),this.coefficient=t.result.coefficient.convertFromDER(128),ya in t.result&&(this.otherPrimeInfos=Array.from(t.result.otherPrimeInfos,n=>new cr({schema:n})))}toSchema(){const e=[];return e.push(new M({value:this.version})),e.push(this.modulus.convertToDER()),e.push(this.publicExponent),e.push(this.privateExponent.convertToDER()),e.push(this.prime1.convertToDER()),e.push(this.prime2.convertToDER()),e.push(this.exponent1.convertToDER()),e.push(this.exponent2.convertToDER()),e.push(this.coefficient.convertToDER()),this.otherPrimeInfos&&e.push(new C({value:Array.from(this.otherPrimeInfos,t=>t.toSchema())})),new C({value:e})}toJSON(){const e={n:Ae.ToBase64Url(this.modulus.valueBlock.valueHexView),e:Ae.ToBase64Url(this.publicExponent.valueBlock.valueHexView),d:Ae.ToBase64Url(this.privateExponent.valueBlock.valueHexView),p:Ae.ToBase64Url(this.prime1.valueBlock.valueHexView),q:Ae.ToBase64Url(this.prime2.valueBlock.valueHexView),dp:Ae.ToBase64Url(this.exponent1.valueBlock.valueHexView),dq:Ae.ToBase64Url(this.exponent2.valueBlock.valueHexView),qi:Ae.ToBase64Url(this.coefficient.valueBlock.valueHexView)};return this.otherPrimeInfos&&(e.oth=Array.from(this.otherPrimeInfos,t=>t.toJSON())),e}fromJSON(e){Le.assert("json",e,"n","e","d","p","q","dp","dq","qi"),this.modulus=new M({valueHex:Ae.FromBase64Url(e.n)}),this.publicExponent=new M({valueHex:Ae.FromBase64Url(e.e)}),this.privateExponent=new M({valueHex:Ae.FromBase64Url(e.d)}),this.prime1=new M({valueHex:Ae.FromBase64Url(e.p)}),this.prime2=new M({valueHex:Ae.FromBase64Url(e.q)}),this.exponent1=new M({valueHex:Ae.FromBase64Url(e.dp)}),this.exponent2=new M({valueHex:Ae.FromBase64Url(e.dq)}),this.coefficient=new M({valueHex:Ae.FromBase64Url(e.qi)}),e.oth&&(this.otherPrimeInfos=Array.from(e.oth,t=>new cr({json:t})))}}ls.CLASS_NAME="RSAPrivateKey";const ah="version",oh="privateKeyAlgorithm",lh="privateKey",va="attributes",xd="parsedKey",eP=[ah,oh,lh,va];class Ps extends Q{constructor(e={}){super(),this.version=d(e,ah,Ps.defaultValues(ah)),this.privateKeyAlgorithm=d(e,oh,Ps.defaultValues(oh)),this.privateKey=d(e,lh,Ps.defaultValues(lh)),va in e&&(this.attributes=d(e,va,Ps.defaultValues(va))),xd in e&&(this.parsedKey=d(e,xd,Ps.defaultValues(xd))),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ah:return 0;case oh:return new K;case lh:return new ee;case va:return[];case xd:return{};default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new M({name:t.version||w}),K.schema(t.privateKeyAlgorithm||{}),new ee({name:t.privateKey||w}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new _e({name:t.attributes||w,value:tt.schema()})]})]})}fromSchema(e){Z(e,eP);const t=X(e,e,Ps.schema({names:{version:ah,privateKeyAlgorithm:{names:{blockName:oh}},privateKey:lh,attributes:va}}));switch(G.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.privateKeyAlgorithm=new K({schema:t.result.privateKeyAlgorithm}),this.privateKey=t.result.privateKey,va in t.result&&(this.attributes=Array.from(t.result.attributes,n=>new tt({schema:n}))),this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":{const n=kt(this.privateKey.valueBlock.valueHexView);n.offset!==-1&&(this.parsedKey=new ls({schema:n.result}))}break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof ue){const n=kt(this.privateKey.valueBlock.valueHexView);n.offset!==-1&&(this.parsedKey=new Fs({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:n.result}))}break}}toSchema(){const e=[new M({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];return this.attributes&&e.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,t=>t.toSchema())})),new C({value:e})}toJSON(){if(!this.parsedKey){const n={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};return this.attributes&&(n.attributes=Array.from(this.attributes,r=>r.toJSON())),n}const e={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":e.kty="EC";break;case"1.2.840.113549.1.1.1":e.kty="RSA";break}const t=this.parsedKey.toJSON();return Object.assign(e,t),e}fromJSON(e){if("kty"in e){switch(e.kty.toUpperCase()){case"EC":this.parsedKey=new Fs({json:e}),this.privateKeyAlgorithm=new K({algorithmId:"1.2.840.10045.2.1",algorithmParams:new ue({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new ls({json:e}),this.privateKeyAlgorithm=new K({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new pt});break;default:throw new Error(`Invalid value for "kty" parameter: ${e.kty}`)}this.privateKey=new ee({valueHex:this.parsedKey.toSchema().toBER(!1)})}}}Ps.CLASS_NAME="PrivateKeyInfo";const fl="contentType",dl="contentEncryptionAlgorithm",ba="encryptedContent",tP=[fl,dl,ba],m0=1024;class bt extends Q{constructor(e={}){if(super(),this.contentType=d(e,fl,bt.defaultValues(fl)),this.contentEncryptionAlgorithm=d(e,dl,bt.defaultValues(dl)),ba in e&&e.encryptedContent&&(this.encryptedContent=e.encryptedContent,this.encryptedContent.idBlock.tagClass===1&&this.encryptedContent.idBlock.tagNumber===4&&this.encryptedContent.idBlock.isConstructed===!1&&!e.disableSplit)){const t=new ee({idBlock:{isConstructed:!0},isConstructed:!0});let n=0;const r=this.encryptedContent.valueBlock.valueHexView.slice().buffer;let i=r.byteLength;for(;i>0;){const a=new Uint8Array(r,n,n+m0>r.byteLength?r.byteLength-n:m0),o=new ArrayBuffer(a.length),l=new Uint8Array(o);for(let u=0;u<l.length;u++)l[u]=a[u];t.valueBlock.value.push(new ee({valueHex:o})),i-=a.length,n+=a.length}this.encryptedContent=t}e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case fl:return w;case dl:return new K;case ba:return new ee;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case fl:return t===w;case dl:return t.algorithmId===w&&!("algorithmParams"in t);case ba:return t.isEqual(bt.defaultValues(ba));default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.contentType||w}),K.schema(t.contentEncryptionAlgorithm||{}),new lt({value:[new P({name:t.encryptedContent||w,idBlock:{tagClass:3,tagNumber:0},value:[new _e({value:new ee})]}),new ke({name:t.encryptedContent||w,idBlock:{tagClass:3,tagNumber:0}})]})]})}fromSchema(e){Z(e,tP);const t=X(e,e,bt.schema({names:{contentType:fl,contentEncryptionAlgorithm:{names:{blockName:dl}},encryptedContent:ba}}));G.assertSchema(t,this.className),this.contentType=t.result.contentType.valueBlock.toString(),this.contentEncryptionAlgorithm=new K({schema:t.result.contentEncryptionAlgorithm}),ba in t.result&&(this.encryptedContent=t.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)}toSchema(){const e={isIndefiniteForm:!1},t=[];if(t.push(new ue({value:this.contentType})),t.push(this.contentEncryptionAlgorithm.toSchema()),this.encryptedContent){e.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;const n=this.encryptedContent;n.idBlock.tagClass=3,n.idBlock.tagNumber=0,n.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed,t.push(n)}return new C({lenBlock:e,value:t})}toJSON(){const e={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};return this.encryptedContent&&(e.encryptedContent=this.encryptedContent.toJSON()),e}getEncryptedContent(){if(!this.encryptedContent)throw new Error("Parameter 'encryptedContent' is undefined");return ee.prototype.getValue.call(this.encryptedContent)}}bt.CLASS_NAME="EncryptedContentInfo";const Qr="hashAlgorithm",zr="maskGenAlgorithm",Zr="saltLength",ei="trailerField",sP=[Qr,zr,Zr,ei];class Ft extends Q{constructor(e={}){super(),this.hashAlgorithm=d(e,Qr,Ft.defaultValues(Qr)),this.maskGenAlgorithm=d(e,zr,Ft.defaultValues(zr)),this.saltLength=d(e,Zr,Ft.defaultValues(Zr)),this.trailerField=d(e,ei,Ft.defaultValues(ei)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Qr:return new K({algorithmId:"1.3.14.3.2.26",algorithmParams:new pt});case zr:return new K({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new K({algorithmId:"1.3.14.3.2.26",algorithmParams:new pt}).toSchema()});case Zr:return 20;case ei:return 1;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new P({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[K.schema(t.hashAlgorithm||{})]}),new P({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[K.schema(t.maskGenAlgorithm||{})]}),new P({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new M({name:t.saltLength||w})]}),new P({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new M({name:t.trailerField||w})]})]})}fromSchema(e){Z(e,sP);const t=X(e,e,Ft.schema({names:{hashAlgorithm:{names:{blockName:Qr}},maskGenAlgorithm:{names:{blockName:zr}},saltLength:Zr,trailerField:ei}}));G.assertSchema(t,this.className),Qr in t.result&&(this.hashAlgorithm=new K({schema:t.result.hashAlgorithm})),zr in t.result&&(this.maskGenAlgorithm=new K({schema:t.result.maskGenAlgorithm})),Zr in t.result&&(this.saltLength=t.result.saltLength.valueBlock.valueDec),ei in t.result&&(this.trailerField=t.result.trailerField.valueBlock.valueDec)}toSchema(){const e=[];return this.hashAlgorithm.isEqual(Ft.defaultValues(Qr))||e.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(Ft.defaultValues(zr))||e.push(new P({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.saltLength!==Ft.defaultValues(Zr)&&e.push(new P({idBlock:{tagClass:3,tagNumber:2},value:[new M({value:this.saltLength})]})),this.trailerField!==Ft.defaultValues(ei)&&e.push(new P({idBlock:{tagClass:3,tagNumber:3},value:[new M({value:this.trailerField})]})),new C({value:e})}toJSON(){const e={};return this.hashAlgorithm.isEqual(Ft.defaultValues(Qr))||(e.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(Ft.defaultValues(zr))||(e.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.saltLength!==Ft.defaultValues(Zr)&&(e.saltLength=this.saltLength),this.trailerField!==Ft.defaultValues(ei)&&(e.trailerField=this.trailerField),e}}Ft.CLASS_NAME="RSASSAPSSParams";const ml="salt",ch="iterationCount",tn="keyLength",Gn="prf",nP=[ml,ch,tn,Gn];class es extends Q{constructor(e={}){super(),this.salt=d(e,ml,es.defaultValues(ml)),this.iterationCount=d(e,ch,es.defaultValues(ch)),tn in e&&(this.keyLength=d(e,tn,es.defaultValues(tn))),Gn in e&&(this.prf=d(e,Gn,es.defaultValues(Gn))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ml:return{};case ch:return-1;case tn:return 0;case Gn:return new K({algorithmId:"1.3.14.3.2.26",algorithmParams:new pt});default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new lt({value:[new ee({name:t.saltPrimitive||w}),K.schema(t.saltConstructed||{})]}),new M({name:t.iterationCount||w}),new M({name:t.keyLength||w,optional:!0}),K.schema(t.prf||{names:{optional:!0}})]})}fromSchema(e){Z(e,nP);const t=X(e,e,es.schema({names:{saltPrimitive:ml,saltConstructed:{names:{blockName:ml}},iterationCount:ch,keyLength:tn,prf:{names:{blockName:Gn,optional:!0}}}}));G.assertSchema(t,this.className),this.salt=t.result.salt,this.iterationCount=t.result.iterationCount.valueBlock.valueDec,tn in t.result&&(this.keyLength=t.result.keyLength.valueBlock.valueDec),Gn in t.result&&(this.prf=new K({schema:t.result.prf}))}toSchema(){const e=[];return e.push(this.salt),e.push(new M({value:this.iterationCount})),tn in this&&es.defaultValues(tn)!==this.keyLength&&e.push(new M({value:this.keyLength})),this.prf&&es.defaultValues(Gn).isEqual(this.prf)===!1&&e.push(this.prf.toSchema()),new C({value:e})}toJSON(){const e={salt:this.salt.toJSON(),iterationCount:this.iterationCount};return tn in this&&es.defaultValues(tn)!==this.keyLength&&(e.keyLength=this.keyLength),this.prf&&es.defaultValues(Gn).isEqual(this.prf)===!1&&(e.prf=this.prf.toJSON()),e}}es.CLASS_NAME="PBKDF2Params";const uh="keyDerivationFunc",hh="encryptionScheme",rP=[uh,hh];class Co extends Q{constructor(e={}){super(),this.keyDerivationFunc=d(e,uh,Co.defaultValues(uh)),this.encryptionScheme=d(e,hh,Co.defaultValues(hh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case uh:return new K;case hh:return new K;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[K.schema(t.keyDerivationFunc||{}),K.schema(t.encryptionScheme||{})]})}fromSchema(e){Z(e,rP);const t=X(e,e,Co.schema({names:{keyDerivationFunc:{names:{blockName:uh}},encryptionScheme:{names:{blockName:hh}}}}));G.assertSchema(t,this.className),this.keyDerivationFunc=new K({schema:t.result.keyDerivationFunc}),this.encryptionScheme=new K({schema:t.result.encryptionScheme})}toSchema(){return new C({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}toJSON(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}}Co.CLASS_NAME="PBES2Params";class iP{constructor(e){this.crypto=e.crypto,this.subtle="webkitSubtle"in e.crypto?e.crypto.webkitSubtle:e.crypto.subtle,this.name=d(e,"name",w)}async encrypt(...e){return this.subtle.encrypt(...e)}async decrypt(...e){return this.subtle.decrypt(...e)}sign(...e){return this.subtle.sign(...e)}async verify(...e){return this.subtle.verify(...e)}async digest(...e){return this.subtle.digest(...e)}async generateKey(...e){return this.subtle.generateKey(...e)}async deriveKey(...e){return this.subtle.deriveKey(...e)}async deriveBits(...e){return this.subtle.deriveBits(...e)}async wrapKey(...e){return this.subtle.wrapKey(...e)}async unwrapKey(...e){return this.subtle.unwrapKey(...e)}exportKey(...e){return this.subtle.exportKey(...e)}importKey(...e){return this.subtle.importKey(...e)}getRandomValues(e){return this.crypto.getRandomValues(e)}}async function g0(s,e,t,n,r){let i,a,o;switch(s.toUpperCase()){case"SHA-1":i=20,a=64,o=UR;break;case"SHA-256":i=32,a=64,o=tO;break;case"SHA-384":i=48,a=128,o=nO;break;case"SHA-512":i=64,a=128,o=sO;break;default:throw new Error("Unsupported hashing algorithm")}const l=new Uint8Array(t);let u=new TextDecoder().decode(t);new TextEncoder().encode(u).some((v,N)=>v!==l[N])&&(u=String.fromCharCode(...l));const h=new Uint8Array(u.length*2+2),f=new DataView(h.buffer);for(let v=0;v<u.length;v++)f.setUint16(v*2,u.charCodeAt(v),!1);f.setUint16(u.length*2,0,!1);const m=new Uint8Array(a).fill(3),b=new Uint8Array(n),A=new Uint8Array(a*Math.ceil(b.length/a)).map((v,N)=>b[N%b.length]),k=new Uint8Array(a*Math.ceil(h.length/a)).map((v,N)=>h[N%h.length]);let x=new Uint8Array(A.length+k.length);x.set(A),x.set(k,A.length);const R=Math.ceil((e>>3)/i),g=[];for(let v=0;v<R;v++){let N=new Uint8Array(m.length+x.length);N.set(m),N.set(x,m.length);for(let j=0;j<r;j++)N=o(N);const _=new Uint8Array(a).map((j,se)=>N[se%N.length]),H=Math.ceil(b.length/a)+Math.ceil(h.length/a),F=[];for(let j=0;j<H;j++){const se=Array.from(x.slice(j*a,(j+1)*a));let L=511;for(let $=_.length-1;$>=0;$--)L>>=8,L+=_[$]+(se[$]||0),se[$]=L&255;F.push(...se)}x=new Uint8Array(F),g.push(...N)}return new Uint8Array(g.slice(0,e>>3)).buffer}function tE(s){const e=typeof s=="string"?{name:s}:s;return"hash"in e?{...e,hash:tE(e.hash)}:e}class ng extends iP{async importKey(e,t,n,r,i){var a,o,l,u,c,h;let f={};const m=tE(n);switch(e.toLowerCase()){case"raw":return this.subtle.importKey("raw",t,n,r,i);case"spki":{const b=kt(Se.toArrayBuffer(t));G.assert(b,"keyData");const A=new gs;try{A.fromSchema(b.result)}catch{throw new We("Incorrect keyData")}switch(m.name.toUpperCase()){case"RSA-PSS":{if(!m.hash)throw new Le("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(m.hash.name.toUpperCase()){case"SHA-1":f.alg="PS1";break;case"SHA-256":f.alg="PS256";break;case"SHA-384":f.alg="PS384";break;case"SHA-512":f.alg="PS512";break;default:throw new Error(`Incorrect hash algorithm: ${m.hash.name.toUpperCase()}`)}}case"RSASSA-PKCS1-V1_5":{if(i=["verify"],f.kty="RSA",f.ext=r,f.key_ops=i,A.algorithm.algorithmId!=="1.2.840.113549.1.1.1")throw new Error(`Incorrect public key algorithm: ${A.algorithm.algorithmId}`);if(!f.alg){if(!m.hash)throw new Le("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(m.hash.name.toUpperCase()){case"SHA-1":f.alg="RS1";break;case"SHA-256":f.alg="RS256";break;case"SHA-384":f.alg="RS384";break;case"SHA-512":f.alg="RS512";break;default:throw new Error(`Incorrect hash algorithm: ${m.hash.name.toUpperCase()}`)}}const k=A.toJSON();Object.assign(f,k)}break;case"ECDSA":i=["verify"];case"ECDH":{if(f={kty:"EC",ext:r,key_ops:i},A.algorithm.algorithmId!=="1.2.840.10045.2.1")throw new Error(`Incorrect public key algorithm: ${A.algorithm.algorithmId}`);const k=A.toJSON();Object.assign(f,k)}break;case"RSA-OAEP":{if(f.kty="RSA",f.ext=r,f.key_ops=i,this.name.toLowerCase()==="safari")f.alg="RSA-OAEP";else{if(!m.hash)throw new Le("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(m.hash.name.toUpperCase()){case"SHA-1":f.alg="RSA-OAEP";break;case"SHA-256":f.alg="RSA-OAEP-256";break;case"SHA-384":f.alg="RSA-OAEP-384";break;case"SHA-512":f.alg="RSA-OAEP-512";break;default:throw new Error(`Incorrect hash algorithm: ${m.hash.name.toUpperCase()}`)}}const k=A.toJSON();Object.assign(f,k)}break;case"RSAES-PKCS1-V1_5":{f.kty="RSA",f.ext=r,f.key_ops=i,f.alg="PS1";const k=A.toJSON();Object.assign(f,k)}break;default:throw new Error(`Incorrect algorithm name: ${m.name.toUpperCase()}`)}}break;case"pkcs8":{const b=new Ps,A=kt(Se.toArrayBuffer(t));G.assert(A,"keyData");try{b.fromSchema(A.result)}catch{throw new Error("Incorrect keyData")}if(!b.parsedKey)throw new Error("Incorrect keyData");switch(m.name.toUpperCase()){case"RSA-PSS":switch((a=m.hash)===null||a===void 0?void 0:a.name.toUpperCase()){case"SHA-1":f.alg="PS1";break;case"SHA-256":f.alg="PS256";break;case"SHA-384":f.alg="PS384";break;case"SHA-512":f.alg="PS512";break;default:throw new Error(`Incorrect hash algorithm: ${(o=m.hash)===null||o===void 0?void 0:o.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(i=["sign"],f.kty="RSA",f.ext=r,f.key_ops=i,b.privateKeyAlgorithm.algorithmId!=="1.2.840.113549.1.1.1")throw new Error(`Incorrect private key algorithm: ${b.privateKeyAlgorithm.algorithmId}`);if(!("alg"in f))switch((l=m.hash)===null||l===void 0?void 0:l.name.toUpperCase()){case"SHA-1":f.alg="RS1";break;case"SHA-256":f.alg="RS256";break;case"SHA-384":f.alg="RS384";break;case"SHA-512":f.alg="RS512";break;default:throw new Error(`Incorrect hash algorithm: ${(u=m.hash)===null||u===void 0?void 0:u.name.toUpperCase()}`)}const k=b.toJSON();Object.assign(f,k)}break;case"ECDSA":i=["sign"];case"ECDH":{if(f={kty:"EC",ext:r,key_ops:i},b.privateKeyAlgorithm.algorithmId!=="1.2.840.10045.2.1")throw new Error(`Incorrect algorithm: ${b.privateKeyAlgorithm.algorithmId}`);const k=b.toJSON();Object.assign(f,k)}break;case"RSA-OAEP":{if(f.kty="RSA",f.ext=r,f.key_ops=i,this.name.toLowerCase()==="safari")f.alg="RSA-OAEP";else switch((c=m.hash)===null||c===void 0?void 0:c.name.toUpperCase()){case"SHA-1":f.alg="RSA-OAEP";break;case"SHA-256":f.alg="RSA-OAEP-256";break;case"SHA-384":f.alg="RSA-OAEP-384";break;case"SHA-512":f.alg="RSA-OAEP-512";break;default:throw new Error(`Incorrect hash algorithm: ${(h=m.hash)===null||h===void 0?void 0:h.name.toUpperCase()}`)}const k=b.toJSON();Object.assign(f,k)}break;case"RSAES-PKCS1-V1_5":{i=["decrypt"],f.kty="RSA",f.ext=r,f.key_ops=i,f.alg="PS1";const k=b.toJSON();Object.assign(f,k)}break;default:throw new Error(`Incorrect algorithm name: ${m.name.toUpperCase()}`)}}break;case"jwk":f=t;break;default:throw new Error(`Incorrect format: ${e}`)}if(this.name.toLowerCase()==="safari")try{return this.subtle.importKey("jwk",zc(JSON.stringify(f)),n,r,i)}catch{return this.subtle.importKey("jwk",f,n,r,i)}return this.subtle.importKey("jwk",f,n,r,i)}async exportKey(e,t){let n=await this.subtle.exportKey("jwk",t);switch(this.name.toLowerCase()==="safari"&&n instanceof ArrayBuffer&&(n=JSON.parse(eg(n))),e.toLowerCase()){case"raw":return this.subtle.exportKey("raw",t);case"spki":{const r=new gs;try{r.fromJSON(n)}catch{throw new Error("Incorrect key data")}return r.toSchema().toBER(!1)}case"pkcs8":{const r=new Ps;try{r.fromJSON(n)}catch{throw new Error("Incorrect key data")}return r.toSchema().toBER(!1)}case"jwk":return n;default:throw new Error(`Incorrect format: ${e}`)}}async convert(e,t,n,r,i,a){if(e.toLowerCase()===t.toLowerCase())return n;const o=await this.importKey(e,n,r,i,a);return this.exportKey(t,o)}getAlgorithmByOID(e,t=!1,n){switch(e){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"}}if(t)throw new Error(`Unsupported algorithm identifier ${n?`for ${n} `:w}: ${e}`);return{}}getOIDByAlgorithm(e,t=!1,n){let r=w;switch(e.name.toUpperCase()){case"RSAES-PKCS1-V1_5":r="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(e.hash.name.toUpperCase()){case"SHA-1":r="1.2.840.113549.1.1.5";break;case"SHA-256":r="1.2.840.113549.1.1.11";break;case"SHA-384":r="1.2.840.113549.1.1.12";break;case"SHA-512":r="1.2.840.113549.1.1.13";break}break;case"RSA-PSS":r="1.2.840.113549.1.1.10";break;case"RSA-OAEP":r="1.2.840.113549.1.1.7";break;case"ECDSA":switch(e.hash.name.toUpperCase()){case"SHA-1":r="1.2.840.10045.4.1";break;case"SHA-256":r="1.2.840.10045.4.3.2";break;case"SHA-384":r="1.2.840.10045.4.3.3";break;case"SHA-512":r="1.2.840.10045.4.3.4";break}break;case"ECDH":switch(e.kdf.toUpperCase()){case"SHA-1":r="1.3.133.16.840.63.0.2";break;case"SHA-256":r="1.3.132.1.11.1";break;case"SHA-384":r="1.3.132.1.11.2";break;case"SHA-512":r="1.3.132.1.11.3";break}break;case"AES-CTR":break;case"AES-CBC":switch(e.length){case 128:r="2.16.840.1.101.3.4.1.2";break;case 192:r="2.16.840.1.101.3.4.1.22";break;case 256:r="2.16.840.1.101.3.4.1.42";break}break;case"AES-CMAC":break;case"AES-GCM":switch(e.length){case 128:r="2.16.840.1.101.3.4.1.6";break;case 192:r="2.16.840.1.101.3.4.1.26";break;case 256:r="2.16.840.1.101.3.4.1.46";break}break;case"AES-CFB":switch(e.length){case 128:r="2.16.840.1.101.3.4.1.4";break;case 192:r="2.16.840.1.101.3.4.1.24";break;case 256:r="2.16.840.1.101.3.4.1.44";break}break;case"AES-KW":switch(e.length){case 128:r="2.16.840.1.101.3.4.1.5";break;case 192:r="2.16.840.1.101.3.4.1.25";break;case 256:r="2.16.840.1.101.3.4.1.45";break}break;case"HMAC":switch(e.hash.name.toUpperCase()){case"SHA-1":r="1.2.840.113549.2.7";break;case"SHA-256":r="1.2.840.113549.2.9";break;case"SHA-384":r="1.2.840.113549.2.10";break;case"SHA-512":r="1.2.840.113549.2.11";break}break;case"DH":r="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":r="1.3.14.3.2.26";break;case"SHA-256":r="2.16.840.1.101.3.4.2.1";break;case"SHA-384":r="2.16.840.1.101.3.4.2.2";break;case"SHA-512":r="2.16.840.1.101.3.4.2.3";break;case"CONCAT":break;case"HKDF":break;case"PBKDF2":r="1.2.840.113549.1.5.12";break;case"P-256":r="1.2.840.10045.3.1.7";break;case"P-384":r="1.3.132.0.34";break;case"P-521":r="1.3.132.0.35";break}if(!r&&t)throw new Error(`Unsupported algorithm ${n?`for ${n} `:w}: ${e.name}`);return r}getAlgorithmParameters(e,t){let n={algorithm:{},usages:[]};switch(e.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(t.toLowerCase()){case"generatekey":n={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":n={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;case"exportkey":default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(t.toLowerCase()){case"sign":case"verify":n={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":n={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":n={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;case"exportkey":default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(t.toLowerCase()){case"encrypt":case"decrypt":n={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":n={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":n={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;case"exportkey":default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(t.toLowerCase()){case"generatekey":n={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":n={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":n={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(t.toLowerCase()){case"exportkey":case"importkey":case"generatekey":n={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":n={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":n={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":n={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":n={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":n={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":n={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":n={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":n={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(t.toLowerCase()){case"sign":case"verify":n={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":n={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":switch(t.toLowerCase()){case"derivekey":n={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"HKDF"},usages:[]}}break;case"PBKDF2":switch(t.toLowerCase()){case"derivekey":n={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"PBKDF2"},usages:[]}}break}return n}getHashAlgorithm(e){let t=w;switch(e.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":t="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":t="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":t="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":t="SHA-512";break;case"1.2.840.113549.1.1.10":try{const n=new Ft({schema:e.algorithmParams});if(n.hashAlgorithm){const r=this.getAlgorithmByOID(n.hashAlgorithm.algorithmId);if("name"in r)t=r.name;else return w}else t="SHA-1"}catch{}break}return t}async encryptEncryptedContentInfo(e){Le.assert(e,"password","contentEncryptionAlgorithm","hmacHashAlgorithm","iterationCount","contentToEncrypt","contentToEncrypt","contentType");const t=this.getOIDByAlgorithm(e.contentEncryptionAlgorithm,!0,"contentEncryptionAlgorithm"),n=this.getOIDByAlgorithm({name:"PBKDF2"},!0,"PBKDF2"),r=this.getOIDByAlgorithm({name:"HMAC",hash:{name:e.hmacHashAlgorithm}},!0,"hmacHashAlgorithm"),i=new ArrayBuffer(16),a=new Uint8Array(i);this.getRandomValues(a);const o=new ArrayBuffer(64),l=new Uint8Array(o);this.getRandomValues(l);const u=new Uint8Array(e.contentToEncrypt),c=new es({salt:new ee({valueHex:o}),iterationCount:e.iterationCount,prf:new K({algorithmId:r,algorithmParams:new pt})}),h=new Uint8Array(e.password),f=await this.importKey("raw",h,"PBKDF2",!1,["deriveKey"]),m=await this.deriveKey({name:"PBKDF2",hash:{name:e.hmacHashAlgorithm},salt:l,iterations:e.iterationCount},f,e.contentEncryptionAlgorithm,!1,["encrypt"]),b=await this.encrypt({name:e.contentEncryptionAlgorithm.name,iv:a},m,u),A=new Co({keyDerivationFunc:new K({algorithmId:n,algorithmParams:c.toSchema()}),encryptionScheme:new K({algorithmId:t,algorithmParams:new ee({valueHex:i})})});return new bt({contentType:e.contentType,contentEncryptionAlgorithm:new K({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:A.toSchema()}),encryptedContent:new ee({valueHex:b})})}async decryptEncryptedContentInfo(e){if(Le.assert(e,"password","encryptedContentInfo"),e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId!=="1.2.840.113549.1.5.13")throw new Error(`Unknown "contentEncryptionAlgorithm": ${e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);let t;try{t=new Co({schema:e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch{throw new Error('Incorrectly encoded "pbes2Parameters"')}let n;try{n=new es({schema:t.keyDerivationFunc.algorithmParams})}catch{throw new Error('Incorrectly encoded "pbkdf2Params"')}const r=this.getAlgorithmByOID(t.encryptionScheme.algorithmId,!0),i=t.encryptionScheme.algorithmParams.valueBlock.valueHex,a=new Uint8Array(i),o=n.salt.valueBlock.valueHex,l=new Uint8Array(o),u=n.iterationCount;let c="SHA-1";n.prf&&(c=this.getAlgorithmByOID(n.prf.algorithmId,!0).hash.name);const h=await this.importKey("raw",e.password,"PBKDF2",!1,["deriveKey"]),f=await this.deriveKey({name:"PBKDF2",hash:{name:c},salt:l,iterations:u},h,r,!1,["decrypt"]),m=e.encryptedContentInfo.getEncryptedContent();return this.decrypt({name:r.name,iv:a},f,m)}async stampDataWithPassword(e){if(!(e instanceof Object))throw new Error('Parameters must have type "Object"');Le.assert(e,"password","hashAlgorithm","iterationCount","salt","contentToStamp");let t;switch(e.hashAlgorithm.toLowerCase()){case"sha-1":t=160;break;case"sha-256":t=256;break;case"sha-384":t=384;break;case"sha-512":t=512;break;default:throw new Error(`Incorrect "parameters.hashAlgorithm" parameter: ${e.hashAlgorithm}`)}const n={name:"HMAC",length:t,hash:{name:e.hashAlgorithm}},r=await g0(e.hashAlgorithm,t,e.password,e.salt,e.iterationCount),i=await this.importKey("raw",new Uint8Array(r),n,!1,["sign"]);return this.sign(n,i,new Uint8Array(e.contentToStamp))}async verifyDataStampedWithPassword(e){Le.assert(e,"password","hashAlgorithm","salt","iterationCount","contentToVerify","signatureToVerify");let t=0;switch(e.hashAlgorithm.toLowerCase()){case"sha-1":t=160;break;case"sha-256":t=256;break;case"sha-384":t=384;break;case"sha-512":t=512;break;default:throw new Error(`Incorrect "parameters.hashAlgorithm" parameter: ${e.hashAlgorithm}`)}const n={name:"HMAC",length:t,hash:{name:e.hashAlgorithm}},r=await g0(e.hashAlgorithm,t,e.password,e.salt,e.iterationCount),i=await this.importKey("raw",new Uint8Array(r),n,!1,["verify"]);return this.verify(n,i,new Uint8Array(e.signatureToVerify),new Uint8Array(e.contentToVerify))}async getSignatureParameters(e,t="SHA-1"){this.getOIDByAlgorithm({name:t},!0,"hashAlgorithm");const n=new K,r=this.getAlgorithmParameters(e.algorithm.name,"sign");if(!Object.keys(r.algorithm).length)throw new Error("Parameter 'algorithm' is empty");const i=r.algorithm;switch("hash"in e.algorithm&&e.algorithm.hash&&e.algorithm.hash.name?i.hash.name=e.algorithm.hash.name:i.hash.name=t,e.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":n.algorithmId=this.getOIDByAlgorithm(i,!0);break;case"RSA-PSS":{switch(i.hash.name.toUpperCase()){case"SHA-256":i.saltLength=32;break;case"SHA-384":i.saltLength=48;break;case"SHA-512":i.saltLength=64;break}const a={};if(i.hash.name.toUpperCase()!=="SHA-1"){const l=this.getOIDByAlgorithm({name:i.hash.name},!0,"hashAlgorithm");a.hashAlgorithm=new K({algorithmId:l,algorithmParams:new pt}),a.maskGenAlgorithm=new K({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:a.hashAlgorithm.toSchema()})}i.saltLength!==20&&(a.saltLength=i.saltLength);const o=new Ft(a);n.algorithmId="1.2.840.113549.1.1.10",n.algorithmParams=o.toSchema()}break;default:throw new Error(`Unsupported signature algorithm: ${e.algorithm.name}`)}return{signatureAlgorithm:n,parameters:r}}async signWithPrivateKey(e,t,n){const r=await this.sign(n.algorithm,t,e);return n.algorithm.name==="ECDSA"?oP(r):r}fillPublicKeyParameters(e,t){const n={},r=this.getHashAlgorithm(t);if(r===w)throw new Error(`Unsupported signature algorithm: ${t.algorithmId}`);let i;t.algorithmId==="1.2.840.113549.1.1.10"?i=t.algorithmId:i=e.algorithm.algorithmId;const a=this.getAlgorithmByOID(i,!0);if(n.algorithm=this.getAlgorithmParameters(a.name,"importKey"),"hash"in n.algorithm.algorithm&&(n.algorithm.algorithm.hash.name=r),a.name==="ECDSA"){const o=e.algorithm;if(!o.algorithmParams)throw new Error("Algorithm parameters for ECDSA public key are missed");const l=o.algorithmParams;if("idBlock"in o.algorithmParams&&!(l.idBlock.tagClass===1&&l.idBlock.tagNumber===6))throw new Error("Incorrect type for ECDSA public key parameters");const u=this.getAlgorithmByOID(l.valueBlock.toString(),!0);n.algorithm.algorithm.namedCurve=u.name}return n}async getPublicKey(e,t,n){n||(n=this.fillPublicKeyParameters(e,t));const r=e.toSchema().toBER(!1);return this.importKey("spki",r,n.algorithm.algorithm,!0,n.algorithm.usages)}async verifyWithPublicKey(e,t,n,r,i){let a;if(i){const u={};let c;r.algorithmId==="1.2.840.113549.1.1.10"?c=r.algorithmId:c=n.algorithm.algorithmId;const h=this.getAlgorithmByOID(c,!0);if(u.algorithm=this.getAlgorithmParameters(h.name,"importKey"),"hash"in u.algorithm.algorithm&&(u.algorithm.algorithm.hash.name=i),h.name==="ECDSA"){let f=!1;if("algorithmParams"in n.algorithm&&"idBlock"in n.algorithm.algorithmParams&&n.algorithm.algorithmParams.idBlock.tagClass===1&&n.algorithm.algorithmParams.idBlock.tagNumber===6&&(f=!0),f===!1)throw new Error("Incorrect type for ECDSA public key parameters");const m=this.getAlgorithmByOID(n.algorithm.algorithmParams.valueBlock.toString(),!0);u.algorithm.algorithm.namedCurve=m.name}a=await this.getPublicKey(n,null,u)}else{if(i=this.getHashAlgorithm(r),!i)throw new Error(`Unsupported signature algorithm: ${r.algorithmId}`);a=await this.getPublicKey(n,r)}const o=this.getAlgorithmParameters(a.algorithm.name,"verify");"hash"in o.algorithm&&(o.algorithm.hash.name=i);let l=t.valueBlock.valueHexView;if(a.algorithm.name==="ECDSA"){const u=Fi.find(a.algorithm.namedCurve);if(!u)throw new Error("Unsupported named curve in use");const c=kt(l);G.assert(c,"Signature value"),l=lP(c.result,u.size)}if(a.algorithm.name==="RSA-PSS"){const u=new Ft({schema:r.algorithmParams});"saltLength"in u?o.algorithm.saltLength=u.saltLength:o.algorithm.saltLength=20;let c="SHA-1";"hashAlgorithm"in u&&(c=this.getAlgorithmByOID(u.hashAlgorithm.algorithmId,!0).name),o.algorithm.hash.name=c}return this.verify(o.algorithm,a,l,e)}}let sE={name:"none",crypto:null};function p0(s){return!!(s&&typeof s=="object"&&"crypto"in s)}function w0(s,...e){let t=null;if(e.length<2)e.length?t=e[0]:t=typeof self<"u"&&self.crypto?new ng({name:"browser",crypto:self.crypto}):null;else{const n=e[0],r=e[1];p0(r)?t=r:p0(n)?t=n:"subtle"in n&&"getRandomValues"in n&&(t=new ng({crypto:n}))}if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){if(typeof global[process.pid]>"u")global[process.pid]={};else if(typeof global[process.pid]!="object")throw new Error(`Name global.${process.pid} already exists and it is not an object`);if(typeof global[process.pid].pkijs>"u")global[process.pid].pkijs={};else if(typeof global[process.pid].pkijs!="object")throw new Error(`Name global.${process.pid}.pkijs already exists and it is not an object`);global[process.pid].pkijs.engine={name:s,crypto:t}}else sE={name:s,crypto:t}}function aP(){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){let s;try{s=global[process.pid].pkijs.engine}catch{throw new Error("Please call 'setEngine' before call to 'getEngine'")}return s}return sE}function Ie(s=!1){const e=aP();if(!e.crypto&&s)throw new Error("Unable to create WebCrypto object");return e.crypto}function oP(s){if(s.byteLength%2!==0)return Tt;const e=s.byteLength/2,t=new ArrayBuffer(e);new Uint8Array(t).set(new Uint8Array(s,0,e));const r=new M({valueHex:t}),i=new ArrayBuffer(e);new Uint8Array(i).set(new Uint8Array(s,e,e));const o=new M({valueHex:i});return new C({value:[r.convertToDER(),o.convertToDER()]}).toBER(!1)}function lP(s,e){if(!(s instanceof C&&s.valueBlock.value.length===2&&s.valueBlock.value[0]instanceof M&&s.valueBlock.value[1]instanceof M))return Tt;const t=s.valueBlock.value[0].convertFromDER().valueBlock.valueHexView,n=s.valueBlock.value[1].convertFromDER().valueBlock.valueHexView,r=new Uint8Array(e*2);return r.set(t,e-t.byteLength),r.set(n,2*e-n.byteLength),r.buffer}async function cP(s,e,t,n,r){switch(s.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;default:throw new We(`Unknown hash function: ${s}`)}if(We.assert(e,"zBuffer","ArrayBuffer"),e.byteLength===0)throw new We("'zBuffer' has zero length, error");if(We.assert(n,"SharedInfo","ArrayBuffer"),t>255)throw new We("Please set 'Counter' argument to value less or equal to 255");const i=new ArrayBuffer(4),a=new Uint8Array(i);a[0]=0,a[1]=0,a[2]=0,a[3]=t;let o=Tt;o=Oc(o,e),o=Oc(o,i),o=Oc(o,n);const l=await r.digest({name:s},o);return{counter:t,result:l}}async function y0(s,e,t,n,r=Ie(!0)){let i=0,a=1;switch(s.toUpperCase()){case"SHA-1":i=160;break;case"SHA-256":i=256;break;case"SHA-384":i=384;break;case"SHA-512":i=512;break;default:throw new We(`Unknown hash function: ${s}`)}if(We.assert(e,"Zbuffer","ArrayBuffer"),e.byteLength===0)throw new We("'Zbuffer' has zero length, error");We.assert(n,"SharedInfo","ArrayBuffer");const o=t/i;Math.floor(o)>0&&(a=Math.floor(o),o-a>0&&a++);const l=[];for(let f=1;f<=a;f++)l.push(await cP(s,e,f,n,r));let u=Tt,c=1,h=!0;for(;h;){h=!1;for(const f of l)if(f.counter===c){u=Oc(u,f.result),h=!0;break}c++}if(t>>=3,u.byteLength>t){const f=new ArrayBuffer(t),m=new Uint8Array(f),b=new Uint8Array(u);for(let A=0;A<t;A++)m[A]=b[A];return f}return u}const dp="version",mp="logID",gp="extensions",pp="timestamp",wp="hashAlgorithm",yp="signatureAlgorithm",vp="signature",v0="none",b0="md5",S0="sha1",A0="sha224",k0="sha256",E0="sha384",C0="sha512",N0="anonymous",I0="rsa",_0="dsa",x0="ecdsa";class In extends Q{constructor(e={}){super(),this.version=d(e,dp,In.defaultValues(dp)),this.logID=d(e,mp,In.defaultValues(mp)),this.timestamp=d(e,pp,In.defaultValues(pp)),this.extensions=d(e,gp,In.defaultValues(gp)),this.hashAlgorithm=d(e,wp,In.defaultValues(wp)),this.signatureAlgorithm=d(e,yp,In.defaultValues(yp)),this.signature=d(e,vp,In.defaultValues(vp)),"stream"in e&&e.stream&&this.fromStream(e.stream),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case dp:return 0;case mp:case gp:return Tt;case pp:return new Date(0);case wp:case yp:return w;case vp:return new Ce;default:return super.defaultValues(e)}}fromSchema(e){if(!(e instanceof sg))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");const t=new Hi({stream:new dt({buffer:e.data})});this.fromStream(t)}fromStream(e){const t=e.getUint16();if(this.version=e.getBlock(1)[0],this.version===0){this.logID=new Uint8Array(e.getBlock(32)).buffer.slice(0),this.timestamp=new Date(_o(new Uint8Array(e.getBlock(8)),8));const n=e.getUint16();switch(this.extensions=new Uint8Array(e.getBlock(n)).buffer.slice(0),e.getBlock(1)[0]){case 0:this.hashAlgorithm=v0;break;case 1:this.hashAlgorithm=b0;break;case 2:this.hashAlgorithm=S0;break;case 3:this.hashAlgorithm=A0;break;case 4:this.hashAlgorithm=k0;break;case 5:this.hashAlgorithm=E0;break;case 6:this.hashAlgorithm=C0;break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(e.getBlock(1)[0]){case 0:this.signatureAlgorithm=N0;break;case 1:this.signatureAlgorithm=I0;break;case 2:this.signatureAlgorithm=_0;break;case 3:this.signatureAlgorithm=x0;break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}const r=e.getUint16(),i=new Uint8Array(e.getBlock(r)).buffer.slice(0),a=kt(i);if(G.assert(a,"SignedCertificateTimestamp"),this.signature=a.result,t!==47+n+r)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}toSchema(){const e=this.toStream();return new sg({data:e.stream.buffer})}toStream(){const e=new Hi;e.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecodeView.byteLength),e.appendChar(this.version),e.appendView(new Uint8Array(this.logID));const t=new ArrayBuffer(8),n=new Uint8Array(t),r=Er(this.timestamp.valueOf(),8);n.set(new Uint8Array(r),8-r.byteLength),e.appendView(n),e.appendUint16(this.extensions.byteLength),this.extensions.byteLength&&e.appendView(new Uint8Array(this.extensions));let i;switch(this.hashAlgorithm.toLowerCase()){case v0:i=0;break;case b0:i=1;break;case S0:i=2;break;case A0:i=3;break;case k0:i=4;break;case E0:i=5;break;case C0:i=6;break;default:throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`)}e.appendChar(i);let a;switch(this.signatureAlgorithm.toLowerCase()){case N0:a=0;break;case I0:a=1;break;case _0:a=2;break;case x0:a=3;break;default:throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`)}e.appendChar(a);const o=this.signature.toBER(!1);return e.appendUint16(o.byteLength),e.appendView(new Uint8Array(o)),e}toJSON(){return{version:this.version,logID:t0(this.logID),timestamp:this.timestamp,extensions:t0(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}async verify(e,t,n=0,r=Ie(!0)){const i=Ew(eg(this.logID));let a=null;const o=new Hi;for(const m of e)if(m.log_id===i){a=m.key;break}if(!a)throw new Error(`Public key not found for CT with logId: ${i}`);const l=zc(Ff(a)),u=gs.fromBER(l);o.appendChar(0),o.appendChar(0);const c=new ArrayBuffer(8),h=new Uint8Array(c),f=Er(this.timestamp.valueOf(),8);return h.set(new Uint8Array(f),8-f.byteLength),o.appendView(h),o.appendUint16(n),n===0&&o.appendUint24(t.byteLength),o.appendView(new Uint8Array(t)),o.appendUint16(this.extensions.byteLength),this.extensions.byteLength!==0&&o.appendView(new Uint8Array(this.extensions)),r.verifyWithPublicKey(o.buffer.slice(0,o.length),new ee({valueHex:this.signature.toBER(!1)}),u,{algorithmId:w},"SHA-256")}}In.CLASS_NAME="SignedCertificateTimestamp";const Bd="timestamps";class Hg extends Q{constructor(e={}){super(),this.timestamps=d(e,Bd,Hg.defaultValues(Bd)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Bd:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Bd:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){var t;const n=d(e,"names",{});return(t=n.optional)!==null&&t!==void 0||(n.optional=!1),new ee({name:n.blockName||"SignedCertificateTimestampList",optional:n.optional})}fromSchema(e){if(!(e instanceof ee))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");const t=new Hi({stream:new dt({buffer:e.valueBlock.valueHex})});if(t.getUint16()!==t.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");for(;t.length;)this.timestamps.push(new In({stream:t}))}toSchema(){const e=new Hi;let t=0;const n=[];for(const r of this.timestamps){const i=r.toStream();n.push(i),t+=i.stream.buffer.byteLength}e.appendUint16(t);for(const r of n)e.appendView(r.stream.view);return new ee({valueHex:e.stream.buffer.slice(0)})}toJSON(){return{timestamps:Array.from(this.timestamps,e=>e.toJSON())}}}Hg.CLASS_NAME="SignedCertificateTimestampList";const fh="attributes",uP=[fh];class Xf extends Q{constructor(e={}){super(),this.attributes=d(e,fh,Xf.defaultValues(fh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case fh:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new _e({name:t.attributes||w,value:tt.schema()})]})}fromSchema(e){Z(e,uP);const t=X(e,e,Xf.schema({names:{attributes:fh}}));G.assertSchema(t,this.className),this.attributes=Array.from(t.result.attributes,n=>new tt({schema:n}))}toSchema(){return new C({value:Array.from(this.attributes,e=>e.toSchema())})}toJSON(){return{attributes:Array.from(this.attributes,e=>e.toJSON())}}}Xf.CLASS_NAME="SubjectDirectoryAttributes";class ut{static getItems(){return this.types||(this.types={},ut.register(Mk,"SubjectAltName",eu),ut.register($k,"IssuerAltName",eu),ut.register(ev,"AuthorityKeyIdentifier",or),ut.register(zy,"BasicConstraints",$i),ut.register(NO,"MicrosoftCaVersion",qf),ut.register(Wk,"CertificatePolicies",tu),ut.register(bO,"CertificatePoliciesMicrosoft",tu),ut.register(CO,"MicrosoftCertTemplateV2",Cc),ut.register(Jk,"CRLDistributionPoints",Bo),ut.register(Zy,"FreshestCRL",Bo),ut.register(SO,"ExtKeyUsage",su),ut.register(Kk,"CertificateIssuer",At),ut.register(tv,"AuthorityInfoAccess",To),ut.register(kO,"SubjectInfoAccess",To),ut.register(Fk,"IssuingDistributionPoint",$t),ut.register(jk,"NameConstraints",Vc),ut.register(Gk,"PolicyConstraints",Lc),ut.register(qk,"PolicyMappings",Gf),ut.register(gO,"PrivateKeyUsagePeriod",Dc),ut.register(IO,"QCStatements",Yf),ut.register(EO,"SignedCertificateTimestampList",Hg),ut.register(fO,"SubjectDirectoryAttributes",Xf)),this.types}static fromBER(e,t){const n=kt(t);if(n.offset===-1)return null;const r=this.find(e);if(r)try{return new r.type({schema:n.result})}catch{const a=new r.type;return a.parsingError=`Incorrectly formatted value of extension ${r.name} (${e})`,a}return n.result}static find(e){return this.getItems()[e]||null}static register(e,t,n){this.getItems()[e]={name:t,type:n}}}const dh="extnID",ti="critical",mh="extnValue",Td="parsedValue",hP=[dh,ti,mh];class Fe extends Q{get parsedValue(){if(this._parsedValue===void 0){const e=ut.fromBER(this.extnID,this.extnValue.valueBlock.valueHexView);this._parsedValue=e}return this._parsedValue||void 0}set parsedValue(e){this._parsedValue=e}constructor(e={}){super(),this.extnID=d(e,dh,Fe.defaultValues(dh)),this.critical=d(e,ti,Fe.defaultValues(ti)),mh in e?this.extnValue=new ee({valueHex:e.extnValue}):this.extnValue=Fe.defaultValues(mh),Td in e&&(this.parsedValue=d(e,Td,Fe.defaultValues(Td))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case dh:return w;case ti:return!1;case mh:return new ee;case Td:return{};default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.extnID||w}),new Dn({name:t.critical||w,optional:!0}),new ee({name:t.extnValue||w})]})}fromSchema(e){Z(e,hP);const t=X(e,e,Fe.schema({names:{extnID:dh,critical:ti,extnValue:mh}}));G.assertSchema(t,this.className),this.extnID=t.result.extnID.valueBlock.toString(),ti in t.result&&(this.critical=t.result.critical.valueBlock.value),this.extnValue=t.result.extnValue}toSchema(){const e=[];return e.push(new ue({value:this.extnID})),this.critical!==Fe.defaultValues(ti)&&e.push(new Dn({value:this.critical})),e.push(this.extnValue),new C({value:e})}toJSON(){const e={extnID:this.extnID,extnValue:this.extnValue.toJSON()};return this.critical!==Fe.defaultValues(ti)&&(e.critical=this.critical),this.parsedValue&&this.parsedValue.toJSON&&(e.parsedValue=this.parsedValue.toJSON()),e}}Fe.CLASS_NAME="Extension";const gh="extensions",fP=[gh];class ct extends Q{constructor(e={}){super(),this.extensions=d(e,gh,ct.defaultValues(gh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case gh:return[];default:return super.defaultValues(e)}}static schema(e={},t=!1){const n=d(e,"names",{});return new C({optional:t,name:n.blockName||w,value:[new _e({name:n.extensions||w,value:Fe.schema(n.extension||{})})]})}fromSchema(e){Z(e,fP);const t=X(e,e,ct.schema({names:{extensions:gh}}));G.assertSchema(t,this.className),this.extensions=Array.from(t.result.extensions,n=>new Fe({schema:n}))}toSchema(){return new C({value:Array.from(this.extensions,e=>e.toSchema())})}toJSON(){return{extensions:this.extensions.map(e=>e.toJSON())}}}ct.CLASS_NAME="Extensions";const ph="issuer",wh="serialNumber",Sa="issuerUID",dP=[ph,wh,Sa];class ms extends Q{constructor(e={}){super(),this.issuer=d(e,ph,ms.defaultValues(ph)),this.serialNumber=d(e,wh,ms.defaultValues(wh)),Sa in e&&(this.issuerUID=d(e,Sa,ms.defaultValues(Sa))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ph:return new At;case wh:return new M;case Sa:return new Oe;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[At.schema(t.issuer||{}),new M({name:t.serialNumber||w}),new Oe({optional:!0,name:t.issuerUID||w})]})}fromSchema(e){Z(e,dP);const t=X(e,e,ms.schema({names:{issuer:{names:{blockName:ph}},serialNumber:wh,issuerUID:Sa}}));G.assertSchema(t,this.className),this.issuer=new At({schema:t.result.issuer}),this.serialNumber=t.result.serialNumber,Sa in t.result&&(this.issuerUID=t.result.issuerUID)}toSchema(){const e=new C({value:[this.issuer.toSchema(),this.serialNumber]});return this.issuerUID&&e.valueBlock.value.push(this.issuerUID),e}toJSON(){const e={issuer:this.issuer.toJSON(),serialNumber:this.serialNumber.toJSON()};return this.issuerUID&&(e.issuerUID=this.issuerUID.toJSON()),e}}ms.CLASS_NAME="IssuerSerial";const yh="version",Aa="baseCertificateID",ka="subjectName",vh="issuer",bh="signature",Sh="serialNumber",Ah="attrCertValidityPeriod",kh="attributes",Ea="issuerUniqueID",Ca="extensions",mP=[yh,Aa,ka,vh,bh,Sh,Ah,kh,Ea,Ca];class zt extends Q{constructor(e={}){super(),this.version=d(e,yh,zt.defaultValues(yh)),Aa in e&&(this.baseCertificateID=d(e,Aa,zt.defaultValues(Aa))),ka in e&&(this.subjectName=d(e,ka,zt.defaultValues(ka))),this.issuer=d(e,vh,zt.defaultValues(vh)),this.signature=d(e,bh,zt.defaultValues(bh)),this.serialNumber=d(e,Sh,zt.defaultValues(Sh)),this.attrCertValidityPeriod=d(e,Ah,zt.defaultValues(Ah)),this.attributes=d(e,kh,zt.defaultValues(kh)),Ea in e&&(this.issuerUniqueID=d(e,Ea,zt.defaultValues(Ea))),Ca in e&&(this.extensions=d(e,Ca,zt.defaultValues(Ca))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case yh:return 0;case Aa:return new ms;case ka:return new At;case vh:return new At;case bh:return new K;case Sh:return new M;case Ah:return new mn;case kh:return[];case Ea:return new Oe;case Ca:return new ct;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new M({name:t.version||w}),new lt({value:[new P({name:t.baseCertificateID||w,idBlock:{tagClass:3,tagNumber:0},value:ms.schema().valueBlock.value}),new P({name:t.subjectName||w,idBlock:{tagClass:3,tagNumber:1},value:At.schema().valueBlock.value})]}),At.schema({names:{blockName:t.issuer||w}}),K.schema(t.signature||{}),new M({name:t.serialNumber||w}),mn.schema(t.attrCertValidityPeriod||{}),new C({name:t.attributes||w,value:[new _e({value:tt.schema()})]}),new Oe({optional:!0,name:t.issuerUniqueID||w}),ct.schema(t.extensions||{},!0)]})}fromSchema(e){Z(e,mP);const t=X(e,e,zt.schema({names:{version:yh,baseCertificateID:Aa,subjectName:ka,issuer:vh,signature:{names:{blockName:bh}},serialNumber:Sh,attrCertValidityPeriod:{names:{blockName:Ah}},attributes:kh,issuerUniqueID:Ea,extensions:{names:{blockName:Ca}}}}));G.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,Aa in t.result&&(this.baseCertificateID=new ms({schema:new C({value:t.result.baseCertificateID.valueBlock.value})})),ka in t.result&&(this.subjectName=new At({schema:new C({value:t.result.subjectName.valueBlock.value})})),this.issuer=t.result.issuer,this.signature=new K({schema:t.result.signature}),this.serialNumber=t.result.serialNumber,this.attrCertValidityPeriod=new mn({schema:t.result.attrCertValidityPeriod}),this.attributes=Array.from(t.result.attributes.valueBlock.value,n=>new tt({schema:n})),Ea in t.result&&(this.issuerUniqueID=t.result.issuerUniqueID),Ca in t.result&&(this.extensions=new ct({schema:t.result.extensions}))}toSchema(){const e=new C({value:[new M({value:this.version})]});return this.baseCertificateID&&e.valueBlock.value.push(new P({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),this.subjectName&&e.valueBlock.value.push(new P({idBlock:{tagClass:3,tagNumber:1},value:this.subjectName.toSchema().valueBlock.value})),e.valueBlock.value.push(this.issuer.toSchema()),e.valueBlock.value.push(this.signature.toSchema()),e.valueBlock.value.push(this.serialNumber),e.valueBlock.value.push(this.attrCertValidityPeriod.toSchema()),e.valueBlock.value.push(new C({value:Array.from(this.attributes,t=>t.toSchema())})),this.issuerUniqueID&&e.valueBlock.value.push(this.issuerUniqueID),this.extensions&&e.valueBlock.value.push(this.extensions.toSchema()),e}toJSON(){const e={version:this.version};return this.baseCertificateID&&(e.baseCertificateID=this.baseCertificateID.toJSON()),this.subjectName&&(e.subjectName=this.subjectName.toJSON()),e.issuer=this.issuer.toJSON(),e.signature=this.signature.toJSON(),e.serialNumber=this.serialNumber.toJSON(),e.attrCertValidityPeriod=this.attrCertValidityPeriod.toJSON(),e.attributes=Array.from(this.attributes,t=>t.toJSON()),this.issuerUniqueID&&(e.issuerUniqueID=this.issuerUniqueID.toJSON()),this.extensions&&(e.extensions=this.extensions.toJSON()),e}}zt.CLASS_NAME="AttributeCertificateInfoV1";const Eh="acinfo",Ch="signatureAlgorithm",Nh="signatureValue",gP=[Eh,Nh,Ch];class ur extends Q{constructor(e={}){super(),this.acinfo=d(e,Eh,ur.defaultValues(Eh)),this.signatureAlgorithm=d(e,Ch,ur.defaultValues(Ch)),this.signatureValue=d(e,Nh,ur.defaultValues(Nh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Eh:return new zt;case Ch:return new K;case Nh:return new Oe;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[zt.schema(t.acinfo||{}),K.schema(t.signatureAlgorithm||{}),new Oe({name:t.signatureValue||w})]})}fromSchema(e){Z(e,gP);const t=X(e,e,ur.schema({names:{acinfo:{names:{blockName:Eh}},signatureAlgorithm:{names:{blockName:Ch}},signatureValue:Nh}}));G.assertSchema(t,this.className),this.acinfo=new zt({schema:t.result.acinfo}),this.signatureAlgorithm=new K({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}toSchema(){return new C({value:[this.acinfo.toSchema(),this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){return{acinfo:this.acinfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()}}}ur.CLASS_NAME="AttributeCertificateV1";const Ih="digestedObjectType",Na="otherObjectTypeID",_h="digestAlgorithm",xh="objectDigest",pP=[Ih,Na,_h,xh];class Ls extends Q{constructor(e={}){super(),this.digestedObjectType=d(e,Ih,Ls.defaultValues(Ih)),Na in e&&(this.otherObjectTypeID=d(e,Na,Ls.defaultValues(Na))),this.digestAlgorithm=d(e,_h,Ls.defaultValues(_h)),this.objectDigest=d(e,xh,Ls.defaultValues(xh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ih:return new Ji;case Na:return new ue;case _h:return new K;case xh:return new Oe;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new Ji({name:t.digestedObjectType||w}),new ue({optional:!0,name:t.otherObjectTypeID||w}),K.schema(t.digestAlgorithm||{}),new Oe({name:t.objectDigest||w})]})}fromSchema(e){Z(e,pP);const t=X(e,e,Ls.schema({names:{digestedObjectType:Ih,otherObjectTypeID:Na,digestAlgorithm:{names:{blockName:_h}},objectDigest:xh}}));G.assertSchema(t,this.className),this.digestedObjectType=t.result.digestedObjectType,Na in t.result&&(this.otherObjectTypeID=t.result.otherObjectTypeID),this.digestAlgorithm=new K({schema:t.result.digestAlgorithm}),this.objectDigest=t.result.objectDigest}toSchema(){const e=new C({value:[this.digestedObjectType]});return this.otherObjectTypeID&&e.valueBlock.value.push(this.otherObjectTypeID),e.valueBlock.value.push(this.digestAlgorithm.toSchema()),e.valueBlock.value.push(this.objectDigest),e}toJSON(){const e={digestedObjectType:this.digestedObjectType.toJSON(),digestAlgorithm:this.digestAlgorithm.toJSON(),objectDigest:this.objectDigest.toJSON()};return this.otherObjectTypeID&&(e.otherObjectTypeID=this.otherObjectTypeID.toJSON()),e}}Ls.CLASS_NAME="ObjectDigestInfo";const Ia="issuerName",_a="baseCertificateID",xa="objectDigestInfo",wP=[Ia,_a,xa];class Ri extends Q{constructor(e={}){super(),Ia in e&&(this.issuerName=d(e,Ia,Ri.defaultValues(Ia))),_a in e&&(this.baseCertificateID=d(e,_a,Ri.defaultValues(_a))),xa in e&&(this.objectDigestInfo=d(e,xa,Ri.defaultValues(xa))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ia:return new At;case _a:return new ms;case xa:return new Ls;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[At.schema({names:{blockName:t.issuerName}},!0),new P({optional:!0,name:t.baseCertificateID||w,idBlock:{tagClass:3,tagNumber:0},value:ms.schema().valueBlock.value}),new P({optional:!0,name:t.objectDigestInfo||w,idBlock:{tagClass:3,tagNumber:1},value:Ls.schema().valueBlock.value})]})}fromSchema(e){Z(e,wP);const t=X(e,e,Ri.schema({names:{issuerName:Ia,baseCertificateID:_a,objectDigestInfo:xa}}));G.assertSchema(t,this.className),Ia in t.result&&(this.issuerName=new At({schema:t.result.issuerName})),_a in t.result&&(this.baseCertificateID=new ms({schema:new C({value:t.result.baseCertificateID.valueBlock.value})})),xa in t.result&&(this.objectDigestInfo=new Ls({schema:new C({value:t.result.objectDigestInfo.valueBlock.value})}))}toSchema(){const e=new C;return this.issuerName&&e.valueBlock.value.push(this.issuerName.toSchema()),this.baseCertificateID&&e.valueBlock.value.push(new P({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),this.objectDigestInfo&&e.valueBlock.value.push(new P({idBlock:{tagClass:3,tagNumber:1},value:this.objectDigestInfo.toSchema().valueBlock.value})),e}toJSON(){const e={};return this.issuerName&&(e.issuerName=this.issuerName.toJSON()),this.baseCertificateID&&(e.baseCertificateID=this.baseCertificateID.toJSON()),this.objectDigestInfo&&(e.objectDigestInfo=this.objectDigestInfo.toJSON()),e}}Ri.CLASS_NAME="V2Form";const Ba="baseCertificateID",Ta="entityName",Ra="objectDigestInfo",yP=[Ba,Ta,Ra];class hr extends Q{constructor(e={}){super(),Ba in e&&(this.baseCertificateID=d(e,Ba,hr.defaultValues(Ba))),Ta in e&&(this.entityName=d(e,Ta,hr.defaultValues(Ta))),Ra in e&&(this.objectDigestInfo=d(e,Ra,hr.defaultValues(Ra))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ba:return new ms;case Ta:return new At;case Ra:return new Ls;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new P({optional:!0,name:t.baseCertificateID||w,idBlock:{tagClass:3,tagNumber:0},value:ms.schema().valueBlock.value}),new P({optional:!0,name:t.entityName||w,idBlock:{tagClass:3,tagNumber:1},value:At.schema().valueBlock.value}),new P({optional:!0,name:t.objectDigestInfo||w,idBlock:{tagClass:3,tagNumber:2},value:Ls.schema().valueBlock.value})]})}fromSchema(e){Z(e,yP);const t=X(e,e,hr.schema({names:{baseCertificateID:Ba,entityName:Ta,objectDigestInfo:Ra}}));G.assertSchema(t,this.className),Ba in t.result&&(this.baseCertificateID=new ms({schema:new C({value:t.result.baseCertificateID.valueBlock.value})})),Ta in t.result&&(this.entityName=new At({schema:new C({value:t.result.entityName.valueBlock.value})})),Ra in t.result&&(this.objectDigestInfo=new Ls({schema:new C({value:t.result.objectDigestInfo.valueBlock.value})}))}toSchema(){const e=new C;return this.baseCertificateID&&e.valueBlock.value.push(new P({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),this.entityName&&e.valueBlock.value.push(new P({idBlock:{tagClass:3,tagNumber:1},value:this.entityName.toSchema().valueBlock.value})),this.objectDigestInfo&&e.valueBlock.value.push(new P({idBlock:{tagClass:3,tagNumber:2},value:this.objectDigestInfo.toSchema().valueBlock.value})),e}toJSON(){const e={};return this.baseCertificateID&&(e.baseCertificateID=this.baseCertificateID.toJSON()),this.entityName&&(e.entityName=this.entityName.toJSON()),this.objectDigestInfo&&(e.objectDigestInfo=this.objectDigestInfo.toJSON()),e}}hr.CLASS_NAME="Holder";const Bh="version",Th="holder",Rh="issuer",Oh="signature",Ph="serialNumber",Vh="attrCertValidityPeriod",Lh="attributes",Oa="issuerUniqueID",Pa="extensions",vP=[Bh,Th,Rh,Oh,Ph,Vh,Lh,Oa,Pa];class cs extends Q{constructor(e={}){super(),this.version=d(e,Bh,cs.defaultValues(Bh)),this.holder=d(e,Th,cs.defaultValues(Th)),this.issuer=d(e,Rh,cs.defaultValues(Rh)),this.signature=d(e,Oh,cs.defaultValues(Oh)),this.serialNumber=d(e,Ph,cs.defaultValues(Ph)),this.attrCertValidityPeriod=d(e,Vh,cs.defaultValues(Vh)),this.attributes=d(e,Lh,cs.defaultValues(Lh)),Oa in e&&(this.issuerUniqueID=d(e,Oa,cs.defaultValues(Oa))),Pa in e&&(this.extensions=d(e,Pa,cs.defaultValues(Pa))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Bh:return 1;case Th:return new hr;case Rh:return{};case Oh:return new K;case Ph:return new M;case Vh:return new mn;case Lh:return[];case Oa:return new Oe;case Pa:return new ct;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new M({name:t.version||w}),hr.schema(t.holder||{}),new lt({value:[At.schema({names:{blockName:t.issuer||w}}),new P({name:t.issuer||w,idBlock:{tagClass:3,tagNumber:0},value:Ri.schema().valueBlock.value})]}),K.schema(t.signature||{}),new M({name:t.serialNumber||w}),mn.schema(t.attrCertValidityPeriod||{}),new C({name:t.attributes||w,value:[new _e({value:tt.schema()})]}),new Oe({optional:!0,name:t.issuerUniqueID||w}),ct.schema(t.extensions||{},!0)]})}fromSchema(e){Z(e,vP);const t=X(e,e,cs.schema({names:{version:Bh,holder:{names:{blockName:Th}},issuer:Rh,signature:{names:{blockName:Oh}},serialNumber:Ph,attrCertValidityPeriod:{names:{blockName:Vh}},attributes:Lh,issuerUniqueID:Oa,extensions:{names:{blockName:Pa}}}}));switch(G.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.holder=new hr({schema:t.result.holder}),t.result.issuer.idBlock.tagClass){case 3:this.issuer=new Ri({schema:new C({value:t.result.issuer.valueBlock.value})});break;case 1:default:throw new Error("Incorrect value for 'issuer' in AttributeCertificateInfoV2")}this.signature=new K({schema:t.result.signature}),this.serialNumber=t.result.serialNumber,this.attrCertValidityPeriod=new mn({schema:t.result.attrCertValidityPeriod}),this.attributes=Array.from(t.result.attributes.valueBlock.value,n=>new tt({schema:n})),Oa in t.result&&(this.issuerUniqueID=t.result.issuerUniqueID),Pa in t.result&&(this.extensions=new ct({schema:t.result.extensions}))}toSchema(){const e=new C({value:[new M({value:this.version}),this.holder.toSchema(),new P({idBlock:{tagClass:3,tagNumber:0},value:this.issuer.toSchema().valueBlock.value}),this.signature.toSchema(),this.serialNumber,this.attrCertValidityPeriod.toSchema(),new C({value:Array.from(this.attributes,t=>t.toSchema())})]});return this.issuerUniqueID&&e.valueBlock.value.push(this.issuerUniqueID),this.extensions&&e.valueBlock.value.push(this.extensions.toSchema()),e}toJSON(){const e={version:this.version,holder:this.holder.toJSON(),issuer:this.issuer.toJSON(),signature:this.signature.toJSON(),serialNumber:this.serialNumber.toJSON(),attrCertValidityPeriod:this.attrCertValidityPeriod.toJSON(),attributes:Array.from(this.attributes,t=>t.toJSON())};return this.issuerUniqueID&&(e.issuerUniqueID=this.issuerUniqueID.toJSON()),this.extensions&&(e.extensions=this.extensions.toJSON()),e}}cs.CLASS_NAME="AttributeCertificateInfoV2";const Dh="acinfo",Uh="signatureAlgorithm",Hh="signatureValue",bP=[Dh,Uh,Hh];class Ds extends Q{constructor(e={}){super(),this.acinfo=d(e,Dh,Ds.defaultValues(Dh)),this.signatureAlgorithm=d(e,Uh,Ds.defaultValues(Uh)),this.signatureValue=d(e,Hh,Ds.defaultValues(Hh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Dh:return new cs;case Uh:return new K;case Hh:return new Oe;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[cs.schema(t.acinfo||{}),K.schema(t.signatureAlgorithm||{}),new Oe({name:t.signatureValue||w})]})}fromSchema(e){Z(e,bP);const t=X(e,e,Ds.schema({names:{acinfo:{names:{blockName:Dh}},signatureAlgorithm:{names:{blockName:Uh}},signatureValue:Hh}}));G.assertSchema(t,this.className),this.acinfo=new cs({schema:t.result.acinfo}),this.signatureAlgorithm=new K({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}toSchema(){return new C({value:[this.acinfo.toSchema(),this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){return{acinfo:this.acinfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()}}}Ds.CLASS_NAME="AttributeCertificateV2";const Va="contentType",gl="content",SP=[Va,gl];class Ze extends Q{constructor(e={}){super(),this.contentType=d(e,Va,Ze.defaultValues(Va)),this.content=d(e,gl,Ze.defaultValues(gl)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Va:return w;case gl:return new Ce;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Va:return typeof t=="string"&&t===this.defaultValues(Va);case gl:return t instanceof Ce;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return"optional"in t||(t.optional=!1),new C({name:t.blockName||"ContentInfo",optional:t.optional,value:[new ue({name:t.contentType||Va}),new P({idBlock:{tagClass:3,tagNumber:0},value:[new Ce({name:t.content||gl})]})]})}fromSchema(e){Z(e,SP);const t=X(e,e,Ze.schema());G.assertSchema(t,this.className),this.contentType=t.result.contentType.valueBlock.toString(),this.content=t.result.content}toSchema(){return new C({value:[new ue({value:this.contentType}),new P({idBlock:{tagClass:3,tagNumber:0},value:[this.content]})]})}toJSON(){const e={contentType:this.contentType};return this.content instanceof Ce||(e.content=this.content.toJSON()),e}}Ze.CLASS_NAME="ContentInfo";Ze.DATA=sv;Ze.SIGNED_DATA=Yk;Ze.ENVELOPED_DATA=Xk;Ze.ENCRYPTED_DATA=Qk;const bp="type",Sp="value",_w="utcTimeName",xw="generalTimeName",AP=[_w,xw];var B0;(function(s){s[s.UTCTime=0]="UTCTime",s[s.GeneralizedTime=1]="GeneralizedTime",s[s.empty=2]="empty"})(B0||(B0={}));class mt extends Q{constructor(e={}){super(),this.type=d(e,bp,mt.defaultValues(bp)),this.value=d(e,Sp,mt.defaultValues(Sp)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case bp:return 0;case Sp:return new Date(0,0,0);default:return super.defaultValues(e)}}static schema(e={},t=!1){const n=d(e,"names",{});return new lt({optional:t,value:[new Zc({name:n.utcTimeName||w}),new ot({name:n.generalTimeName||w})]})}fromSchema(e){Z(e,AP);const t=X(e,e,mt.schema({names:{utcTimeName:_w,generalTimeName:xw}}));G.assertSchema(t,this.className),_w in t.result&&(this.type=0,this.value=t.result.utcTimeName.toDate()),xw in t.result&&(this.type=1,this.value=t.result.generalTimeName.toDate())}toSchema(){return this.type===0?new Zc({valueDate:this.value}):this.type===1?new ot({valueDate:this.value}):{}}toJSON(){return{type:this.type,value:this.value}}}mt.CLASS_NAME="Time";const Ap="tbs",si="version",sm="serialNumber",nm="signature",rm="issuer",im="notBefore",am="notAfter",om="subject",lm="subjectPublicKeyInfo",Mh="issuerUniqueID",$h="subjectUniqueID",Fh="extensions",Kh="signatureAlgorithm",jh="signatureValue",Hs="tbsCertificate",rg=`${Hs}.${si}`,nv=`${Hs}.${sm}`,rv=`${Hs}.${nm}`,iv=`${Hs}.${rm}`,ig=`${Hs}.${im}`,ag=`${Hs}.${am}`,av=`${Hs}.${om}`,ov=`${Hs}.${lm}`,og=`${Hs}.${Mh}`,lg=`${Hs}.${$h}`,Tf=`${Hs}.${Fh}`,kP=[Hs,rg,nv,rv,iv,ig,ag,av,ov,og,lg,Tf,Kh,jh];function EP(s={}){const e=d(s,"names",{});return new C({name:e.blockName||Hs,value:[new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new M({name:e.tbsCertificateVersion||rg})]}),new M({name:e.tbsCertificateSerialNumber||nv}),K.schema(e.signature||{names:{blockName:rv}}),qe.schema(e.issuer||{names:{blockName:iv}}),new C({name:e.tbsCertificateValidity||"tbsCertificate.validity",value:[mt.schema(e.notBefore||{names:{utcTimeName:ig,generalTimeName:ig}}),mt.schema(e.notAfter||{names:{utcTimeName:ag,generalTimeName:ag}})]}),qe.schema(e.subject||{names:{blockName:av}}),gs.schema(e.subjectPublicKeyInfo||{names:{blockName:ov}}),new ke({name:e.tbsCertificateIssuerUniqueID||og,optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new ke({name:e.tbsCertificateSubjectUniqueID||lg,optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[ct.schema(e.extensions||{names:{blockName:Tf}})]})]})}class Ue extends Q{get tbs(){return Se.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}constructor(e={}){super(),this.tbsView=new Uint8Array(d(e,Ap,Ue.defaultValues(Ap))),this.version=d(e,si,Ue.defaultValues(si)),this.serialNumber=d(e,sm,Ue.defaultValues(sm)),this.signature=d(e,nm,Ue.defaultValues(nm)),this.issuer=d(e,rm,Ue.defaultValues(rm)),this.notBefore=d(e,im,Ue.defaultValues(im)),this.notAfter=d(e,am,Ue.defaultValues(am)),this.subject=d(e,om,Ue.defaultValues(om)),this.subjectPublicKeyInfo=d(e,lm,Ue.defaultValues(lm)),Mh in e&&(this.issuerUniqueID=d(e,Mh,Ue.defaultValues(Mh))),$h in e&&(this.subjectUniqueID=d(e,$h,Ue.defaultValues($h))),Fh in e&&(this.extensions=d(e,Fh,Ue.defaultValues(Fh))),this.signatureAlgorithm=d(e,Kh,Ue.defaultValues(Kh)),this.signatureValue=d(e,jh,Ue.defaultValues(jh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ap:return Tt;case si:return 0;case sm:return new M;case nm:return new K;case rm:return new qe;case im:return new mt;case am:return new mt;case om:return new qe;case lm:return new gs;case Mh:return Tt;case $h:return Tt;case Fh:return[];case Kh:return new K;case jh:return new Oe;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[EP(t.tbsCertificate),K.schema(t.signatureAlgorithm||{names:{blockName:Kh}}),new Oe({name:t.signatureValue||jh})]})}fromSchema(e){Z(e,kP);const t=X(e,e,Ue.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:Tf}}}}}}));G.assertSchema(t,this.className),this.tbsView=t.result.tbsCertificate.valueBeforeDecodeView,rg in t.result&&(this.version=t.result[rg].valueBlock.valueDec),this.serialNumber=t.result[nv],this.signature=new K({schema:t.result[rv]}),this.issuer=new qe({schema:t.result[iv]}),this.notBefore=new mt({schema:t.result[ig]}),this.notAfter=new mt({schema:t.result[ag]}),this.subject=new qe({schema:t.result[av]}),this.subjectPublicKeyInfo=new gs({schema:t.result[ov]}),og in t.result&&(this.issuerUniqueID=t.result[og].valueBlock.valueHex),lg in t.result&&(this.subjectUniqueID=t.result[lg].valueBlock.valueHex),Tf in t.result&&(this.extensions=Array.from(t.result[Tf],n=>new Fe({schema:n}))),this.signatureAlgorithm=new K({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}encodeTBS(){const e=[];return si in this&&this.version!==Ue.defaultValues(si)&&e.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new M({value:this.version})]})),e.push(this.serialNumber),e.push(this.signature.toSchema()),e.push(this.issuer.toSchema()),e.push(new C({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]})),e.push(this.subject.toSchema()),e.push(this.subjectPublicKeyInfo.toSchema()),this.issuerUniqueID&&e.push(new ke({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID})),this.subjectUniqueID&&e.push(new ke({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID})),this.extensions&&e.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new C({value:Array.from(this.extensions,t=>t.toSchema())})]})),new C({value:e})}toSchema(e=!1){let t;if(e===!1){if(!this.tbsView.byteLength)return Ue.schema().value[0];const n=kt(this.tbsView);G.assert(n,"TBS Certificate"),t=n.result}else t=this.encodeTBS();return new C({value:[t,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const e={tbs:Ae.ToHex(this.tbsView),version:this.version,serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return si in this&&this.version!==Ue.defaultValues(si)&&(e.version=this.version),this.issuerUniqueID&&(e.issuerUniqueID=Ae.ToHex(this.issuerUniqueID)),this.subjectUniqueID&&(e.subjectUniqueID=Ae.ToHex(this.subjectUniqueID)),this.extensions&&(e.extensions=Array.from(this.extensions,t=>t.toJSON())),e}async getPublicKey(e,t=Ie(!0)){return t.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,e)}async getKeyHash(e="SHA-1",t=Ie(!0)){return t.digest({name:e},this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView)}async sign(e,t="SHA-1",n=Ie(!0)){if(!e)throw new Error("Need to provide a private key for signing");const r=await n.getSignatureParameters(e,t),i=r.parameters;this.signature=r.signatureAlgorithm,this.signatureAlgorithm=r.signatureAlgorithm,this.tbsView=new Uint8Array(this.encodeTBS().toBER());const a=await n.signWithPrivateKey(this.tbsView,e,i);this.signatureValue=new Oe({valueHex:a})}async verify(e,t=Ie(!0)){let n;if(e?n=e.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(n=this.subjectPublicKeyInfo),!(n instanceof gs))throw new Error("Please provide issuer certificate as a parameter");return t.verifyWithPublicKey(this.tbsView,this.signatureValue,n,this.signatureAlgorithm)}}Ue.CLASS_NAME="Certificate";function nE(s,e=null){if(e&&s.issuer.isEqual(e.issuer)&&s.serialNumber.isEqual(e.serialNumber))return null;let t=!1;if(s.extensions){for(const n of s.extensions)if(n.extnID===zy&&n.parsedValue instanceof $i&&n.parsedValue.cA){t=!0;break}}return t?s:null}const pl="certId",wl="certValue",qo="parsedValue",CP=[pl,wl];class ho extends Q{constructor(e={}){super(),this.certId=d(e,pl,ho.defaultValues(pl)),this.certValue=d(e,wl,ho.defaultValues(wl)),qo in e&&(this.parsedValue=d(e,qo,ho.defaultValues(qo))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case pl:return w;case wl:return new Ce;case qo:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case pl:return t===w;case wl:return t instanceof Ce;case qo:return t instanceof Object&&Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.id||"id"}),new P({idBlock:{tagClass:3,tagNumber:0},value:[new Ce({name:t.value||"value"})]})]})}fromSchema(e){Z(e,CP);const t=X(e,e,ho.schema({names:{id:pl,value:wl}}));G.assertSchema(t,this.className),this.certId=t.result.certId.valueBlock.toString(),this.certValue=t.result.certValue;const n=this.certValue.valueBlock.valueHexView;switch(this.certId){case h0:try{this.parsedValue=Ue.fromBER(n)}catch{Ds.fromBER(n)}break;case f0:this.parsedValue=Ds.fromBER(n);break;case xO:default:throw new Error(`Incorrect CERT_ID value in CertBag: ${this.certId}`)}}toSchema(){return qo in this&&("acinfo"in this.parsedValue?this.certId=f0:this.certId=h0,this.certValue=new ee({valueHex:this.parsedValue.toSchema().toBER(!1)})),new C({value:[new ue({value:this.certId}),new P({idBlock:{tagClass:3,tagNumber:0},value:["toSchema"in this.certValue?this.certValue.toSchema():this.certValue]})]})}toJSON(){return{certId:this.certId,certValue:this.certValue.toJSON()}}}ho.CLASS_NAME="CertBag";const Jh="userCertificate",yl="revocationDate",La="crlEntryExtensions",NP=[Jh,yl,La];class Oi extends Q{constructor(e={}){super(),this.userCertificate=d(e,Jh,Oi.defaultValues(Jh)),this.revocationDate=d(e,yl,Oi.defaultValues(yl)),La in e&&(this.crlEntryExtensions=d(e,La,Oi.defaultValues(La))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Jh:return new M;case yl:return new mt;case La:return new ct;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new M({name:t.userCertificate||Jh}),mt.schema({names:{utcTimeName:t.revocationDate||yl,generalTimeName:t.revocationDate||yl}}),ct.schema({names:{blockName:t.crlEntryExtensions||La}},!0)]})}fromSchema(e){Z(e,NP);const t=X(e,e,Oi.schema());G.assertSchema(t,this.className),this.userCertificate=t.result.userCertificate,this.revocationDate=new mt({schema:t.result.revocationDate}),La in t.result&&(this.crlEntryExtensions=new ct({schema:t.result.crlEntryExtensions}))}toSchema(){const e=[this.userCertificate,this.revocationDate.toSchema()];return this.crlEntryExtensions&&e.push(this.crlEntryExtensions.toSchema()),new C({value:e})}toJSON(){const e={userCertificate:this.userCertificate.toJSON(),revocationDate:this.revocationDate.toJSON()};return this.crlEntryExtensions&&(e.crlEntryExtensions=this.crlEntryExtensions.toJSON()),e}}Oi.CLASS_NAME="RevokedCertificate";const kp="tbs",pu="version",Ep="signature",Cp="issuer",Np="thisUpdate",Rd="nextUpdate",Od="revokedCertificates",Pd="crlExtensions",Wh="signatureAlgorithm",qh="signatureValue",xr="tbsCertList",cg=`${xr}.version`,lv=`${xr}.signature`,cv=`${xr}.issuer`,ug=`${xr}.thisUpdate`,Qf=`${xr}.nextUpdate`,hg=`${xr}.revokedCertificates`,fg=`${xr}.extensions`,IP=[xr,cg,lv,cv,ug,Qf,hg,fg,Wh,qh];function _P(s={}){const e=d(s,"names",{});return new C({name:e.blockName||xr,value:[new M({optional:!0,name:e.tbsCertListVersion||cg,value:2}),K.schema(e.signature||{names:{blockName:lv}}),qe.schema(e.issuer||{names:{blockName:cv}}),mt.schema(e.tbsCertListThisUpdate||{names:{utcTimeName:ug,generalTimeName:ug}}),mt.schema(e.tbsCertListNextUpdate||{names:{utcTimeName:Qf,generalTimeName:Qf}},!0),new C({optional:!0,value:[new _e({name:e.tbsCertListRevokedCertificates||hg,value:new C({value:[new M,mt.schema(),ct.schema({},!0)]})})]}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[ct.schema(e.crlExtensions||{names:{blockName:fg}})]})]})}const xP=[ev,$k,pO,wO,Fk,Zy,tv,yO,vO,Kk];class Ct extends Q{get tbs(){return Se.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}constructor(e={}){super(),this.tbsView=new Uint8Array(d(e,kp,Ct.defaultValues(kp))),this.version=d(e,pu,Ct.defaultValues(pu)),this.signature=d(e,Ep,Ct.defaultValues(Ep)),this.issuer=d(e,Cp,Ct.defaultValues(Cp)),this.thisUpdate=d(e,Np,Ct.defaultValues(Np)),Rd in e&&(this.nextUpdate=d(e,Rd,Ct.defaultValues(Rd))),Od in e&&(this.revokedCertificates=d(e,Od,Ct.defaultValues(Od))),Pd in e&&(this.crlExtensions=d(e,Pd,Ct.defaultValues(Pd))),this.signatureAlgorithm=d(e,Wh,Ct.defaultValues(Wh)),this.signatureValue=d(e,qh,Ct.defaultValues(qh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case kp:return Tt;case pu:return 0;case Ep:return new K;case Cp:return new qe;case Np:return new mt;case Rd:return new mt;case Od:return[];case Pd:return new ct;case Wh:return new K;case qh:return new Oe;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||"CertificateList",value:[_P(e),K.schema(t.signatureAlgorithm||{names:{blockName:Wh}}),new Oe({name:t.signatureValue||qh})]})}fromSchema(e){Z(e,IP);const t=X(e,e,Ct.schema());G.assertSchema(t,this.className),this.tbsView=t.result.tbsCertList.valueBeforeDecodeView,cg in t.result&&(this.version=t.result[cg].valueBlock.valueDec),this.signature=new K({schema:t.result[lv]}),this.issuer=new qe({schema:t.result[cv]}),this.thisUpdate=new mt({schema:t.result[ug]}),Qf in t.result&&(this.nextUpdate=new mt({schema:t.result[Qf]})),hg in t.result&&(this.revokedCertificates=Array.from(t.result[hg],n=>new Oi({schema:n}))),fg in t.result&&(this.crlExtensions=new ct({schema:t.result[fg]})),this.signatureAlgorithm=new K({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}encodeTBS(){const e=[];return this.version!==Ct.defaultValues(pu)&&e.push(new M({value:this.version})),e.push(this.signature.toSchema()),e.push(this.issuer.toSchema()),e.push(this.thisUpdate.toSchema()),this.nextUpdate&&e.push(this.nextUpdate.toSchema()),this.revokedCertificates&&e.push(new C({value:Array.from(this.revokedCertificates,t=>t.toSchema())})),this.crlExtensions&&e.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.crlExtensions.toSchema()]})),new C({value:e})}toSchema(e=!1){let t;if(e)t=this.encodeTBS();else{if(!this.tbsView.byteLength)return Ct.schema();const n=kt(this.tbsView);G.assert(n,"TBS Certificate Revocation List"),t=n.result}return new C({value:[t,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const e={tbs:Ae.ToHex(this.tbsView),version:this.version,signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),thisUpdate:this.thisUpdate.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return this.version!==Ct.defaultValues(pu)&&(e.version=this.version),this.nextUpdate&&(e.nextUpdate=this.nextUpdate.toJSON()),this.revokedCertificates&&(e.revokedCertificates=Array.from(this.revokedCertificates,t=>t.toJSON())),this.crlExtensions&&(e.crlExtensions=this.crlExtensions.toJSON()),e}isCertificateRevoked(e){if(!this.issuer.isEqual(e.issuer)||!this.revokedCertificates)return!1;for(const t of this.revokedCertificates)if(t.userCertificate.isEqual(e.serialNumber))return!0;return!1}async sign(e,t="SHA-1",n=Ie(!0)){if(!e)throw new Error("Need to provide a private key for signing");const r=await n.getSignatureParameters(e,t),{parameters:i}=r;this.signature=r.signatureAlgorithm,this.signatureAlgorithm=r.signatureAlgorithm,this.tbsView=new Uint8Array(this.encodeTBS().toBER());const a=await n.signWithPrivateKey(this.tbsView,e,i);this.signatureValue=new Oe({valueHex:a})}async verify(e={},t=Ie(!0)){let n;if(e.issuerCertificate&&(n=e.issuerCertificate.subjectPublicKeyInfo,!this.issuer.isEqual(e.issuerCertificate.subject)))return!1;if(e.publicKeyInfo&&(n=e.publicKeyInfo),!n)throw new Error("Issuer's certificate must be provided as an input parameter");if(this.crlExtensions){for(const r of this.crlExtensions.extensions)if(r.critical&&!xP.includes(r.extnID))return!1}return t.verifyWithPublicKey(this.tbsView,this.signatureValue,n,this.signatureAlgorithm)}}Ct.CLASS_NAME="CertificateRevocationList";const vl="crlId",bl="crlValue",wu="parsedValue",BP=[vl,bl];class fo extends Q{constructor(e={}){super(),this.crlId=d(e,vl,fo.defaultValues(vl)),this.crlValue=d(e,bl,fo.defaultValues(bl)),wu in e&&(this.parsedValue=d(e,wu,fo.defaultValues(wu))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case vl:return w;case bl:return new Ce;case wu:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case vl:return t===w;case bl:return t instanceof Ce;case wu:return t instanceof Object&&Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.id||"id"}),new P({idBlock:{tagClass:3,tagNumber:0},value:[new Ce({name:t.value||"value"})]})]})}fromSchema(e){Z(e,BP);const t=X(e,e,fo.schema({names:{id:vl,value:bl}}));switch(G.assertSchema(t,this.className),this.crlId=t.result.crlId.valueBlock.toString(),this.crlValue=t.result.crlValue,this.crlId){case d0:this.parsedValue=Ct.fromBER(this.certValue.valueBlock.valueHex);break;default:throw new Error(`Incorrect CRL_ID value in CRLBag: ${this.crlId}`)}}toSchema(){return this.parsedValue&&(this.crlId=d0,this.crlValue=new ee({valueHex:this.parsedValue.toSchema().toBER(!1)})),new C({value:[new ue({value:this.crlId}),new P({idBlock:{tagClass:3,tagNumber:0},value:[this.crlValue.toSchema()]})]})}toJSON(){return{crlId:this.crlId,crlValue:this.crlValue.toJSON()}}}fo.CLASS_NAME="CRLBag";const Sl="version",Al="encryptedContentInfo",ni="unprotectedAttrs",TP=[Sl,Al,ni];class Tn extends Q{constructor(e={}){super(),this.version=d(e,Sl,Tn.defaultValues(Sl)),this.encryptedContentInfo=d(e,Al,Tn.defaultValues(Al)),ni in e&&(this.unprotectedAttrs=d(e,ni,Tn.defaultValues(ni))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Sl:return 0;case Al:return new bt;case ni:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Sl:return t===0;case Al:return bt.compareWithDefault("contentType",t.contentType)&&bt.compareWithDefault("contentEncryptionAlgorithm",t.contentEncryptionAlgorithm)&&bt.compareWithDefault("encryptedContent",t.encryptedContent);case ni:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new M({name:t.version||w}),bt.schema(t.encryptedContentInfo||{}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new _e({name:t.unprotectedAttrs||w,value:tt.schema()})]})]})}fromSchema(e){Z(e,TP);const t=X(e,e,Tn.schema({names:{version:Sl,encryptedContentInfo:{names:{blockName:Al}},unprotectedAttrs:ni}}));G.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.encryptedContentInfo=new bt({schema:t.result.encryptedContentInfo}),ni in t.result&&(this.unprotectedAttrs=Array.from(t.result.unprotectedAttrs,n=>new tt({schema:n})))}toSchema(){const e=[];return e.push(new M({value:this.version})),e.push(this.encryptedContentInfo.toSchema()),this.unprotectedAttrs&&e.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.unprotectedAttrs,t=>t.toSchema())})),new C({value:e})}toJSON(){const e={version:this.version,encryptedContentInfo:this.encryptedContentInfo.toJSON()};return this.unprotectedAttrs&&(e.unprotectedAttrs=Array.from(this.unprotectedAttrs,t=>t.toJSON())),e}async encrypt(e,t=Ie(!0)){We.assert(e,"parameters","object");const n={...e,contentType:"1.2.840.113549.1.7.1"};this.encryptedContentInfo=await t.encryptEncryptedContentInfo(n)}async decrypt(e,t=Ie(!0)){We.assert(e,"parameters","object");const n={...e,encryptedContentInfo:this.encryptedContentInfo};return t.decryptEncryptedContentInfo(n)}}Tn.CLASS_NAME="EncryptedData";const Da="encryptionAlgorithm",ri="encryptedData",yu="parsedValue",RP=[Da,ri];class rr extends Q{constructor(e={}){super(),this.encryptionAlgorithm=d(e,Da,rr.defaultValues(Da)),this.encryptedData=d(e,ri,rr.defaultValues(ri)),yu in e&&(this.parsedValue=d(e,yu,rr.defaultValues(yu))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Da:return new K;case ri:return new ee;case yu:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Da:return K.compareWithDefault("algorithmId",t.algorithmId)&&!("algorithmParams"in t);case ri:return t.isEqual(rr.defaultValues(e));case yu:return t instanceof Object&&Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[K.schema(t.encryptionAlgorithm||{names:{blockName:Da}}),new lt({value:[new ee({name:t.encryptedData||ri}),new ee({idBlock:{isConstructed:!0},name:t.encryptedData||ri})]})]})}fromSchema(e){Z(e,RP);const t=X(e,e,rr.schema({names:{encryptionAlgorithm:{names:{blockName:Da}},encryptedData:ri}}));G.assertSchema(t,this.className),this.encryptionAlgorithm=new K({schema:t.result.encryptionAlgorithm}),this.encryptedData=t.result.encryptedData}toSchema(){return new C({value:[this.encryptionAlgorithm.toSchema(),this.encryptedData]})}toJSON(){return{encryptionAlgorithm:this.encryptionAlgorithm.toJSON(),encryptedData:this.encryptedData.toJSON()}}async parseInternalValues(e,t=Ie(!0)){const r=await new Tn({encryptedContentInfo:new bt({contentEncryptionAlgorithm:this.encryptionAlgorithm,encryptedContent:this.encryptedData})}).decrypt(e,t);this.parsedValue=Ps.fromBER(r)}async makeInternalValues(e,t=Ie(!0)){if(!this.parsedValue)throw new Error('Please initialize "parsedValue" first');const n=new Tn,r={...e,contentToEncrypt:this.parsedValue.toSchema().toBER(!1)};if(await n.encrypt(r,t),!n.encryptedContentInfo.encryptedContent)throw new Error("The filed `encryptedContent` in EncryptedContentInfo is empty");this.encryptionAlgorithm=n.encryptedContentInfo.contentEncryptionAlgorithm,this.encryptedData=n.encryptedContentInfo.encryptedContent}}rr.CLASS_NAME="PKCS8ShroudedKeyBag";const kl="secretTypeId",El="secretValue",OP=[kl,El];class Uc extends Q{constructor(e={}){super(),this.secretTypeId=d(e,kl,Uc.defaultValues(kl)),this.secretValue=d(e,El,Uc.defaultValues(El)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case kl:return w;case El:return new Ce;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case kl:return t===w;case El:return t instanceof Ce;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.id||"id"}),new P({idBlock:{tagClass:3,tagNumber:0},value:[new Ce({name:t.value||"value"})]})]})}fromSchema(e){Z(e,OP);const t=X(e,e,Uc.schema({names:{id:kl,value:El}}));G.assertSchema(t,this.className),this.secretTypeId=t.result.secretTypeId.valueBlock.toString(),this.secretValue=t.result.secretValue}toSchema(){return new C({value:[new ue({value:this.secretTypeId}),new P({idBlock:{tagClass:3,tagNumber:0},value:[this.secretValue.toSchema()]})]})}toJSON(){return{secretTypeId:this.secretTypeId,secretValue:this.secretValue.toJSON()}}}Uc.CLASS_NAME="SecretBag";class Ii{static getItems(){return this.items||(this.items={},Ii.register("1.2.840.113549.1.12.10.1.1",Ps),Ii.register("1.2.840.113549.1.12.10.1.2",rr),Ii.register("1.2.840.113549.1.12.10.1.3",ho),Ii.register("1.2.840.113549.1.12.10.1.4",fo),Ii.register("1.2.840.113549.1.12.10.1.5",Uc),Ii.register("1.2.840.113549.1.12.10.1.6",fr)),this.items}static register(e,t){this.getItems()[e]=t}static find(e){return this.getItems()[e]||null}}const Ua="bagId",Ha="bagValue",Yn="bagAttributes",PP=[Ua,Ha,Yn];class Pi extends Q{constructor(e={}){super(),this.bagId=d(e,Ua,Pi.defaultValues(Ua)),this.bagValue=d(e,Ha,Pi.defaultValues(Ha)),Yn in e&&(this.bagAttributes=d(e,Yn,Pi.defaultValues(Yn))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ua:return w;case Ha:return new Ce;case Yn:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Ua:return t===w;case Ha:return t instanceof Ce;case Yn:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.bagId||Ua}),new P({idBlock:{tagClass:3,tagNumber:0},value:[new Ce({name:t.bagValue||Ha})]}),new St({optional:!0,value:[new _e({name:t.bagAttributes||Yn,value:tt.schema()})]})]})}fromSchema(e){Z(e,PP);const t=X(e,e,Pi.schema({names:{bagId:Ua,bagValue:Ha,bagAttributes:Yn}}));G.assertSchema(t,this.className),this.bagId=t.result.bagId.valueBlock.toString();const n=Ii.find(this.bagId);if(!n)throw new Error(`Invalid BAG_ID for SafeBag: ${this.bagId}`);this.bagValue=new n({schema:t.result.bagValue}),Yn in t.result&&(this.bagAttributes=Array.from(t.result.bagAttributes,r=>new tt({schema:r})))}toSchema(){const e=[new ue({value:this.bagId}),new P({idBlock:{tagClass:3,tagNumber:0},value:[this.bagValue.toSchema()]})];return this.bagAttributes&&e.push(new St({value:Array.from(this.bagAttributes,t=>t.toSchema())})),new C({value:e})}toJSON(){const e={bagId:this.bagId,bagValue:this.bagValue.toJSON()};return this.bagAttributes&&(e.bagAttributes=Array.from(this.bagAttributes,t=>t.toJSON())),e}}Pi.CLASS_NAME="SafeBag";const Go="safeBags";class fr extends Q{constructor(e={}){super(),this.safeBags=d(e,Go,fr.defaultValues(Go)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Go:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Go:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new _e({name:t.safeBags||w,value:Pi.schema()})]})}fromSchema(e){Z(e,[Go]);const t=X(e,e,fr.schema({names:{safeBags:Go}}));G.assertSchema(t,this.className),this.safeBags=Array.from(t.result.safeBags,n=>new Pi({schema:n}))}toSchema(){return new C({value:Array.from(this.safeBags,e=>e.toSchema())})}toJSON(){return{safeBags:Array.from(this.safeBags,e=>e.toJSON())}}}fr.CLASS_NAME="SafeContents";const Gh="otherCertFormat",Yh="otherCert",VP=[Gh,Yh];class Ki extends Q{constructor(e={}){super(),this.otherCertFormat=d(e,Gh,Ki.defaultValues(Gh)),this.otherCert=d(e,Yh,Ki.defaultValues(Yh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Gh:return w;case Yh:return new Ce;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.otherCertFormat||Gh}),new Ce({name:t.otherCert||Yh})]})}fromSchema(e){Z(e,VP);const t=X(e,e,Ki.schema());G.assertSchema(t,this.className),this.otherCertFormat=t.result.otherCertFormat.valueBlock.toString(),this.otherCert=t.result.otherCert}toSchema(){return new C({value:[new ue({value:this.otherCertFormat}),this.otherCert]})}toJSON(){const e={otherCertFormat:this.otherCertFormat};return this.otherCert instanceof Ce||(e.otherCert=this.otherCert.toJSON()),e}}const Xh="certificates",LP=[Xh];class Pn extends Q{constructor(e={}){super(),this.certificates=d(e,Xh,Pn.defaultValues(Xh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Xh:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new St({name:t.blockName||w,value:[new _e({name:t.certificates||Xh,value:new lt({value:[Ue.schema(),new P({idBlock:{tagClass:3,tagNumber:0},value:[new Ce]}),new P({idBlock:{tagClass:3,tagNumber:1},value:[new C]}),new P({idBlock:{tagClass:3,tagNumber:2},value:Ds.schema().valueBlock.value}),new P({idBlock:{tagClass:3,tagNumber:3},value:Ki.schema().valueBlock.value})]})})]})}fromSchema(e){Z(e,LP);const t=X(e,e,Pn.schema());G.assertSchema(t,this.className),this.certificates=Array.from(t.result.certificates||[],n=>{const r=n.idBlock.tagNumber;if(n.idBlock.tagClass===1)return new Ue({schema:n});const i=new C({value:n.valueBlock.value});switch(r){case 1:return i.valueBlock.value[0].valueBlock.value[0].valueBlock.valueDec===1?new Ds({schema:i}):new ur({schema:i});case 2:return new Ds({schema:i});case 3:return new Ki({schema:i})}return n})}toSchema(){return new St({value:Array.from(this.certificates,e=>{switch(!0){case e instanceof Ue:return e.toSchema();case e instanceof ur:return new P({idBlock:{tagClass:3,tagNumber:1},value:e.toSchema().valueBlock.value});case e instanceof Ds:return new P({idBlock:{tagClass:3,tagNumber:2},value:e.toSchema().valueBlock.value});case e instanceof Ki:return new P({idBlock:{tagClass:3,tagNumber:3},value:e.toSchema().valueBlock.value})}return e.toSchema()})})}toJSON(){return{certificates:Array.from(this.certificates,e=>e.toJSON())}}}Pn.CLASS_NAME="CertificateSet";const Qh="otherRevInfoFormat",zh="otherRevInfo",DP=[Qh,zh];class wr extends Q{constructor(e={}){super(),this.otherRevInfoFormat=d(e,Qh,wr.defaultValues(Qh)),this.otherRevInfo=d(e,zh,wr.defaultValues(zh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Qh:return w;case zh:return new Ce;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.otherRevInfoFormat||Qh}),new Ce({name:t.otherRevInfo||zh})]})}fromSchema(e){Z(e,DP);const t=X(e,e,wr.schema());G.assertSchema(t,this.className),this.otherRevInfoFormat=t.result.otherRevInfoFormat.valueBlock.toString(),this.otherRevInfo=t.result.otherRevInfo}toSchema(){return new C({value:[new ue({value:this.otherRevInfoFormat}),this.otherRevInfo]})}toJSON(){const e={otherRevInfoFormat:this.otherRevInfoFormat};return this.otherRevInfo instanceof Ce||(e.otherRevInfo=this.otherRevInfo.toJSON()),e}}wr.CLASS_NAME="OtherRevocationInfoFormat";const Zh="crls",Ip="otherRevocationInfos",UP=[Zh];class yr extends Q{constructor(e={}){super(),this.crls=d(e,Zh,yr.defaultValues(Zh)),this.otherRevocationInfos=d(e,Ip,yr.defaultValues(Ip)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Zh:return[];case Ip:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new St({name:t.blockName||w,value:[new _e({name:t.crls||w,value:new lt({value:[Ct.schema(),new P({idBlock:{tagClass:3,tagNumber:1},value:[new ue,new Ce]})]})})]})}fromSchema(e){Z(e,UP);const t=X(e,e,yr.schema({names:{crls:Zh}}));if(G.assertSchema(t,this.className),t.result.crls)for(const n of t.result.crls)n.idBlock.tagClass===1?this.crls.push(new Ct({schema:n})):this.otherRevocationInfos.push(new wr({schema:n}))}toSchema(){const e=[];return e.push(...Array.from(this.crls,t=>t.toSchema())),e.push(...Array.from(this.otherRevocationInfos,t=>{const n=t.toSchema();return n.idBlock.tagClass=3,n.idBlock.tagNumber=1,n})),new St({value:e})}toJSON(){return{crls:Array.from(this.crls,e=>e.toJSON()),otherRevocationInfos:Array.from(this.otherRevocationInfos,e=>e.toJSON())}}}yr.CLASS_NAME="RevocationInfoChoices";const ef="certs",Ma="crls",HP=[ef,Ma];class No extends Q{constructor(e={}){super(),this.crls=d(e,Ma,No.defaultValues(Ma)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ef:return new Pn;case Ma:return new yr;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case ef:return t.certificates.length===0;case Ma:return t.crls.length===0&&t.otherRevocationInfos.length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new P({name:t.certs||w,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Pn.schema().valueBlock.value}),new P({name:t.crls||w,optional:!0,idBlock:{tagClass:3,tagNumber:1},value:yr.schema().valueBlock.value})]})}fromSchema(e){Z(e,HP);const t=X(e,e,No.schema({names:{certs:ef,crls:Ma}}));G.assertSchema(t,this.className),ef in t.result&&(this.certs=new Pn({schema:new St({value:t.result.certs.valueBlock.value})})),Ma in t.result&&(this.crls=new yr({schema:new St({value:t.result.crls.valueBlock.value})}))}toSchema(){const e=[];return this.certs&&e.push(new P({idBlock:{tagClass:3,tagNumber:0},value:this.certs.toSchema().valueBlock.value})),this.crls&&e.push(new P({idBlock:{tagClass:3,tagNumber:1},value:this.crls.toSchema().valueBlock.value})),new C({value:e})}toJSON(){const e={};return this.certs&&(e.certs=this.certs.toJSON()),this.crls&&(e.crls=this.crls.toJSON()),e}}No.CLASS_NAME="OriginatorInfo";const tf="issuer",sf="serialNumber",MP=[tf,sf];class Rt extends Q{constructor(e={}){super(),this.issuer=d(e,tf,Rt.defaultValues(tf)),this.serialNumber=d(e,sf,Rt.defaultValues(sf)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case tf:return new qe;case sf:return new M;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[qe.schema(t.issuer||{}),new M({name:t.serialNumber||w})]})}fromSchema(e){Z(e,MP);const t=X(e,e,Rt.schema({names:{issuer:{names:{blockName:tf}},serialNumber:sf}}));G.assertSchema(t,this.className),this.issuer=new qe({schema:t.result.issuer}),this.serialNumber=t.result.serialNumber}toSchema(){return new C({value:[this.issuer.toSchema(),this.serialNumber]})}toJSON(){return{issuer:this.issuer.toJSON(),serialNumber:this.serialNumber.toJSON()}}}Rt.CLASS_NAME="IssuerAndSerialNumber";const Vd="variant",vu="value",$P=["blockName"];class Hc extends Q{constructor(e={}){super(),this.variant=d(e,Vd,Hc.defaultValues(Vd)),vu in e&&(this.value=d(e,vu,Hc.defaultValues(vu))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Vd:return-1;case vu:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Vd:return t===-1;case vu:return Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new lt({value:[Rt.schema({names:{blockName:t.blockName||w}}),new ke({name:t.blockName||w,idBlock:{tagClass:3,tagNumber:0}})]})}fromSchema(e){Z(e,$P);const t=X(e,e,Hc.schema({names:{blockName:"blockName"}}));G.assertSchema(t,this.className),t.result.blockName.idBlock.tagClass===1?(this.variant=1,this.value=new Rt({schema:t.result.blockName})):(this.variant=2,this.value=new ee({valueHex:t.result.blockName.valueBlock.valueHex}))}toSchema(){switch(this.variant){case 1:if(!(this.value instanceof Rt))throw new Error("Incorrect type of RecipientIdentifier.value. It should be IssuerAndSerialNumber.");return this.value.toSchema();case 2:if(!(this.value instanceof ee))throw new Error("Incorrect type of RecipientIdentifier.value. It should be ASN.1 OctetString.");return new ke({idBlock:{tagClass:3,tagNumber:0},valueHex:this.value.valueBlock.valueHexView});default:return new Ce}}toJSON(){const e={variant:this.variant};return(this.variant===1||this.variant===2)&&this.value&&(e.value=this.value.toJSON()),e}}Hc.CLASS_NAME="RecipientIdentifier";const $a="version",Cl="rid",Nl="keyEncryptionAlgorithm",Il="encryptedKey",Ld="recipientCertificate",FP=[$a,Cl,Nl,Il];class _s extends Q{constructor(e={}){super(),this.version=d(e,$a,_s.defaultValues($a)),this.rid=d(e,Cl,_s.defaultValues(Cl)),this.keyEncryptionAlgorithm=d(e,Nl,_s.defaultValues(Nl)),this.encryptedKey=d(e,Il,_s.defaultValues(Il)),this.recipientCertificate=d(e,Ld,_s.defaultValues(Ld)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case $a:return-1;case Cl:return{};case Nl:return new K;case Il:return new ee;case Ld:return new Ue;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case $a:return t===_s.defaultValues($a);case Cl:return Object.keys(t).length===0;case Nl:case Il:return t.isEqual(_s.defaultValues(e));case Ld:return!1;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new M({name:t.version||w}),Hc.schema(t.rid||{}),K.schema(t.keyEncryptionAlgorithm||{}),new ee({name:t.encryptedKey||w})]})}fromSchema(e){Z(e,FP);const t=X(e,e,_s.schema({names:{version:$a,rid:{names:{blockName:Cl}},keyEncryptionAlgorithm:{names:{blockName:Nl}},encryptedKey:Il}}));G.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,t.result.rid.idBlock.tagClass===3?this.rid=new ee({valueHex:t.result.rid.valueBlock.valueHex}):this.rid=new Rt({schema:t.result.rid}),this.keyEncryptionAlgorithm=new K({schema:t.result.keyEncryptionAlgorithm}),this.encryptedKey=t.result.encryptedKey}toSchema(){const e=[];return this.rid instanceof Rt?(this.version=0,e.push(new M({value:this.version})),e.push(this.rid.toSchema())):(this.version=2,e.push(new M({value:this.version})),e.push(new ke({idBlock:{tagClass:3,tagNumber:0},valueHex:this.rid.valueBlock.valueHexView}))),e.push(this.keyEncryptionAlgorithm.toSchema()),e.push(this.encryptedKey),new C({value:e})}toJSON(){return{version:this.version,rid:this.rid.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}_s.CLASS_NAME="KeyTransRecipientInfo";const _l="algorithm",xl="publicKey",KP=[_l,xl];class dr extends Q{constructor(e={}){super(),this.algorithm=d(e,_l,dr.defaultValues(_l)),this.publicKey=d(e,xl,dr.defaultValues(xl)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case _l:return new K;case xl:return new Oe;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case _l:case xl:return t.isEqual(dr.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[K.schema(t.algorithm||{}),new Oe({name:t.publicKey||w})]})}fromSchema(e){Z(e,KP);const t=X(e,e,dr.schema({names:{algorithm:{names:{blockName:_l}},publicKey:xl}}));G.assertSchema(t,this.className),this.algorithm=new K({schema:t.result.algorithm}),this.publicKey=t.result.publicKey}toSchema(){return new C({value:[this.algorithm.toSchema(),this.publicKey]})}toJSON(){return{algorithm:this.algorithm.toJSON(),publicKey:this.publicKey.toJSON()}}}dr.CLASS_NAME="OriginatorPublicKey";const Dd="variant",bu="value",jP=["blockName"];class vr extends Q{constructor(e={}){super(),this.variant=d(e,Dd,vr.defaultValues(Dd)),bu in e&&(this.value=d(e,bu,vr.defaultValues(bu))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Dd:return-1;case bu:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Dd:return t===-1;case bu:return Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new lt({value:[Rt.schema({names:{blockName:t.blockName||w}}),new ke({idBlock:{tagClass:3,tagNumber:0},name:t.blockName||w}),new P({idBlock:{tagClass:3,tagNumber:1},name:t.blockName||w,value:dr.schema().valueBlock.value})]})}fromSchema(e){Z(e,jP);const t=X(e,e,vr.schema({names:{blockName:"blockName"}}));G.assertSchema(t,this.className),t.result.blockName.idBlock.tagClass===1?(this.variant=1,this.value=new Rt({schema:t.result.blockName})):t.result.blockName.idBlock.tagNumber===0?(t.result.blockName.idBlock.tagClass=1,t.result.blockName.idBlock.tagNumber=4,this.variant=2,this.value=t.result.blockName):(this.variant=3,this.value=new dr({schema:new C({value:t.result.blockName.valueBlock.value})}))}toSchema(){switch(this.variant){case 1:return this.value.toSchema();case 2:return this.value.idBlock.tagClass=3,this.value.idBlock.tagNumber=0,this.value;case 3:{const e=this.value.toSchema();return e.idBlock.tagClass=3,e.idBlock.tagNumber=1,e}default:return new Ce}}toJSON(){const e={variant:this.variant};return(this.variant===1||this.variant===2||this.variant===3)&&(e.value=this.value.toJSON()),e}}vr.CLASS_NAME="OriginatorIdentifierOrKey";const Bl="keyAttrId",En="keyAttr",JP=[Bl,En];class gn extends Q{constructor(e={}){super(),this.keyAttrId=d(e,Bl,gn.defaultValues(Bl)),En in e&&(this.keyAttr=d(e,En,gn.defaultValues(En))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Bl:return w;case En:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Bl:return typeof t=="string"&&t===w;case En:return Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({optional:t.optional||!0,name:t.blockName||w,value:[new ue({name:t.keyAttrId||w}),new Ce({optional:!0,name:t.keyAttr||w})]})}fromSchema(e){Z(e,JP);const t=X(e,e,gn.schema({names:{keyAttrId:Bl,keyAttr:En}}));G.assertSchema(t,this.className),this.keyAttrId=t.result.keyAttrId.valueBlock.toString(),En in t.result&&(this.keyAttr=t.result.keyAttr)}toSchema(){const e=[];return e.push(new ue({value:this.keyAttrId})),En in this&&e.push(this.keyAttr),new C({value:e})}toJSON(){const e={keyAttrId:this.keyAttrId};return En in this&&(e.keyAttr=this.keyAttr.toJSON()),e}}gn.CLASS_NAME="OtherKeyAttribute";const Fa="subjectKeyIdentifier",ii="date",ai="other",WP=[Fa,ii,ai];class _n extends Q{constructor(e={}){super(),this.subjectKeyIdentifier=d(e,Fa,_n.defaultValues(Fa)),ii in e&&(this.date=d(e,ii,_n.defaultValues(ii))),ai in e&&(this.other=d(e,ai,_n.defaultValues(ai))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Fa:return new ee;case ii:return new ot;case ai:return new gn;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Fa:return t.isEqual(_n.defaultValues(Fa));case ii:return t.year===0&&t.month===0&&t.day===0&&t.hour===0&&t.minute===0&&t.second===0&&t.millisecond===0;case ai:return t.keyAttrId===w&&!("keyAttr"in t);default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ee({name:t.subjectKeyIdentifier||w}),new ot({optional:!0,name:t.date||w}),gn.schema(t.other||{})]})}fromSchema(e){Z(e,WP);const t=X(e,e,_n.schema({names:{subjectKeyIdentifier:Fa,date:ii,other:{names:{blockName:ai}}}}));G.assertSchema(t,this.className),this.subjectKeyIdentifier=t.result.subjectKeyIdentifier,ii in t.result&&(this.date=t.result.date),ai in t.result&&(this.other=new gn({schema:t.result.other}))}toSchema(){const e=[];return e.push(this.subjectKeyIdentifier),this.date&&e.push(this.date),this.other&&e.push(this.other.toSchema()),new C({value:e})}toJSON(){const e={subjectKeyIdentifier:this.subjectKeyIdentifier.toJSON()};return this.date&&(e.date=this.date.toJSON()),this.other&&(e.other=this.other.toJSON()),e}}_n.CLASS_NAME="RecipientKeyIdentifier";const Ud="variant",Hd="value",qP=["blockName"];class Vn extends Q{constructor(e={}){super(),this.variant=d(e,Ud,Vn.defaultValues(Ud)),this.value=d(e,Hd,Vn.defaultValues(Hd)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ud:return-1;case Hd:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Ud:return t===-1;case Hd:return Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new lt({value:[Rt.schema(t.issuerAndSerialNumber||{names:{blockName:t.blockName||w}}),new P({name:t.blockName||w,idBlock:{tagClass:3,tagNumber:0},value:_n.schema(t.rKeyId||{names:{blockName:t.blockName||w}}).valueBlock.value})]})}fromSchema(e){Z(e,qP);const t=X(e,e,Vn.schema({names:{blockName:"blockName"}}));G.assertSchema(t,this.className),t.result.blockName.idBlock.tagClass===1?(this.variant=1,this.value=new Rt({schema:t.result.blockName})):(this.variant=2,this.value=new _n({schema:new C({value:t.result.blockName.valueBlock.value})}))}toSchema(){switch(this.variant){case 1:return this.value.toSchema();case 2:return new P({idBlock:{tagClass:3,tagNumber:0},value:this.value.toSchema().valueBlock.value});default:return new Ce}}toJSON(){const e={variant:this.variant};return(this.variant===1||this.variant===2)&&(e.value=this.value.toJSON()),e}}Vn.CLASS_NAME="KeyAgreeRecipientIdentifier";const Tl="rid",Ka="encryptedKey",GP=[Tl,Ka];class mr extends Q{constructor(e={}){super(),this.rid=d(e,Tl,mr.defaultValues(Tl)),this.encryptedKey=d(e,Ka,mr.defaultValues(Ka)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Tl:return new Vn;case Ka:return new ee;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Tl:return t.variant===-1&&!("value"in t);case Ka:return t.isEqual(mr.defaultValues(Ka));default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[Vn.schema(t.rid||{}),new ee({name:t.encryptedKey||w})]})}fromSchema(e){Z(e,GP);const t=X(e,e,mr.schema({names:{rid:{names:{blockName:Tl}},encryptedKey:Ka}}));G.assertSchema(t,this.className),this.rid=new Vn({schema:t.result.rid}),this.encryptedKey=t.result.encryptedKey}toSchema(){return new C({value:[this.rid.toSchema(),this.encryptedKey]})}toJSON(){return{rid:this.rid.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}mr.CLASS_NAME="RecipientEncryptedKey";const Md="encryptedKeys",rE="RecipientEncryptedKeys",YP=[rE];class ji extends Q{constructor(e={}){super(),this.encryptedKeys=d(e,Md,ji.defaultValues(Md)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Md:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Md:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new _e({name:t.RecipientEncryptedKeys||w,value:mr.schema()})]})}fromSchema(e){Z(e,YP);const t=X(e,e,ji.schema({names:{RecipientEncryptedKeys:rE}}));G.assertSchema(t,this.className),this.encryptedKeys=Array.from(t.result.RecipientEncryptedKeys,n=>new mr({schema:n}))}toSchema(){return new C({value:Array.from(this.encryptedKeys,e=>e.toSchema())})}toJSON(){return{encryptedKeys:Array.from(this.encryptedKeys,e=>e.toJSON())}}}ji.CLASS_NAME="RecipientEncryptedKeys";const Rl="version",Ol="originator",Xn="ukm",Pl="keyEncryptionAlgorithm",Vl="recipientEncryptedKeys",$d="recipientCertificate",Fd="recipientPublicKey",XP=[Rl,Ol,Xn,Pl,Vl];class vs extends Q{constructor(e={}){super(),this.version=d(e,Rl,vs.defaultValues(Rl)),this.originator=d(e,Ol,vs.defaultValues(Ol)),Xn in e&&(this.ukm=d(e,Xn,vs.defaultValues(Xn))),this.keyEncryptionAlgorithm=d(e,Pl,vs.defaultValues(Pl)),this.recipientEncryptedKeys=d(e,Vl,vs.defaultValues(Vl)),this.recipientCertificate=d(e,$d,vs.defaultValues($d)),this.recipientPublicKey=d(e,Fd,vs.defaultValues(Fd)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Rl:return 0;case Ol:return new vr;case Xn:return new ee;case Pl:return new K;case Vl:return new ji;case $d:return new Ue;case Fd:return null;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Rl:return t===0;case Ol:return t.variant===-1&&!("value"in t);case Xn:return t.isEqual(vs.defaultValues(Xn));case Pl:return t.algorithmId===w&&!("algorithmParams"in t);case Vl:return t.encryptedKeys.length===0;case $d:return!1;case Fd:return!1;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new M({name:t.version||w}),new P({idBlock:{tagClass:3,tagNumber:0},value:[vr.schema(t.originator||{})]}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new ee({name:t.ukm||w})]}),K.schema(t.keyEncryptionAlgorithm||{}),ji.schema(t.recipientEncryptedKeys||{})]})}fromSchema(e){Z(e,XP);const t=X(e,e,vs.schema({names:{version:Rl,originator:{names:{blockName:Ol}},ukm:Xn,keyEncryptionAlgorithm:{names:{blockName:Pl}},recipientEncryptedKeys:{names:{blockName:Vl}}}}));G.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.originator=new vr({schema:t.result.originator}),Xn in t.result&&(this.ukm=t.result.ukm),this.keyEncryptionAlgorithm=new K({schema:t.result.keyEncryptionAlgorithm}),this.recipientEncryptedKeys=new ji({schema:t.result.recipientEncryptedKeys})}toSchema(){const e=[];return e.push(new M({value:this.version})),e.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[this.originator.toSchema()]})),this.ukm&&e.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[this.ukm]})),e.push(this.keyEncryptionAlgorithm.toSchema()),e.push(this.recipientEncryptedKeys.toSchema()),new C({value:e})}toJSON(){const e={version:this.version,originator:this.originator.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),recipientEncryptedKeys:this.recipientEncryptedKeys.toJSON()};return this.ukm&&(e.ukm=this.ukm.toJSON()),e}}vs.CLASS_NAME="KeyAgreeRecipientInfo";const ja="keyIdentifier",oi="date",li="other",QP=[ja,oi,li];class ln extends Q{constructor(e={}){super(),this.keyIdentifier=d(e,ja,ln.defaultValues(ja)),oi in e&&(this.date=d(e,oi,ln.defaultValues(oi))),li in e&&(this.other=d(e,li,ln.defaultValues(li))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ja:return new ee;case oi:return new ot;case li:return new gn;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case ja:return t.isEqual(ln.defaultValues(ja));case oi:return t.year===0&&t.month===0&&t.day===0&&t.hour===0&&t.minute===0&&t.second===0&&t.millisecond===0;case li:return t.compareWithDefault("keyAttrId",t.keyAttrId)&&!("keyAttr"in t);default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ee({name:t.keyIdentifier||w}),new ot({optional:!0,name:t.date||w}),gn.schema(t.other||{})]})}fromSchema(e){Z(e,QP);const t=X(e,e,ln.schema({names:{keyIdentifier:ja,date:oi,other:{names:{blockName:li}}}}));G.assertSchema(t,this.className),this.keyIdentifier=t.result.keyIdentifier,oi in t.result&&(this.date=t.result.date),li in t.result&&(this.other=new gn({schema:t.result.other}))}toSchema(){const e=[];return e.push(this.keyIdentifier),this.date&&e.push(this.date),this.other&&e.push(this.other.toSchema()),new C({value:e})}toJSON(){const e={keyIdentifier:this.keyIdentifier.toJSON()};return this.date&&(e.date=this.date),this.other&&(e.other=this.other.toJSON()),e}}ln.CLASS_NAME="KEKIdentifier";const Ll="version",Dl="kekid",Ul="keyEncryptionAlgorithm",Ja="encryptedKey",Kd="preDefinedKEK",zP=[Ll,Dl,Ul,Ja];class xs extends Q{constructor(e={}){super(),this.version=d(e,Ll,xs.defaultValues(Ll)),this.kekid=d(e,Dl,xs.defaultValues(Dl)),this.keyEncryptionAlgorithm=d(e,Ul,xs.defaultValues(Ul)),this.encryptedKey=d(e,Ja,xs.defaultValues(Ja)),this.preDefinedKEK=d(e,Kd,xs.defaultValues(Kd)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ll:return 0;case Dl:return new ln;case Ul:return new K;case Ja:return new ee;case Kd:return Tt;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case"KEKRecipientInfo":return t===xs.defaultValues(Ll);case Dl:return t.compareWithDefault("keyIdentifier",t.keyIdentifier)&&!("date"in t)&&!("other"in t);case Ul:return t.algorithmId===w&&!("algorithmParams"in t);case Ja:return t.isEqual(xs.defaultValues(Ja));case Kd:return t.byteLength===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new M({name:t.version||w}),ln.schema(t.kekid||{}),K.schema(t.keyEncryptionAlgorithm||{}),new ee({name:t.encryptedKey||w})]})}fromSchema(e){Z(e,zP);const t=X(e,e,xs.schema({names:{version:Ll,kekid:{names:{blockName:Dl}},keyEncryptionAlgorithm:{names:{blockName:Ul}},encryptedKey:Ja}}));G.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.kekid=new ln({schema:t.result.kekid}),this.keyEncryptionAlgorithm=new K({schema:t.result.keyEncryptionAlgorithm}),this.encryptedKey=t.result.encryptedKey}toSchema(){return new C({value:[new M({value:this.version}),this.kekid.toSchema(),this.keyEncryptionAlgorithm.toSchema(),this.encryptedKey]})}toJSON(){return{version:this.version,kekid:this.kekid.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}xs.CLASS_NAME="KEKRecipientInfo";const Hl="version",ci="keyDerivationAlgorithm",Ml="keyEncryptionAlgorithm",Wa="encryptedKey",jd="password",ZP=[Hl,ci,Ml,Wa];class Ks extends Q{constructor(e={}){super(),this.version=d(e,Hl,Ks.defaultValues(Hl)),ci in e&&(this.keyDerivationAlgorithm=d(e,ci,Ks.defaultValues(ci))),this.keyEncryptionAlgorithm=d(e,Ml,Ks.defaultValues(Ml)),this.encryptedKey=d(e,Wa,Ks.defaultValues(Wa)),this.password=d(e,jd,Ks.defaultValues(jd)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Hl:return-1;case ci:return new K;case Ml:return new K;case Wa:return new ee;case jd:return Tt;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Hl:return t===-1;case ci:case Ml:return t.algorithmId===w&&!("algorithmParams"in t);case Wa:return t.isEqual(Ks.defaultValues(Wa));case jd:return t.byteLength===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new M({name:t.version||w}),new P({name:t.keyDerivationAlgorithm||w,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:K.schema().valueBlock.value}),K.schema(t.keyEncryptionAlgorithm||{}),new ee({name:t.encryptedKey||w})]})}fromSchema(e){Z(e,ZP);const t=X(e,e,Ks.schema({names:{version:Hl,keyDerivationAlgorithm:ci,keyEncryptionAlgorithm:{names:{blockName:Ml}},encryptedKey:Wa}}));G.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,ci in t.result&&(this.keyDerivationAlgorithm=new K({schema:new C({value:t.result.keyDerivationAlgorithm.valueBlock.value})})),this.keyEncryptionAlgorithm=new K({schema:t.result.keyEncryptionAlgorithm}),this.encryptedKey=t.result.encryptedKey}toSchema(){const e=[];return e.push(new M({value:this.version})),this.keyDerivationAlgorithm&&e.push(new P({idBlock:{tagClass:3,tagNumber:0},value:this.keyDerivationAlgorithm.toSchema().valueBlock.value})),e.push(this.keyEncryptionAlgorithm.toSchema()),e.push(this.encryptedKey),new C({value:e})}toJSON(){const e={version:this.version,keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()};return this.keyDerivationAlgorithm&&(e.keyDerivationAlgorithm=this.keyDerivationAlgorithm.toJSON()),e}}Ks.CLASS_NAME="PasswordRecipientInfo";const $l="oriType",qa="oriValue",eV=[$l,qa];class Vi extends Q{constructor(e={}){super(),this.oriType=d(e,$l,Vi.defaultValues($l)),this.oriValue=d(e,qa,Vi.defaultValues(qa)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case $l:return w;case qa:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case $l:return t===w;case qa:return Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.oriType||w}),new Ce({name:t.oriValue||w})]})}fromSchema(e){Z(e,eV);const t=X(e,e,Vi.schema({names:{oriType:$l,oriValue:qa}}));G.assertSchema(t,this.className),this.oriType=t.result.oriType.valueBlock.toString(),this.oriValue=t.result.oriValue}toSchema(){return new C({value:[new ue({value:this.oriType}),this.oriValue]})}toJSON(){const e={oriType:this.oriType};return Vi.compareWithDefault(qa,this.oriValue)||(e.oriValue=this.oriValue.toJSON()),e}}Vi.CLASS_NAME="OtherRecipientInfo";const Jd="variant",Su="value",tV=["blockName"];class Js extends Q{constructor(e={}){super(),this.variant=d(e,Jd,Js.defaultValues(Jd)),Su in e&&(this.value=d(e,Su,Js.defaultValues(Su))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Jd:return-1;case Su:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Jd:return t===Js.defaultValues(e);case Su:return Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new lt({value:[_s.schema({names:{blockName:t.blockName||w}}),new P({name:t.blockName||w,idBlock:{tagClass:3,tagNumber:1},value:vs.schema().valueBlock.value}),new P({name:t.blockName||w,idBlock:{tagClass:3,tagNumber:2},value:xs.schema().valueBlock.value}),new P({name:t.blockName||w,idBlock:{tagClass:3,tagNumber:3},value:Ks.schema().valueBlock.value}),new P({name:t.blockName||w,idBlock:{tagClass:3,tagNumber:4},value:Vi.schema().valueBlock.value})]})}fromSchema(e){Z(e,tV);const t=X(e,e,Js.schema({names:{blockName:"blockName"}}));if(G.assertSchema(t,this.className),t.result.blockName.idBlock.tagClass===1)this.variant=1,this.value=new _s({schema:t.result.blockName});else{const n=new C({value:t.result.blockName.valueBlock.value});switch(t.result.blockName.idBlock.tagNumber){case 1:this.variant=2,this.value=new vs({schema:n});break;case 2:this.variant=3,this.value=new xs({schema:n});break;case 3:this.variant=4,this.value=new Ks({schema:n});break;case 4:this.variant=5,this.value=new Vi({schema:n});break;default:throw new Error("Incorrect structure of RecipientInfo block")}}}toSchema(){Le.assertEmpty(this.value,"value","RecipientInfo");const e=this.value.toSchema();switch(this.variant){case 1:return e;case 2:case 3:case 4:return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.variant-1,e;default:return new Ce}}toJSON(){const e={variant:this.variant};return this.value&&this.variant>=1&&this.variant<=4&&(e.value=this.value.toJSON()),e}}Js.CLASS_NAME="RecipientInfo";const ui="hashAlgorithm",hi="maskGenAlgorithm",fi="pSourceAlgorithm",sV=[ui,hi,fi];class us extends Q{constructor(e={}){super(),this.hashAlgorithm=d(e,ui,us.defaultValues(ui)),this.maskGenAlgorithm=d(e,hi,us.defaultValues(hi)),this.pSourceAlgorithm=d(e,fi,us.defaultValues(fi)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ui:return new K({algorithmId:"1.3.14.3.2.26",algorithmParams:new pt});case hi:return new K({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new K({algorithmId:"1.3.14.3.2.26",algorithmParams:new pt}).toSchema()});case fi:return new K({algorithmId:"1.2.840.113549.1.1.9",algorithmParams:new ee({valueHex:new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer})});default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new P({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[K.schema(t.hashAlgorithm||{})]}),new P({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[K.schema(t.maskGenAlgorithm||{})]}),new P({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[K.schema(t.pSourceAlgorithm||{})]})]})}fromSchema(e){Z(e,sV);const t=X(e,e,us.schema({names:{hashAlgorithm:{names:{blockName:ui}},maskGenAlgorithm:{names:{blockName:hi}},pSourceAlgorithm:{names:{blockName:fi}}}}));G.assertSchema(t,this.className),ui in t.result&&(this.hashAlgorithm=new K({schema:t.result.hashAlgorithm})),hi in t.result&&(this.maskGenAlgorithm=new K({schema:t.result.maskGenAlgorithm})),fi in t.result&&(this.pSourceAlgorithm=new K({schema:t.result.pSourceAlgorithm}))}toSchema(){const e=[];return this.hashAlgorithm.isEqual(us.defaultValues(ui))||e.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(us.defaultValues(hi))||e.push(new P({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.pSourceAlgorithm.isEqual(us.defaultValues(fi))||e.push(new P({idBlock:{tagClass:3,tagNumber:2},value:[this.pSourceAlgorithm.toSchema()]})),new C({value:e})}toJSON(){const e={};return this.hashAlgorithm.isEqual(us.defaultValues(ui))||(e.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(us.defaultValues(hi))||(e.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.pSourceAlgorithm.isEqual(us.defaultValues(fi))||(e.pSourceAlgorithm=this.pSourceAlgorithm.toJSON()),e}}us.CLASS_NAME="RSAESOAEPParams";const Fl="keyInfo",di="entityUInfo",Kl="suppPubInfo",nV=[Fl,di,Kl];class ir extends Q{constructor(e={}){super(),this.keyInfo=d(e,Fl,ir.defaultValues(Fl)),di in e&&(this.entityUInfo=d(e,di,ir.defaultValues(di))),this.suppPubInfo=d(e,Kl,ir.defaultValues(Kl)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Fl:return new K;case di:return new ee;case Kl:return new ee;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Fl:case di:case Kl:return t.isEqual(ir.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[K.schema(t.keyInfo||{}),new P({name:t.entityUInfo||w,idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[new ee]}),new P({name:t.suppPubInfo||w,idBlock:{tagClass:3,tagNumber:2},value:[new ee]})]})}fromSchema(e){Z(e,nV);const t=X(e,e,ir.schema({names:{keyInfo:{names:{blockName:Fl}},entityUInfo:di,suppPubInfo:Kl}}));G.assertSchema(t,this.className),this.keyInfo=new K({schema:t.result.keyInfo}),di in t.result&&(this.entityUInfo=t.result.entityUInfo.valueBlock.value[0]),this.suppPubInfo=t.result.suppPubInfo.valueBlock.value[0]}toSchema(){const e=[];return e.push(this.keyInfo.toSchema()),this.entityUInfo&&e.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[this.entityUInfo]})),e.push(new P({idBlock:{tagClass:3,tagNumber:2},value:[this.suppPubInfo]})),new C({value:e})}toJSON(){const e={keyInfo:this.keyInfo.toJSON(),suppPubInfo:this.suppPubInfo.toJSON()};return this.entityUInfo&&(e.entityUInfo=this.entityUInfo.toJSON()),e}}ir.CLASS_NAME="ECCCMSSharedInfo";const jl="version",mi="originatorInfo",Jl="recipientInfos",Wl="encryptedContentInfo",gi="unprotectedAttrs",rV=[jl,mi,Jl,Wl,gi],T0={kdfAlgorithm:"SHA-512",kekEncryptionLength:256},iV={"P-256":256,"P-384":384,"P-521":528};class rn extends Q{constructor(e={}){super(),this.version=d(e,jl,rn.defaultValues(jl)),mi in e&&(this.originatorInfo=d(e,mi,rn.defaultValues(mi))),this.recipientInfos=d(e,Jl,rn.defaultValues(Jl)),this.encryptedContentInfo=d(e,Wl,rn.defaultValues(Wl)),gi in e&&(this.unprotectedAttrs=d(e,gi,rn.defaultValues(gi))),this.policy={disableSplit:!!e.disableSplit},e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case jl:return 0;case mi:return new No;case Jl:return[];case Wl:return new bt;case gi:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case jl:return t===rn.defaultValues(e);case mi:return t.certs.certificates.length===0&&t.crls.crls.length===0;case Jl:case gi:return t.length===0;case Wl:return bt.compareWithDefault("contentType",t.contentType)&&bt.compareWithDefault("contentEncryptionAlgorithm",t.contentEncryptionAlgorithm)&&bt.compareWithDefault("encryptedContent",t.encryptedContent);default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new M({name:t.version||w}),new P({name:t.originatorInfo||w,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:No.schema().valueBlock.value}),new St({value:[new _e({name:t.recipientInfos||w,value:Js.schema()})]}),bt.schema(t.encryptedContentInfo||{}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new _e({name:t.unprotectedAttrs||w,value:tt.schema()})]})]})}fromSchema(e){Z(e,rV);const t=X(e,e,rn.schema({names:{version:jl,originatorInfo:mi,recipientInfos:Jl,encryptedContentInfo:{names:{blockName:Wl}},unprotectedAttrs:gi}}));G.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,mi in t.result&&(this.originatorInfo=new No({schema:new C({value:t.result.originatorInfo.valueBlock.value})})),this.recipientInfos=Array.from(t.result.recipientInfos,n=>new Js({schema:n})),this.encryptedContentInfo=new bt({schema:t.result.encryptedContentInfo}),gi in t.result&&(this.unprotectedAttrs=Array.from(t.result.unprotectedAttrs,n=>new tt({schema:n})))}toSchema(){const e=[];return e.push(new M({value:this.version})),this.originatorInfo&&e.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:this.originatorInfo.toSchema().valueBlock.value})),e.push(new St({value:Array.from(this.recipientInfos,t=>t.toSchema())})),e.push(this.encryptedContentInfo.toSchema()),this.unprotectedAttrs&&e.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.unprotectedAttrs,t=>t.toSchema())})),new C({value:e})}toJSON(){const e={version:this.version,recipientInfos:Array.from(this.recipientInfos,t=>t.toJSON()),encryptedContentInfo:this.encryptedContentInfo.toJSON()};return this.originatorInfo&&(e.originatorInfo=this.originatorInfo.toJSON()),this.unprotectedAttrs&&(e.unprotectedAttrs=Array.from(this.unprotectedAttrs,t=>t.toJSON())),e}addRecipientByCertificate(e,t,n,r=Ie(!0)){const i=Object.assign({useOAEP:!0,oaepHashAlgorithm:"SHA-512"},T0,t||{});if(e.subjectPublicKeyInfo.algorithm.algorithmId.indexOf("1.2.840.113549")!==-1)n=1;else if(e.subjectPublicKeyInfo.algorithm.algorithmId.indexOf("1.2.840.10045")!==-1)n=2;else throw new Error(`Unknown type of certificate's public key: ${e.subjectPublicKeyInfo.algorithm.algorithmId}`);switch(n){case 1:{let a,o;if(i.useOAEP===!0){a=r.getOIDByAlgorithm({name:"RSA-OAEP"},!0,"keyEncryptionAlgorithm");const u=r.getOIDByAlgorithm({name:i.oaepHashAlgorithm},!0,"RSAES-OAEP-params"),c=new K({algorithmId:u,algorithmParams:new pt});o=new us({hashAlgorithm:c,maskGenAlgorithm:new K({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:c.toSchema()})}).toSchema()}else{if(a=r.getOIDByAlgorithm({name:"RSAES-PKCS1-v1_5"}),a===w)throw new Error("Can not find OID for RSAES-PKCS1-v1_5");o=new pt}const l=new _s({version:0,rid:new Rt({issuer:e.issuer,serialNumber:e.serialNumber}),keyEncryptionAlgorithm:new K({algorithmId:a,algorithmParams:o}),recipientCertificate:e});this.recipientInfos.push(new Js({variant:1,value:l}))}break;case 2:{const a=new Vn({variant:1,value:new Rt({issuer:e.issuer,serialNumber:e.serialNumber})});this._addKeyAgreeRecipientInfo(a,i,{recipientCertificate:e},r)}break;default:throw new Error(`Unknown "variant" value: ${n}`)}return!0}addRecipientByPreDefinedData(e,t={},n,r=Ie(!0)){if(We.assert(e,"preDefinedData","ArrayBuffer"),!e.byteLength)throw new Error("Pre-defined data could have zero length");if(!t.keyIdentifier){const i=new ArrayBuffer(16),a=new Uint8Array(i);r.getRandomValues(a),t.keyIdentifier=i}switch(t.hmacHashAlgorithm||(t.hmacHashAlgorithm="SHA-512"),t.iterationCount===void 0&&(t.iterationCount=2048),t.keyEncryptionAlgorithm||(t.keyEncryptionAlgorithm={name:"AES-KW",length:256}),t.keyEncryptionAlgorithmParams||(t.keyEncryptionAlgorithmParams=new pt),n){case 1:{const i=r.getOIDByAlgorithm(t.keyEncryptionAlgorithm,!0,"keyEncryptionAlgorithm"),a=new xs({version:4,kekid:new ln({keyIdentifier:new ee({valueHex:t.keyIdentifier})}),keyEncryptionAlgorithm:new K({algorithmId:i,algorithmParams:t.keyEncryptionAlgorithmParams}),preDefinedKEK:e});this.recipientInfos.push(new Js({variant:3,value:a}))}break;case 2:{const i=r.getOIDByAlgorithm({name:"PBKDF2"},!0,"keyDerivationAlgorithm"),a=new ArrayBuffer(64),o=new Uint8Array(a);r.getRandomValues(o);const l=r.getOIDByAlgorithm({name:"HMAC",hash:{name:t.hmacHashAlgorithm}},!0,"hmacHashAlgorithm"),u=new es({salt:new ee({valueHex:a}),iterationCount:t.iterationCount,prf:new K({algorithmId:l,algorithmParams:new pt})}),c=r.getOIDByAlgorithm(t.keyEncryptionAlgorithm,!0,"keyEncryptionAlgorithm"),h=new Ks({version:0,keyDerivationAlgorithm:new K({algorithmId:i,algorithmParams:u.toSchema()}),keyEncryptionAlgorithm:new K({algorithmId:c,algorithmParams:t.keyEncryptionAlgorithmParams}),password:e});this.recipientInfos.push(new Js({variant:4,value:h}))}break;default:throw new Error(`Unknown value for "variant": ${n}`)}}addRecipientByKeyIdentifier(e,t,n,r=Ie(!0)){const i=Object.assign({},T0,n||{}),a=new Vn({variant:2,value:new _n({subjectKeyIdentifier:new ee({valueHex:t})})});this._addKeyAgreeRecipientInfo(a,i,{recipientPublicKey:e},r)}_addKeyAgreeRecipientInfo(e,t,n,r=Ie(!0)){const i=new mr({rid:e}),a=r.getOIDByAlgorithm({name:"AES-KW",length:t.kekEncryptionLength},!0,"keyEncryptionAlgorithm"),o=new K({algorithmId:a}),l=r.getOIDByAlgorithm({name:"ECDH",kdf:t.kdfAlgorithm},!0,"KeyAgreeRecipientInfo"),u=new ArrayBuffer(64),c=new Uint8Array(u);r.getRandomValues(c);const h={version:3,ukm:new ee({valueHex:u}),keyEncryptionAlgorithm:new K({algorithmId:l,algorithmParams:o.toSchema()}),recipientEncryptedKeys:new ji({encryptedKeys:[i]})},f=new vs(Object.assign(h,n));this.recipientInfos.push(new Js({variant:2,value:f}))}async encrypt(e,t,n=Ie(!0)){const r=new ArrayBuffer(16),i=new Uint8Array(r);n.getRandomValues(i);const a=new Uint8Array(t),o=n.getOIDByAlgorithm(e,!0,"contentEncryptionAlgorithm"),l=await n.generateKey(e,!0,["encrypt"]),u=await n.encrypt({name:e.name,iv:i},l,a),c=await n.exportKey("raw",l);this.version=2,this.encryptedContentInfo=new bt({disableSplit:this.policy.disableSplit,contentType:"1.2.840.113549.1.7.1",contentEncryptionAlgorithm:new K({algorithmId:o,algorithmParams:new ee({valueHex:r})}),encryptedContent:new ee({valueHex:u})});const h=async k=>{const x=this.recipientInfos[k].value;let R,g;if(x.recipientPublicKey)R=x.recipientPublicKey.algorithm.namedCurve,g=x.recipientPublicKey;else if(x.recipientCertificate){const de=x.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;if(de.constructor.blockName()!==ue.blockName())throw new Error(`Incorrect "recipientCertificate" for index ${k}`);switch(de.valueBlock.toString()){case"1.2.840.10045.3.1.7":R="P-256";break;case"1.3.132.0.34":R="P-384";break;case"1.3.132.0.35":R="P-521";break;default:throw new Error(`Incorrect curve OID for index ${k}`)}g=await x.recipientCertificate.getPublicKey({algorithm:{algorithm:{name:"ECDH",namedCurve:R},usages:[]}},n)}else throw new Error("Unsupported RecipientInfo");const v=iV[R],N=await n.generateKey({name:"ECDH",namedCurve:R},!0,["deriveBits"]),_=await n.exportKey("spki",N.publicKey),H=await n.deriveBits({name:"ECDH",public:g},N.privateKey,v),F=new K({schema:x.keyEncryptionAlgorithm.algorithmParams}),j=n.getAlgorithmByOID(F.algorithmId,!0,"aesKWAlgorithm");let se=j.length;const L=new ArrayBuffer(4),$=new Uint8Array(L);for(let de=3;de>=0;de--)$[de]=se,se>>=8;const we=new ir({keyInfo:new K({algorithmId:F.algorithmId}),entityUInfo:x.ukm,suppPubInfo:new ee({valueHex:L})}).toSchema().toBER(!1),he=n.getAlgorithmByOID(x.keyEncryptionAlgorithm.algorithmId,!0,"ecdhAlgorithm"),oe=await y0(he.kdf,H,j.length,we,n),ge=await n.importKey("raw",oe,{name:"AES-KW"},!0,["wrapKey"]),z=await n.wrapKey("raw",l,ge,{name:"AES-KW"}),be=new vr;return be.variant=3,be.value=dr.fromBER(_),x.originator=be,x.recipientEncryptedKeys.encryptedKeys[0].encryptedKey=new ee({valueHex:z}),{ecdhPrivateKey:N.privateKey}},f=async k=>{const x=this.recipientInfos[k].value,R=n.getAlgorithmByOID(x.keyEncryptionAlgorithm.algorithmId,!0,"keyEncryptionAlgorithm");if(R.name==="RSA-OAEP"){const g=x.keyEncryptionAlgorithm.algorithmParams,v=new us({schema:g});if(R.hash=n.getAlgorithmByOID(v.hashAlgorithm.algorithmId),!("name"in R.hash))throw new Error(`Incorrect OID for hash algorithm: ${v.hashAlgorithm.algorithmId}`)}try{const g=await x.recipientCertificate.getPublicKey({algorithm:{algorithm:R,usages:["encrypt","wrapKey"]}},n),v=await n.encrypt(g.algorithm,g,c);x.encryptedKey=new ee({valueHex:v})}catch{}},m=async k=>{const x=this.recipientInfos[k].value,R=n.getAlgorithmByOID(x.keyEncryptionAlgorithm.algorithmId,!0,"kekAlgorithm"),g=await n.importKey("raw",new Uint8Array(x.preDefinedKEK),R,!0,["wrapKey"]),v=await n.wrapKey("raw",l,g,R);x.encryptedKey=new ee({valueHex:v})},b=async k=>{const x=this.recipientInfos[k].value;let R;if(!x.keyDerivationAlgorithm)throw new Error('Please append encoded "keyDerivationAlgorithm"');if(!x.keyDerivationAlgorithm.algorithmParams)throw new Error('Incorrectly encoded "keyDerivationAlgorithm"');try{R=new es({schema:x.keyDerivationAlgorithm.algorithmParams})}catch{throw new Error('Incorrectly encoded "keyDerivationAlgorithm"')}const g=new Uint8Array(x.password),v=await n.importKey("raw",g,"PBKDF2",!1,["deriveKey"]),N=n.getAlgorithmByOID(x.keyEncryptionAlgorithm.algorithmId,!0,"kekAlgorithm");let _="SHA-1";R.prf&&(_=n.getAlgorithmByOID(R.prf.algorithmId,!0,"prfAlgorithm").hash.name);const H=new Uint8Array(R.salt.valueBlock.valueHex),F=R.iterationCount,j=await n.deriveKey({name:"PBKDF2",hash:{name:_},salt:H,iterations:F},v,N,!0,["wrapKey"]),se=await n.wrapKey("raw",l,j,N);x.encryptedKey=new ee({valueHex:se})},A=[];for(let k=0;k<this.recipientInfos.length;k++)switch(this.recipientInfos[k].variant){case 1:A.push(await f(k));break;case 2:A.push(await h(k));break;case 3:A.push(await m(k));break;case 4:A.push(await b(k));break;default:throw new Error(`Unknown recipient type in array with index ${k}`)}return A}async decrypt(e,t,n=Ie(!0)){const r=t||{};if(e+1>this.recipientInfos.length)throw new Error(`Maximum value for "index" is: ${this.recipientInfos.length-1}`);const i=async A=>{const k=this.recipientInfos[A].value;let x,R,g;const v=k.originator;if(r.recipientCertificate){const he=r.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;if(he.constructor.blockName()!==ue.blockName())throw new Error(`Incorrect "recipientCertificate" for index ${A}`);x=he.valueBlock.toString()}else if(v.value.algorithm.algorithmParams){const he=v.value.algorithm.algorithmParams;if(he.constructor.blockName()!==ue.blockName())throw new Error(`Incorrect originator for index ${A}`);x=he.valueBlock.toString()}else throw new Error('Parameter "recipientCertificate" is mandatory for "KeyAgreeRecipientInfo" if algorithm params are missing from originator');if(!r.recipientPrivateKey)throw new Error('Parameter "recipientPrivateKey" is mandatory for "KeyAgreeRecipientInfo"');switch(x){case"1.2.840.10045.3.1.7":R="P-256",g=256;break;case"1.3.132.0.34":R="P-384",g=384;break;case"1.3.132.0.35":R="P-521",g=528;break;default:throw new Error(`Incorrect curve OID for index ${A}`)}let N,_=n;Se.isBufferSource(r.recipientPrivateKey)?N=await n.importKey("pkcs8",r.recipientPrivateKey,{name:"ECDH",namedCurve:R},!0,["deriveBits"]):(N=r.recipientPrivateKey,"crypto"in r&&r.crypto&&(_=r.crypto.subtle)),"algorithmParams"in v.value.algorithm||(v.value.algorithm.algorithmParams=new ue({value:x}));const H=v.value.toSchema().toBER(!1),F=await n.importKey("spki",H,{name:"ECDH",namedCurve:R},!0,[]),j=await _.deriveBits({name:"ECDH",public:F},N,g);async function se(he){he=he||!1;const oe=new K({schema:k.keyEncryptionAlgorithm.algorithmParams}),ge=n.getAlgorithmByOID(oe.algorithmId,!0,"kwAlgorithm");let z=ge.length;const be=new ArrayBuffer(4),de=new Uint8Array(be);for(let rt=3;rt>=0;rt--)de[rt]=z,z>>=8;const fe={algorithmId:oe.algorithmId};he&&(fe.algorithmParams=new pt);const ae=new ir({keyInfo:new K(fe),entityUInfo:k.ukm,suppPubInfo:new ee({valueHex:be})}).toSchema().toBER(!1),Re=n.getAlgorithmByOID(k.keyEncryptionAlgorithm.algorithmId,!0,"ecdhAlgorithm");if(!Re.name)throw new Error(`Incorrect OID for key encryption algorithm: ${k.keyEncryptionAlgorithm.algorithmId}`);return y0(Re.kdf,j,ge.length,ae,n)}const L=await se(),$=async he=>n.importKey("raw",he,{name:"AES-KW"},!0,["unwrapKey"]),re=await $(L),we=async he=>{const oe=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,ge=n.getAlgorithmByOID(oe,!0,"contentEncryptionAlgorithm");return n.unwrapKey("raw",k.recipientEncryptedKeys.encryptedKeys[0].encryptedKey.valueBlock.valueHexView,he,{name:"AES-KW"},ge,!0,["decrypt"])};try{return await we(re)}catch{const he=await se(!0),oe=await $(he);return we(oe)}},a=async A=>{const k=this.recipientInfos[A].value;if(!r.recipientPrivateKey)throw new Error('Parameter "recipientPrivateKey" is mandatory for "KeyTransRecipientInfo"');const x=n.getAlgorithmByOID(k.keyEncryptionAlgorithm.algorithmId,!0,"keyEncryptionAlgorithm");if(x.name==="RSA-OAEP"){const H=k.keyEncryptionAlgorithm.algorithmParams,F=new us({schema:H});if(x.hash=n.getAlgorithmByOID(F.hashAlgorithm.algorithmId),!("name"in x.hash))throw new Error(`Incorrect OID for hash algorithm: ${F.hashAlgorithm.algorithmId}`)}let R,g=n;Se.isBufferSource(r.recipientPrivateKey)?R=await n.importKey("pkcs8",r.recipientPrivateKey,x,!0,["decrypt"]):(R=r.recipientPrivateKey,"crypto"in r&&r.crypto&&(g=r.crypto.subtle));const v=await g.decrypt(R.algorithm,R,k.encryptedKey.valueBlock.valueHexView),N=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,_=n.getAlgorithmByOID(N,!0,"contentEncryptionAlgorithm");if(!("name"in _))throw new Error(`Incorrect "contentEncryptionAlgorithm": ${N}`);return n.importKey("raw",v,_,!0,["decrypt"])},o=async A=>{const k=this.recipientInfos[A].value;if(!r.preDefinedData)throw new Error('Parameter "preDefinedData" is mandatory for "KEKRecipientInfo"');const x=n.getAlgorithmByOID(k.keyEncryptionAlgorithm.algorithmId,!0,"kekAlgorithm"),R=await n.importKey("raw",r.preDefinedData,x,!0,["unwrapKey"]),g=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,v=n.getAlgorithmByOID(g,!0,"contentEncryptionAlgorithm");if(!v.name)throw new Error(`Incorrect "contentEncryptionAlgorithm": ${g}`);return n.unwrapKey("raw",k.encryptedKey.valueBlock.valueHexView,R,x,v,!0,["decrypt"])},l=async A=>{const k=this.recipientInfos[A].value;let x;if(!r.preDefinedData)throw new Error('Parameter "preDefinedData" is mandatory for "KEKRecipientInfo"');if(!k.keyDerivationAlgorithm)throw new Error('Please append encoded "keyDerivationAlgorithm"');if(!k.keyDerivationAlgorithm.algorithmParams)throw new Error('Incorrectly encoded "keyDerivationAlgorithm"');try{x=new es({schema:k.keyDerivationAlgorithm.algorithmParams})}catch{throw new Error('Incorrectly encoded "keyDerivationAlgorithm"')}const R=await n.importKey("raw",r.preDefinedData,"PBKDF2",!1,["deriveKey"]),g=n.getAlgorithmByOID(k.keyEncryptionAlgorithm.algorithmId,!0,"keyEncryptionAlgorithm"),v=x.prf?n.getAlgorithmByOID(x.prf.algorithmId,!0,"prfAlgorithm").hash.name:"SHA-1",N=new Uint8Array(x.salt.valueBlock.valueHex),_=x.iterationCount,H=await n.deriveKey({name:"PBKDF2",hash:{name:v},salt:N,iterations:_},R,g,!0,["unwrapKey"]),F=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,j=n.getAlgorithmByOID(F,!0,"contentEncryptionAlgorithm");return n.unwrapKey("raw",k.encryptedKey.valueBlock.valueHexView,H,g,j,!0,["decrypt"])};let u;switch(this.recipientInfos[e].variant){case 1:u=await a(e);break;case 2:u=await i(e);break;case 3:u=await o(e);break;case 4:u=await l(e);break;default:throw new Error(`Unknown recipient type in array with index ${e}`)}const c=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,h=n.getAlgorithmByOID(c,!0,"contentEncryptionAlgorithm"),f=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams.valueBlock.valueHex,m=new Uint8Array(f);if(!this.encryptedContentInfo.encryptedContent)throw new Error("Required property `encryptedContent` is empty");const b=this.encryptedContentInfo.getEncryptedContent();return n.decrypt({name:h.name,iv:m},u,b)}}rn.CLASS_NAME="EnvelopedData";const Yo="safeContents",Au="parsedValue",R0="contentInfos";class Io extends Q{constructor(e={}){super(),this.safeContents=d(e,Yo,Io.defaultValues(Yo)),Au in e&&(this.parsedValue=d(e,Au,Io.defaultValues(Au))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Yo:return[];case Au:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Yo:return t.length===0;case Au:return t instanceof Object&&Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new _e({name:t.contentInfos||w,value:Ze.schema()})]})}fromSchema(e){Z(e,[R0]);const t=X(e,e,Io.schema({names:{contentInfos:R0}}));G.assertSchema(t,this.className),this.safeContents=Array.from(t.result.contentInfos,n=>new Ze({schema:n}))}toSchema(){return new C({value:Array.from(this.safeContents,e=>e.toSchema())})}toJSON(){return{safeContents:Array.from(this.safeContents,e=>e.toJSON())}}async parseInternalValues(e,t=Ie(!0)){if(Le.assert(e,Yo),We.assert(e.safeContents,Yo,"Array"),e.safeContents.length!==this.safeContents.length)throw new We('Length of "parameters.safeContents" must be equal to "this.safeContents.length"');this.parsedValue={safeContents:[]};for(const[n,r]of this.safeContents.entries()){const i=e.safeContents[n],a=`parameters.safeContents[${n}]`;switch(r.contentType){case sv:{We.assert(r.content,"this.safeContents[j].content",ee);const o=r.content.getValue();this.parsedValue.safeContents.push({privacyMode:0,value:fr.fromBER(o)})}break;case Xk:{const o=new rn({schema:r.content});Le.assert(a,i,"recipientCertificate","recipientKey");const l=i,u=l.recipientCertificate,c=l.recipientKey,h=await o.decrypt(0,{recipientCertificate:u,recipientPrivateKey:c},t);this.parsedValue.safeContents.push({privacyMode:2,value:fr.fromBER(h)})}break;case Qk:{const o=new Tn({schema:r.content});Le.assert(a,i,"password");const l=i.password,u=await o.decrypt({password:l},t);this.parsedValue.safeContents.push({privacyMode:1,value:fr.fromBER(u)})}break;default:throw new Error(`Unknown "contentType" for AuthenticatedSafe: " ${r.contentType}`)}}}async makeInternalValues(e,t=Ie(!0)){if(!this.parsedValue)throw new Error('Please run "parseValues" first or add "parsedValue" manually');if(We.assert(this.parsedValue,"this.parsedValue","object"),We.assert(this.parsedValue.safeContents,"this.parsedValue.safeContents","Array"),We.assert(e,"parameters","object"),Le.assert(e,"safeContents"),We.assert(e.safeContents,"parameters.safeContents","Array"),e.safeContents.length!==this.parsedValue.safeContents.length)throw new We('Length of "parameters.safeContents" must be equal to "this.parsedValue.safeContents"');this.safeContents=[];for(const[n,r]of this.parsedValue.safeContents.entries())switch(Le.assert("content",r,"privacyMode","value"),We.assert(r.value,"content.value",fr),r.privacyMode){case 0:{const i=r.value.toSchema().toBER(!1);this.safeContents.push(new Ze({contentType:"1.2.840.113549.1.7.1",content:new ee({valueHex:i})}))}break;case 1:{const i=new Tn,a=e.safeContents[n];a.contentToEncrypt=r.value.toSchema().toBER(!1),await i.encrypt(a,t),this.safeContents.push(new Ze({contentType:"1.2.840.113549.1.7.6",content:i.toSchema()}))}break;case 2:{const i=new rn,a=r.value.toSchema().toBER(!1),o=e.safeContents[n];switch(Le.assert(`parameters.safeContents[${n}]`,o,"encryptingCertificate","encryptionAlgorithm"),!0){case o.encryptionAlgorithm.name.toLowerCase()==="aes-cbc":case o.encryptionAlgorithm.name.toLowerCase()==="aes-gcm":break;default:throw new Error(`Incorrect parameter "encryptionAlgorithm" in "parameters.safeContents[i]": ${o.encryptionAlgorithm}`)}switch(!0){case o.encryptionAlgorithm.length===128:case o.encryptionAlgorithm.length===192:case o.encryptionAlgorithm.length===256:break;default:throw new Error(`Incorrect parameter "encryptionAlgorithm.length" in "parameters.safeContents[i]": ${o.encryptionAlgorithm.length}`)}const l=o.encryptionAlgorithm;i.addRecipientByCertificate(o.encryptingCertificate,{},void 0,t),await i.encrypt(l,a,t),this.safeContents.push(new Ze({contentType:"1.2.840.113549.1.7.3",content:i.toSchema()}))}break;default:throw new Error(`Incorrect value for "content.privacyMode": ${r.privacyMode}`)}return this}}Io.CLASS_NAME="AuthenticatedSafe";const Ga="hashAlgorithm",ql="issuerNameHash",Gl="issuerKeyHash",Ya="serialNumber",aV=[Ga,ql,Gl,Ya];class _t extends Q{static async create(e,t,n=Ie(!0)){const r=new _t;return await r.createForCertificate(e,t,n),r}constructor(e={}){super(),this.hashAlgorithm=d(e,Ga,_t.defaultValues(Ga)),this.issuerNameHash=d(e,ql,_t.defaultValues(ql)),this.issuerKeyHash=d(e,Gl,_t.defaultValues(Gl)),this.serialNumber=d(e,Ya,_t.defaultValues(Ya)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ga:return new K;case ql:case Gl:return new ee;case Ya:return new M;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Ga:return t.algorithmId===w&&!("algorithmParams"in t);case ql:case Gl:case Ya:return t.isEqual(_t.defaultValues(Ya));default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[K.schema(t.hashAlgorithmObject||{names:{blockName:t.hashAlgorithm||w}}),new ee({name:t.issuerNameHash||w}),new ee({name:t.issuerKeyHash||w}),new M({name:t.serialNumber||w})]})}fromSchema(e){Z(e,aV);const t=X(e,e,_t.schema({names:{hashAlgorithm:Ga,issuerNameHash:ql,issuerKeyHash:Gl,serialNumber:Ya}}));G.assertSchema(t,this.className),this.hashAlgorithm=new K({schema:t.result.hashAlgorithm}),this.issuerNameHash=t.result.issuerNameHash,this.issuerKeyHash=t.result.issuerKeyHash,this.serialNumber=t.result.serialNumber}toSchema(){return new C({value:[this.hashAlgorithm.toSchema(),this.issuerNameHash,this.issuerKeyHash,this.serialNumber]})}toJSON(){return{hashAlgorithm:this.hashAlgorithm.toJSON(),issuerNameHash:this.issuerNameHash.toJSON(),issuerKeyHash:this.issuerKeyHash.toJSON(),serialNumber:this.serialNumber.toJSON()}}isEqual(e){return!(this.hashAlgorithm.algorithmId!==e.hashAlgorithm.algorithmId||!Se.isEqual(this.issuerNameHash.valueBlock.valueHexView,e.issuerNameHash.valueBlock.valueHexView)||!Se.isEqual(this.issuerKeyHash.valueBlock.valueHexView,e.issuerKeyHash.valueBlock.valueHexView)||!this.serialNumber.isEqual(e.serialNumber))}async createForCertificate(e,t,n=Ie(!0)){Le.assert(t,Ga,"issuerCertificate");const r=n.getOIDByAlgorithm({name:t.hashAlgorithm},!0,"hashAlgorithm");this.hashAlgorithm=new K({algorithmId:r,algorithmParams:new pt});const i=t.issuerCertificate;this.serialNumber=e.serialNumber;const a=await n.digest({name:t.hashAlgorithm},i.subject.toSchema().toBER(!1));this.issuerNameHash=new ee({valueHex:a});const o=i.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView,l=await n.digest({name:t.hashAlgorithm},o);this.issuerKeyHash=new ee({valueHex:l})}}_t.CLASS_NAME="CertID";const Yl="certID",Xl="certStatus",Ql="thisUpdate",pi="nextUpdate",Xa="singleExtensions",oV=[Yl,Xl,Ql,pi,Xa];class an extends Q{constructor(e={}){super(),this.certID=d(e,Yl,an.defaultValues(Yl)),this.certStatus=d(e,Xl,an.defaultValues(Xl)),this.thisUpdate=d(e,Ql,an.defaultValues(Ql)),pi in e&&(this.nextUpdate=d(e,pi,an.defaultValues(pi))),Xa in e&&(this.singleExtensions=d(e,Xa,an.defaultValues(Xa))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Yl:return new _t;case Xl:return{};case Ql:case pi:return new Date(0,0,0);case Xa:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Yl:return _t.compareWithDefault("hashAlgorithm",t.hashAlgorithm)&&_t.compareWithDefault("issuerNameHash",t.issuerNameHash)&&_t.compareWithDefault("issuerKeyHash",t.issuerKeyHash)&&_t.compareWithDefault("serialNumber",t.serialNumber);case Xl:return Object.keys(t).length===0;case Ql:case pi:return t===an.defaultValues(e);default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[_t.schema(t.certID||{}),new lt({value:[new ke({name:t.certStatus||w,idBlock:{tagClass:3,tagNumber:0}}),new P({name:t.certStatus||w,idBlock:{tagClass:3,tagNumber:1},value:[new ot,new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ji]})]}),new ke({name:t.certStatus||w,idBlock:{tagClass:3,tagNumber:2},lenBlock:{length:1}})]}),new ot({name:t.thisUpdate||w}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new ot({name:t.nextUpdate||w})]}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[ct.schema(t.singleExtensions||{})]})]})}fromSchema(e){Z(e,oV);const t=X(e,e,an.schema({names:{certID:{names:{blockName:Yl}},certStatus:Xl,thisUpdate:Ql,nextUpdate:pi,singleExtensions:{names:{blockName:Xa}}}}));G.assertSchema(t,this.className),this.certID=new _t({schema:t.result.certID}),this.certStatus=t.result.certStatus,this.thisUpdate=t.result.thisUpdate.toDate(),pi in t.result&&(this.nextUpdate=t.result.nextUpdate.toDate()),Xa in t.result&&(this.singleExtensions=Array.from(t.result.singleExtensions.valueBlock.value,n=>new Fe({schema:n})))}toSchema(){const e=[];return e.push(this.certID.toSchema()),e.push(this.certStatus),e.push(new ot({valueDate:this.thisUpdate})),this.nextUpdate&&e.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[new ot({valueDate:this.nextUpdate})]})),this.singleExtensions&&e.push(new C({value:Array.from(this.singleExtensions,t=>t.toSchema())})),new C({value:e})}toJSON(){const e={certID:this.certID.toJSON(),certStatus:this.certStatus.toJSON(),thisUpdate:this.thisUpdate};return this.nextUpdate&&(e.nextUpdate=this.nextUpdate),this.singleExtensions&&(e.singleExtensions=Array.from(this.singleExtensions,t=>t.toJSON())),e}}an.CLASS_NAME="SingleResponse";const Wd="tbs",Qa="version",nf="responderID",rf="producedAt",af="responses",zl="responseExtensions",Vo="ResponseData",cm=`${Vo}.${Qa}`,Zl=`${Vo}.${nf}`,Bw=`${Vo}.${rf}`,Tw=`${Vo}.${af}`,um=`${Vo}.${zl}`,lV=[Vo,cm,Zl,Bw,Tw,um];class Vt extends Q{get tbs(){return Se.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}constructor(e={}){super(),this.tbsView=new Uint8Array(d(e,Wd,Vt.defaultValues(Wd))),Qa in e&&(this.version=d(e,Qa,Vt.defaultValues(Qa))),this.responderID=d(e,nf,Vt.defaultValues(nf)),this.producedAt=d(e,rf,Vt.defaultValues(rf)),this.responses=d(e,af,Vt.defaultValues(af)),zl in e&&(this.responseExtensions=d(e,zl,Vt.defaultValues(zl))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Qa:return 0;case Wd:return Tt;case nf:return{};case rf:return new Date(0,0,0);case af:case zl:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Wd:return t.byteLength===0;case nf:return Object.keys(t).length===0;case rf:return t===Vt.defaultValues(e);case af:case zl:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||Vo,value:[new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new M({name:t.version||cm})]}),new lt({value:[new P({name:t.responderID||Zl,idBlock:{tagClass:3,tagNumber:1},value:[qe.schema(t.ResponseDataByName||{names:{blockName:"ResponseData.byName"}})]}),new P({name:t.responderID||Zl,idBlock:{tagClass:3,tagNumber:2},value:[new ee({name:t.ResponseDataByKey||"ResponseData.byKey"})]})]}),new ot({name:t.producedAt||Bw}),new C({value:[new _e({name:Tw,value:an.schema(t.response||{})})]}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[ct.schema(t.extensions||{names:{blockName:um}})]})]})}fromSchema(e){Z(e,lV);const t=X(e,e,Vt.schema());G.assertSchema(t,this.className),this.tbsView=t.result.ResponseData.valueBeforeDecodeView,cm in t.result&&(this.version=t.result[cm].valueBlock.valueDec),t.result[Zl].idBlock.tagNumber===1?this.responderID=new qe({schema:t.result[Zl].valueBlock.value[0]}):this.responderID=t.result[Zl].valueBlock.value[0],this.producedAt=t.result[Bw].toDate(),this.responses=Array.from(t.result[Tw],n=>new an({schema:n})),um in t.result&&(this.responseExtensions=Array.from(t.result[um].valueBlock.value,n=>new Fe({schema:n})))}toSchema(e=!1){let t;if(e===!1){if(!this.tbsView.byteLength)return Vt.schema();const n=kt(this.tbsView);G.assert(n,"TBS Response Data"),t=n.result}else{const n=[];Qa in this&&n.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[new M({value:this.version})]})),this.responderID instanceof qe?n.push(new P({idBlock:{tagClass:3,tagNumber:1},value:[this.responderID.toSchema()]})):n.push(new P({idBlock:{tagClass:3,tagNumber:2},value:[this.responderID]})),n.push(new ot({valueDate:this.producedAt})),n.push(new C({value:Array.from(this.responses,r=>r.toSchema())})),this.responseExtensions&&n.push(new P({idBlock:{tagClass:3,tagNumber:1},value:[new C({value:Array.from(this.responseExtensions,r=>r.toSchema())})]})),t=new C({value:n})}return t}toJSON(){const e={};return Qa in this&&(e.version=this.version),this.responderID&&(e.responderID=this.responderID),this.producedAt&&(e.producedAt=this.producedAt),this.responses&&(e.responses=Array.from(this.responses,t=>t.toJSON())),this.responseExtensions&&(e.responseExtensions=Array.from(this.responseExtensions,t=>t.toJSON())),e}}Vt.CLASS_NAME="ResponseData";const _p="trustedCerts",xp="certs",Bp="crls",Tp="ocsps",Rp="checkDate",Op="findOrigin",Pp="findIssuer";var lo;(function(s){s[s.unknown=-1]="unknown",s[s.success=0]="success",s[s.noRevocation=11]="noRevocation",s[s.noPath=60]="noPath",s[s.noValidPath=97]="noValidPath"})(lo||(lo={}));class Ti extends Error{constructor(e,t){super(t),this.name=Ti.NAME,this.code=e,this.message=t}}Ti.NAME="ChainValidationError";function cV(s,e){for(let t=0;t<e.length;t++)if(Se.isEqual(s.tbsView,e[t].tbsView))return!0;return!1}class Mg{constructor(e={}){this.trustedCerts=d(e,_p,this.defaultValues(_p)),this.certs=d(e,xp,this.defaultValues(xp)),this.crls=d(e,Bp,this.defaultValues(Bp)),this.ocsps=d(e,Tp,this.defaultValues(Tp)),this.checkDate=d(e,Rp,this.defaultValues(Rp)),this.findOrigin=d(e,Op,this.defaultValues(Op)),this.findIssuer=d(e,Pp,this.defaultValues(Pp))}static defaultFindOrigin(e,t){e.tbsView.byteLength===0&&(e.tbsView=new Uint8Array(e.encodeTBS().toBER()));for(const n of t.certs)if(n.tbsView.byteLength===0&&(n.tbsView=new Uint8Array(n.encodeTBS().toBER())),Se.isEqual(e.tbsView,n.tbsView))return"Intermediate Certificates";for(const n of t.trustedCerts)if(n.tbsView.byteLength===0&&(n.tbsView=new Uint8Array(n.encodeTBS().toBER())),Se.isEqual(e.tbsView,n.tbsView))return"Trusted Certificates";return"Unknown"}async defaultFindIssuer(e,t,n=Ie(!0)){const r=[];let i=null,a=null,o=null;if(e.subject.isEqual(e.issuer))try{if(await e.verify(void 0,n))return[e]}catch{}if(e.extensions){for(const u of e.extensions)if(u.extnID===ev&&u.parsedValue instanceof or){u.parsedValue.keyIdentifier?i=u.parsedValue.keyIdentifier:(u.parsedValue.authorityCertIssuer&&(a=u.parsedValue.authorityCertIssuer),u.parsedValue.authorityCertSerialNumber&&(o=u.parsedValue.authorityCertSerialNumber));break}}function l(u){if(i!==null&&u.extensions){let h=!1;for(const f of u.extensions)if(f.extnID===dO&&f.parsedValue){h=!0,Se.isEqual(f.parsedValue.valueBlock.valueHex,i.valueBlock.valueHexView)&&r.push(u);break}if(h)return}let c=!1;o!==null&&(c=u.serialNumber.isEqual(o)),a!==null?u.subject.isEqual(a)&&c&&r.push(u):e.issuer.isEqual(u.subject)&&r.push(u)}for(const u of t.trustedCerts)l(u);for(const u of t.certs)l(u);for(let u=r.length-1;u>=0;u--)try{await e.verify(r[u],n)===!1&&r.splice(u,1)}catch{r.splice(u,1)}return r}defaultValues(e){switch(e){case _p:return[];case xp:return[];case Bp:return[];case Tp:return[];case Rp:return new Date;case Op:return Mg.defaultFindOrigin;case Pp:return this.defaultFindIssuer;default:throw new Error(`Invalid member name for CertificateChainValidationEngine class: ${e}`)}}async sort(e=!1,t=Ie(!0)){const n=[],r=async(b,A)=>{const k=[];function x(g){let v=!0;for(let N=0;N<g.length;N++){for(let _=0;_<g.length;_++)if(_!==N&&g[N]===g[_]){v=!1;break}if(!v)break}return v}if(cV(b,this.trustedCerts))return[[b]];const R=await this.findIssuer(b,this,A);if(R.length===0)throw new Error("No valid certificate paths found");for(let g=0;g<R.length;g++){if(Se.isEqual(R[g].tbsView,b.tbsView)){k.push([R[g]]);continue}const v=await r(R[g],A);for(let N=0;N<v.length;N++){const _=v[N].slice();_.splice(0,0,R[g]),x(_)?k.push(_):k.push(v[N])}}return k},i=async b=>{const A=[],k=[],x=[];if(A.push(...n.filter(R=>b.issuer.isEqual(R.subject))),A.length===0)return{status:1,statusMessage:"No certificate's issuers"};if(k.push(...this.crls.filter(R=>R.issuer.isEqual(b.issuer))),k.length===0)return{status:2,statusMessage:"No CRLs for specific certificate issuer"};for(let R=0;R<k.length;R++){const g=k[R];if(!(g.nextUpdate&&g.nextUpdate.value<this.checkDate))for(let v=0;v<A.length;v++)try{if(await k[R].verify({issuerCertificate:A[v]},t)){x.push({crl:k[R],certificate:A[v]});break}}catch{}}return x.length?{status:0,statusMessage:w,result:x}:{status:3,statusMessage:"No valid CRLs found"}},a=async(b,A)=>{const k=t.getAlgorithmByOID(b.signatureAlgorithm.algorithmId);if(!k.name||!k.hash)return 1;for(let x=0;x<this.ocsps.length;x++){const g=await this.ocsps[x].getCertificateStatus(b,A,t);if(g.isForCertificate)return g.status===0?0:1}return 2};async function o(b,A=!1){let k=!1,x=!1,R=!1,g=!1;if(b.extensions){for(let v=0;v<b.extensions.length;v++){const N=b.extensions[v];if(N.critical&&!N.parsedValue)return{result:!1,resultCode:6,resultMessage:`Unable to parse critical certificate extension: ${N.extnID}`};if(N.extnID===mO){R=!0;const _=new Uint8Array(N.parsedValue.valueBlock.valueHex);(_[0]&4)===4&&(x=!0),(_[0]&2)===2&&(g=!0)}N.extnID===zy&&"cA"in N.parsedValue&&N.parsedValue.cA===!0&&(k=!0)}if(x===!0&&k===!1)return{result:!1,resultCode:3,resultMessage:'Unable to build certificate chain - using "keyCertSign" flag set without BasicConstraints'};if(R===!0&&k===!0&&x===!1)return{result:!1,resultCode:4,resultMessage:'Unable to build certificate chain - "keyCertSign" flag was not set'};if(k===!0&&R===!0&&A&&g===!1)return{result:!1,resultCode:5,resultMessage:'Unable to build certificate chain - intermediate certificate must have "cRLSign" key usage flag'}}return k===!1?{result:!1,resultCode:7,resultMessage:"Unable to build certificate chain - more than one possible end-user certificate"}:{result:!0,resultCode:0,resultMessage:w}}const l=async(b,A)=>{for(let k=0;k<b.length;k++)if(b[k].notBefore.value>A||b[k].notAfter.value<A)return{result:!1,resultCode:8,resultMessage:"The certificate is either not yet valid or expired"};if(b.length<2)return{result:!1,resultCode:9,resultMessage:"Too short certificate path"};for(let k=b.length-2;k>=0;k--)if(b[k].issuer.isEqual(b[k].subject)===!1&&b[k].issuer.isEqual(b[k+1].subject)===!1)return{result:!1,resultCode:10,resultMessage:"Incorrect name chaining"};if(this.crls.length!==0||this.ocsps.length!==0)for(let k=0;k<b.length-1;k++){let x=2,R={status:0,statusMessage:w};if(this.ocsps.length!==0)switch(x=await a(b[k],b[k+1]),x){case 0:continue;case 1:return{result:!1,resultCode:12,resultMessage:"One of certificates was revoked via OCSP response"}}if(this.crls.length!==0){if(R=await i(b[k]),R.status===0&&R.result)for(let g=0;g<R.result.length;g++){if(R.result[g].crl.isCertificateRevoked(b[k]))return{result:!1,resultCode:12,resultMessage:"One of certificates had been revoked"};if((await o(R.result[g].certificate,!0)).result===!1)return{result:!1,resultCode:13,resultMessage:"CRL issuer certificate is not a CA certificate or does not have crlSign flag"}}else if(e===!1)throw new Ti(lo.noRevocation,`No revocation values found for one of certificates: ${R.statusMessage}`)}else if(x===2)return{result:!1,resultCode:11,resultMessage:"No revocation values found for one of certificates"};if(x===2&&R.status===2&&e){const g=b[k+1];let v=!1;if(g.extensions)for(const N of g.extensions)switch(N.extnID){case Jk:case Zy:case tv:v=!0;break}if(v)throw new Ti(lo.noRevocation,`No revocation values found for one of certificates: ${R.statusMessage}`)}}for(const[k,x]of b.entries()){if(!k)continue;if(!(await o(x)).result)return{result:!1,resultCode:14,resultMessage:"One of intermediate certificates is not a CA certificate"}}return{result:!0}};n.push(...this.trustedCerts),n.push(...this.certs);for(let b=0;b<n.length;b++)for(let A=0;A<n.length;A++)if(b!==A&&Se.isEqual(n[b].tbsView,n[A].tbsView)){n.splice(A,1),b=0;break}const u=n[n.length-1];let c;const h=[u];if(c=await r(u,t),c.length===0)throw new Ti(lo.noPath,"Unable to find certificate path");for(let b=c.length-1;b>=0;b--){let A=!1;for(let k=0;k<c[b].length;k++){const x=c[b][k];for(let R=0;R<this.trustedCerts.length;R++)if(Se.isEqual(x.tbsView,this.trustedCerts[R].tbsView)){A=!0;break}if(A)break}A||c.splice(b,1)}if(c.length===0)throw new Ti(lo.noValidPath,"No valid certificate paths found");let f=c[0].length,m=0;for(let b=0;b<c.length;b++)c[b].length<f&&(f=c[b].length,m=b);for(let b=0;b<c[m].length;b++)h.push(c[m][b]);if(c=await l(h,this.checkDate),c.result===!1)throw c;return h}async verify(e={},t=Ie(!0)){function n(l,u){const c=Ni(l),h=Ni(u),f=c.split("."),m=h.split("."),b=f.length,A=m.length;if(b===0||A===0||b<A)return!1;for(let k=0;k<b;k++)if(f[k].length===0)return!1;for(let k=0;k<A;k++)if(m[k].length===0){if(k===0){if(A===1)return!1;continue}return!1}for(let k=0;k<A;k++)if(m[A-1-k].length!==0&&f[b-1-k].localeCompare(m[A-1-k])!==0)return!1;return!0}function r(l,u){const c=Ni(l),h=Ni(u),f=c.split("@"),m=h.split("@");if(f.length===0||m.length===0||f.length<m.length)return!1;if(m.length===1){if(n(f[1],m[0])){const A=f[1].split("."),k=m[0].split(".");return k[0].length===0?!0:A.length===k.length}return!1}return c.localeCompare(h)===0}function i(l,u){let c=Ni(l);const h=Ni(u),f=c.split("/");if(h.split("/").length>1)return!1;if(f.length>1){for(let A=0;A<f.length;A++)if(f[A].length>0&&f[A].charAt(f[A].length-1)!==":"){c=f[A].split(":")[0];break}}if(n(c,h)){const A=c.split("."),k=h.split(".");return k[0].length===0?!0:A.length===k.length}return!1}function a(l,u){const c=l.valueBlock.valueHexView,h=u.valueBlock.valueHexView;if(c.length===4&&h.length===8){for(let f=0;f<4;f++)if((c[f]^h[f])&h[f+4])return!1;return!0}if(c.length===16&&h.length===32){for(let f=0;f<16;f++)if((c[f]^h[f])&h[f+16])return!1;return!0}return!1}function o(l,u){if(l.typesAndValues.length===0||u.typesAndValues.length===0)return!0;if(l.typesAndValues.length<u.typesAndValues.length)return!1;let c=!0,h=0;for(let f=0;f<u.typesAndValues.length;f++){let m=!1;for(let b=h;b<l.typesAndValues.length;b++)if(m=l.typesAndValues[b].isEqual(u.typesAndValues[f]),l.typesAndValues[b].type===u.typesAndValues[f].type&&(c=c&&m),m===!0)if(h===0||h===b){h=b+1;break}else return!1;if(m===!1)return!1}return h===0?!1:c}try{if(this.certs.length===0)throw new Error("Empty certificate array");const l=e.passedWhenNotRevValues||!1,u=e.initialPolicySet||[Ms],c=e.initialExplicitPolicy||!1,h=e.initialPolicyMappingInhibit||!1,f=e.initialInhibitPolicy||!1,m=e.initialPermittedSubtreesSet||[],b=e.initialExcludedSubtreesSet||[],A=e.initialRequiredNameForms||[];let k=c,x=h,R=f;const g=[!1,!1,!1];let v=0,N=0,_=0,H=m,F=b;const j=A;let se=1;this.certs=await this.sort(l,t);const L=[];L.push(Ms);const $=[],re=new Array(this.certs.length-1);for(let de=0;de<this.certs.length-1;de++)re[de]=!0;$.push(re);const we=new Array(this.certs.length-1),he=new Array(this.certs.length-1);let oe=k?this.certs.length-1:-1;for(let de=this.certs.length-2;de>=0;de--,se++){const fe=this.certs[de];if(fe.extensions){for(let ce=0;ce<fe.extensions.length;ce++){const ae=fe.extensions[ce];if(ae.extnID===Wk){he[de]=ae.parsedValue;for(let Re=0;Re<L.length;Re++)if(L[Re]===Ms){delete $[Re][de];break}for(let Re=0;Re<ae.parsedValue.certificatePolicies.length;Re++){let rt=-1;const it=ae.parsedValue.certificatePolicies[Re].policyIdentifier;for(let Ke=0;Ke<L.length;Ke++)if(it===L[Ke]){rt=Ke;break}if(rt===-1){L.push(it);const Ke=new Array(this.certs.length-1);Ke[de]=!0,$.push(Ke)}else $[rt][de]=!0}}if(ae.extnID===qk){if(x)return{result:!1,resultCode:98,resultMessage:"Policy mapping prohibited"};we[de]=ae.parsedValue}ae.extnID===Gk&&k===!1&&(ae.parsedValue.requireExplicitPolicy===0?(k=!0,oe=de):g[0]===!1?(g[0]=!0,v=ae.parsedValue.requireExplicitPolicy):v=v>ae.parsedValue.requireExplicitPolicy?ae.parsedValue.requireExplicitPolicy:v,ae.parsedValue.inhibitPolicyMapping===0?x=!0:g[1]===!1?(g[1]=!0,N=ae.parsedValue.inhibitPolicyMapping+1):N=N>ae.parsedValue.inhibitPolicyMapping+1?ae.parsedValue.inhibitPolicyMapping+1:N),ae.extnID===AO&&R===!1&&(ae.parsedValue.valueBlock.valueDec===0?R=!0:g[2]===!1?(g[2]=!0,_=ae.parsedValue.valueBlock.valueDec):_=_>ae.parsedValue.valueBlock.valueDec?ae.parsedValue.valueBlock.valueDec:_)}if(R===!0){let ce=-1;for(let ae=0;ae<L.length;ae++)if(L[ae]===Ms){ce=ae;break}ce!==-1&&delete $[0][de]}k===!1&&g[0]===!0&&(v--,v===0&&(k=!0,oe=de,g[0]=!1)),x===!1&&g[1]===!0&&(N--,N===0&&(x=!0,g[1]=!1)),R===!1&&g[2]===!0&&(_--,_===0&&(R=!0,g[2]=!1))}}for(let de=0;de<this.certs.length-1;de++)if(de<this.certs.length-2&&typeof we[de+1]<"u")for(let fe=0;fe<we[de+1].mappings.length;fe++){if(we[de+1].mappings[fe].issuerDomainPolicy===Ms||we[de+1].mappings[fe].subjectDomainPolicy===Ms)return{result:!1,resultCode:99,resultMessage:'The "anyPolicy" should not be a part of policy mapping scheme'};let ce=-1,ae=-1;for(let Re=0;Re<L.length;Re++)L[Re]===we[de+1].mappings[fe].issuerDomainPolicy&&(ce=Re),L[Re]===we[de+1].mappings[fe].subjectDomainPolicy&&(ae=Re);typeof $[ce][de]<"u"&&delete $[ce][de];for(let Re=0;Re<he[de].certificatePolicies.length;Re++)if(we[de+1].mappings[fe].subjectDomainPolicy===he[de].certificatePolicies[Re].policyIdentifier&&ce!==-1&&ae!==-1)for(let rt=0;rt<=de;rt++)typeof $[ae][rt]<"u"&&($[ce][rt]=!0,delete $[ae][rt])}for(let de=0;de<L.length;de++)if(L[de]===Ms)for(let fe=0;fe<oe;fe++)delete $[de][fe];const ge=[];for(let de=0;de<$.length;de++){let fe=!0;for(let ce=0;ce<this.certs.length-1;ce++){let ae=!1;if(ce<oe&&L[de]===Ms&&L.length>1){fe=!1;break}if(typeof $[de][ce]>"u"){if(ce>=oe){for(let Re=0;Re<L.length;Re++)if(L[Re]===Ms){$[Re][ce]===!0&&(ae=!0);break}}if(!ae){fe=!1;break}}}fe===!0&&ge.push(L[de])}let z=[];if(u.length===1&&u[0]===Ms&&k===!1)z=u;else if(ge.length===1&&ge[0]===Ms)z=u;else for(let de=0;de<ge.length;de++)for(let fe=0;fe<u.length;fe++)if(u[fe]===ge[de]||u[fe]===Ms){z.push(ge[de]);break}const be={result:z.length>0,resultCode:0,resultMessage:z.length>0?w:'Zero "userConstrPolicies" array, no intersections with "authConstrPolicies"',authConstrPolicies:ge,userConstrPolicies:z,explicitPolicyIndicator:k,policyMappings:we,certificatePath:this.certs};if(z.length===0||be.result===!1)return be;se=1;for(let de=this.certs.length-2;de>=0;de--,se++){const fe=this.certs[de];let ce=[],ae=[],Re=[];if(fe.extensions)for(let Te=0;Te<fe.extensions.length;Te++){const ie=fe.extensions[Te];ie.extnID===jk&&("permittedSubtrees"in ie.parsedValue&&(ae=ae.concat(ie.parsedValue.permittedSubtrees)),"excludedSubtrees"in ie.parsedValue&&(Re=Re.concat(ie.parsedValue.excludedSubtrees))),ie.extnID===Mk&&(ce=ce.concat(ie.parsedValue.altNames))}let rt=j.length<=0;for(let Te=0;Te<j.length;Te++)switch(j[Te].base.type){case 4:{if(j[Te].base.value.typesAndValues.length!==fe.subject.typesAndValues.length)continue;rt=!0;for(let ie=0;ie<fe.subject.typesAndValues.length;ie++)if(fe.subject.typesAndValues[ie].type!==j[Te].base.value.typesAndValues[ie].type){rt=!1;break}if(rt===!0)break}break;default:}if(rt===!1)throw be.result=!1,be.resultCode=21,be.resultMessage="No necessary name form found",be;const it=[[],[],[],[],[]];for(let Te=0;Te<H.length;Te++)switch(H[Te].base.type){case 1:it[0].push(H[Te]);break;case 2:it[1].push(H[Te]);break;case 4:it[2].push(H[Te]);break;case 6:it[3].push(H[Te]);break;case 7:it[4].push(H[Te]);break;default:}for(let Te=0;Te<5;Te++){let ie=!1,yt=!1;const Ht=it[Te];for(let Qe=0;Qe<Ht.length;Qe++){switch(Te){case 0:if(ce.length>0)for(let p=0;p<ce.length;p++)ce[p].type===1&&(yt=!0,ie=ie||r(ce[p].value,Ht[Qe].base.value));else for(let p=0;p<fe.subject.typesAndValues.length;p++)(fe.subject.typesAndValues[p].type==="1.2.840.113549.1.9.1"||fe.subject.typesAndValues[p].type==="0.9.2342.19200300.100.1.3")&&(yt=!0,ie=ie||r(fe.subject.typesAndValues[p].value.valueBlock.value,Ht[Qe].base.value));break;case 1:if(ce.length>0)for(let p=0;p<ce.length;p++)ce[p].type===2&&(yt=!0,ie=ie||n(ce[p].value,Ht[Qe].base.value));break;case 2:yt=!0,ie=o(fe.subject,Ht[Qe].base.value);break;case 3:if(ce.length>0)for(let p=0;p<ce.length;p++)ce[p].type===6&&(yt=!0,ie=ie||i(ce[p].value,Ht[Qe].base.value));break;case 4:if(ce.length>0)for(let p=0;p<ce.length;p++)ce[p].type===7&&(yt=!0,ie=ie||a(ce[p].value,Ht[Qe].base.value));break;default:}if(ie)break}if(ie===!1&&Ht.length>0&&yt)throw be.result=!1,be.resultCode=41,be.resultMessage='Failed to meet "permitted sub-trees" name constraint',be}let Ke=!1;for(let Te=0;Te<F.length;Te++){switch(F[Te].base.type){case 1:if(ce.length>=0)for(let ie=0;ie<ce.length;ie++)ce[ie].type===1&&(Ke=Ke||r(ce[ie].value,F[Te].base.value));else for(let ie=0;ie<fe.subject.typesAndValues.length;ie++)(fe.subject.typesAndValues[ie].type==="1.2.840.113549.1.9.1"||fe.subject.typesAndValues[ie].type==="0.9.2342.19200300.100.1.3")&&(Ke=Ke||r(fe.subject.typesAndValues[ie].value.valueBlock.value,F[Te].base.value));break;case 2:if(ce.length>0)for(let ie=0;ie<ce.length;ie++)ce[ie].type===2&&(Ke=Ke||n(ce[ie].value,F[Te].base.value));break;case 4:Ke=Ke||o(fe.subject,F[Te].base.value);break;case 6:if(ce.length>0)for(let ie=0;ie<ce.length;ie++)ce[ie].type===6&&(Ke=Ke||i(ce[ie].value,F[Te].base.value));break;case 7:if(ce.length>0)for(let ie=0;ie<ce.length;ie++)ce[ie].type===7&&(Ke=Ke||a(ce[ie].value,F[Te].base.value));break;default:}if(Ke)break}if(Ke===!0)throw be.result=!1,be.resultCode=42,be.resultMessage='Failed to meet "excluded sub-trees" name constraint',be;H=H.concat(ae),F=F.concat(Re)}return be}catch(l){return l instanceof Error?l instanceof Ti?{result:!1,resultCode:l.code,resultMessage:l.message,error:l}:{result:!1,resultCode:lo.unknown,resultMessage:l.message,error:l}:l&&typeof l=="object"&&"resultMessage"in l?l:{result:!1,resultCode:-1,resultMessage:`${l}`}}}}const hm="tbsResponseData",of="signatureAlgorithm",lf="signature",ec="certs",od="BasicOCSPResponse",Rw=`${od}.${hm}`,Ow=`${od}.${of}`,Pw=`${od}.${lf}`,fm=`${od}.${ec}`,uV=[Rw,Ow,Pw,fm];class Ws extends Q{constructor(e={}){super(),this.tbsResponseData=d(e,hm,Ws.defaultValues(hm)),this.signatureAlgorithm=d(e,of,Ws.defaultValues(of)),this.signature=d(e,lf,Ws.defaultValues(lf)),ec in e&&(this.certs=d(e,ec,Ws.defaultValues(ec))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case hm:return new Vt;case of:return new K;case lf:return new Oe;case ec:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case"type":{let n=Vt.compareWithDefault("tbs",t.tbs)&&Vt.compareWithDefault("responderID",t.responderID)&&Vt.compareWithDefault("producedAt",t.producedAt)&&Vt.compareWithDefault("responses",t.responses);return"responseExtensions"in t&&(n=n&&Vt.compareWithDefault("responseExtensions",t.responseExtensions)),n}case of:return t.algorithmId===w&&!("algorithmParams"in t);case lf:return t.isEqual(Ws.defaultValues(e));case ec:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||od,value:[Vt.schema(t.tbsResponseData||{names:{blockName:Rw}}),K.schema(t.signatureAlgorithm||{names:{blockName:Ow}}),new Oe({name:t.signature||Pw}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new C({value:[new _e({name:fm,value:Ue.schema(t.certs||{})})]})]})]})}fromSchema(e){Z(e,uV);const t=X(e,e,Ws.schema());G.assertSchema(t,this.className),this.tbsResponseData=new Vt({schema:t.result[Rw]}),this.signatureAlgorithm=new K({schema:t.result[Ow]}),this.signature=t.result[Pw],fm in t.result&&(this.certs=Array.from(t.result[fm],n=>new Ue({schema:n})))}toSchema(){const e=[];return e.push(this.tbsResponseData.toSchema()),e.push(this.signatureAlgorithm.toSchema()),e.push(this.signature),this.certs&&e.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[new C({value:Array.from(this.certs,t=>t.toSchema())})]})),new C({value:e})}toJSON(){const e={tbsResponseData:this.tbsResponseData.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return this.certs&&(e.certs=Array.from(this.certs,t=>t.toJSON())),e}async getCertificateStatus(e,t,n=Ie(!0)){const r={isForCertificate:!1,status:2},i={},a=[];for(const o of this.tbsResponseData.responses){const l=n.getAlgorithmByOID(o.certID.hashAlgorithm.algorithmId,!0,"CertID.hashAlgorithm");if(!i[l.name]){i[l.name]=1;const u=new _t;a.push(u),await u.createForCertificate(e,{hashAlgorithm:l.name,issuerCertificate:t},n)}}for(const o of this.tbsResponseData.responses)for(const l of a)if(o.certID.isEqual(l)){r.isForCertificate=!0;try{switch(o.certStatus.idBlock.isConstructed){case!0:o.certStatus.idBlock.tagNumber===1&&(r.status=1);break;case!1:switch(o.certStatus.idBlock.tagNumber){case 0:r.status=0;break;case 2:r.status=2;break;default:}break;default:}}catch{}return r}return r}async sign(e,t="SHA-1",n=Ie(!0)){if(!e)throw new Error("Need to provide a private key for signing");const r=await n.getSignatureParameters(e,t),i=r.parameters.algorithm;if(!("name"in i))throw new Error("Empty algorithm");this.signatureAlgorithm=r.signatureAlgorithm,this.tbsResponseData.tbsView=new Uint8Array(this.tbsResponseData.toSchema(!0).toBER());const a=await n.signWithPrivateKey(this.tbsResponseData.tbsView,e,{algorithm:i});this.signature=new Oe({valueHex:a})}async verify(e={},t=Ie(!0)){let n=null,r=-1;const i=e.trustedCerts||[];if(!this.certs)throw new Error("No certificates attached to the BasicOCSPResponse");switch(!0){case this.tbsResponseData.responderID instanceof qe:for(const[u,c]of this.certs.entries())if(c.subject.isEqual(this.tbsResponseData.responderID)){r=u;break}break;case this.tbsResponseData.responderID instanceof ee:for(const[u,c]of this.certs.entries()){const h=await t.digest({name:"sha-1"},c.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView);if(Qc(h,this.tbsResponseData.responderID.valueBlock.valueHex)){r=u;break}}break;default:throw new Error("Wrong value for responderID")}if(r===-1)throw new Error("Correct certificate was not found in OCSP response");n=this.certs[r];const a=[n];for(const u of this.certs){const c=await nE(u,n);c&&a.push(c)}if(!(await new Mg({certs:a,trustedCerts:i}).verify({},t)).result)throw new Error("Validation of signer's certificate failed");return t.verifyWithPublicKey(this.tbsResponseData.tbsView,this.signature,this.certs[r].subjectPublicKeyInfo,this.signatureAlgorithm)}}Ws.CLASS_NAME="BasicOCSPResponse";const Vp="tbs",Lp="version",Dp="subject",Up="subjectPublicKeyInfo",Xo="attributes",cf="signatureAlgorithm",uf="signatureValue",au="CertificationRequestInfo",uv=`${au}.version`,hv=`${au}.subject`,fv=`${au}.subjectPublicKeyInfo`,dg=`${au}.attributes`,hV=[au,uv,hv,fv,dg,cf,uf];function fV(s={}){const e=d(s,"names",{});return new C({name:e.CertificationRequestInfo||au,value:[new M({name:e.CertificationRequestInfoVersion||uv}),qe.schema(e.subject||{names:{blockName:hv}}),gs.schema({names:{blockName:fv}}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new _e({optional:!0,name:e.CertificationRequestInfoAttributes||dg,value:tt.schema(e.attributes||{})})]})]})}class bs extends Q{get tbs(){return Se.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}constructor(e={}){super(),this.tbsView=new Uint8Array(d(e,Vp,bs.defaultValues(Vp))),this.version=d(e,Lp,bs.defaultValues(Lp)),this.subject=d(e,Dp,bs.defaultValues(Dp)),this.subjectPublicKeyInfo=d(e,Up,bs.defaultValues(Up)),Xo in e&&(this.attributes=d(e,Xo,bs.defaultValues(Xo))),this.signatureAlgorithm=d(e,cf,bs.defaultValues(cf)),this.signatureValue=d(e,uf,bs.defaultValues(uf)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Vp:return Tt;case Lp:return 0;case Dp:return new qe;case Up:return new gs;case Xo:return[];case cf:return new K;case uf:return new Oe;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({value:[fV(t.certificationRequestInfo||{}),new C({name:t.signatureAlgorithm||cf,value:[new ue,new Ce({optional:!0})]}),new Oe({name:t.signatureValue||uf})]})}fromSchema(e){Z(e,hV);const t=X(e,e,bs.schema());G.assertSchema(t,this.className),this.tbsView=t.result.CertificationRequestInfo.valueBeforeDecodeView,this.version=t.result[uv].valueBlock.valueDec,this.subject=new qe({schema:t.result[hv]}),this.subjectPublicKeyInfo=new gs({schema:t.result[fv]}),dg in t.result&&(this.attributes=Array.from(t.result[dg],n=>new tt({schema:n}))),this.signatureAlgorithm=new K({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}encodeTBS(){const e=[new M({value:this.version}),this.subject.toSchema(),this.subjectPublicKeyInfo.toSchema()];return Xo in this&&e.push(new P({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes||[],t=>t.toSchema())})),new C({value:e})}toSchema(e=!1){let t;if(e===!1){if(this.tbsView.byteLength===0)return bs.schema();const n=kt(this.tbsView);G.assert(n,"PKCS#10 Certificate Request"),t=n.result}else t=this.encodeTBS();return new C({value:[t,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const e={tbs:Ae.ToHex(this.tbsView),version:this.version,subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return Xo in this&&(e.attributes=Array.from(this.attributes||[],t=>t.toJSON())),e}async sign(e,t="SHA-1",n=Ie(!0)){if(!e)throw new Error("Need to provide a private key for signing");const r=await n.getSignatureParameters(e,t),i=r.parameters;this.signatureAlgorithm=r.signatureAlgorithm,this.tbsView=new Uint8Array(this.encodeTBS().toBER());const a=await n.signWithPrivateKey(this.tbsView,e,i);this.signatureValue=new Oe({valueHex:a})}async verify(e=Ie(!0)){return e.verifyWithPublicKey(this.tbsView,this.signatureValue,this.subjectPublicKeyInfo,this.signatureAlgorithm)}async getPublicKey(e,t=Ie(!0)){return t.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,e)}}bs.CLASS_NAME="CertificationRequest";const za="digestAlgorithm",Za="digest",dV=[za,Za];class Gs extends Q{constructor(e={}){super(),this.digestAlgorithm=d(e,za,Gs.defaultValues(za)),this.digest=d(e,Za,Gs.defaultValues(Za)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case za:return new K;case Za:return new ee;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case za:return K.compareWithDefault("algorithmId",t.algorithmId)&&!("algorithmParams"in t);case Za:return t.isEqual(Gs.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[K.schema(t.digestAlgorithm||{names:{blockName:za}}),new ee({name:t.digest||Za})]})}fromSchema(e){Z(e,dV);const t=X(e,e,Gs.schema({names:{digestAlgorithm:{names:{blockName:za}},digest:Za}}));G.assertSchema(t,this.className),this.digestAlgorithm=new K({schema:t.result.digestAlgorithm}),this.digest=t.result.digest}toSchema(){return new C({value:[this.digestAlgorithm.toSchema(),this.digest]})}toJSON(){return{digestAlgorithm:this.digestAlgorithm.toJSON(),digest:this.digest.toJSON()}}}Gs.CLASS_NAME="DigestInfo";const tc="eContentType",sn="eContent",mV=[tc,sn];class As extends Q{constructor(e={}){if(super(),this.eContentType=d(e,tc,As.defaultValues(tc)),sn in e&&(this.eContent=d(e,sn,As.defaultValues(sn)),this.eContent.idBlock.tagClass===1&&this.eContent.idBlock.tagNumber===4&&this.eContent.idBlock.isConstructed===!1)){const t=new ee({idBlock:{isConstructed:!0},isConstructed:!0});let n=0;const r=this.eContent.valueBlock.valueHexView.slice().buffer;let i=r.byteLength;for(;i>0;){const a=new Uint8Array(r,n,n+65536>r.byteLength?r.byteLength-n:65536),o=new ArrayBuffer(a.length),l=new Uint8Array(o);for(let u=0;u<l.length;u++)l[u]=a[u];t.valueBlock.value.push(new ee({valueHex:o})),i-=a.length,n+=a.length}this.eContent=t}e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case tc:return w;case sn:return new ee;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case tc:return t===w;case sn:return t.idBlock.tagClass===1&&t.idBlock.tagNumber===4?t.isEqual(As.defaultValues(sn)):!1;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.eContentType||w}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ce({name:t.eContent||w})]})]})}fromSchema(e){Z(e,mV);const t=X(e,e,As.schema({names:{eContentType:tc,eContent:sn}}));G.assertSchema(t,this.className),this.eContentType=t.result.eContentType.valueBlock.toString(),sn in t.result&&(this.eContent=t.result.eContent)}toSchema(){const e=[];return e.push(new ue({value:this.eContentType})),this.eContent&&As.compareWithDefault(sn,this.eContent)===!1&&e.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.eContent]})),new C({value:e})}toJSON(){const e={eContentType:this.eContentType};return this.eContent&&As.compareWithDefault(sn,this.eContent)===!1&&(e.eContent=this.eContent.toJSON()),e}}As.CLASS_NAME="EncapsulatedContentInfo";const eo="mac",to="macSalt",Qn="iterations",gV=[eo,to,Qn];class hs extends Q{constructor(e={}){super(),this.mac=d(e,eo,hs.defaultValues(eo)),this.macSalt=d(e,to,hs.defaultValues(to)),Qn in e&&(this.iterations=d(e,Qn,hs.defaultValues(Qn))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case eo:return new Gs;case to:return new ee;case Qn:return 1;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case eo:return Gs.compareWithDefault("digestAlgorithm",t.digestAlgorithm)&&Gs.compareWithDefault("digest",t.digest);case to:return t.isEqual(hs.defaultValues(e));case Qn:return t===hs.defaultValues(e);default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,optional:t.optional||!0,value:[Gs.schema(t.mac||{names:{blockName:eo}}),new ee({name:t.macSalt||to}),new M({optional:!0,name:t.iterations||Qn})]})}fromSchema(e){Z(e,gV);const t=X(e,e,hs.schema({names:{mac:{names:{blockName:eo}},macSalt:to,iterations:Qn}}));G.assertSchema(t,this.className),this.mac=new Gs({schema:t.result.mac}),this.macSalt=t.result.macSalt,Qn in t.result&&(this.iterations=t.result.iterations.valueBlock.valueDec)}toSchema(){const e=[this.mac.toSchema(),this.macSalt];return this.iterations!==void 0&&e.push(new M({value:this.iterations})),new C({value:e})}toJSON(){const e={mac:this.mac.toJSON(),macSalt:this.macSalt.toJSON()};return this.iterations!==void 0&&(e.iterations=this.iterations),e}}hs.CLASS_NAME="MacData";const co="hashAlgorithm",uo="hashedMessage",pV=[co,uo];class qt extends Q{static async create(e,t,n=Ie(!0)){const r=n.getOIDByAlgorithm({name:e},!0,"hashAlgorithm"),i=await n.digest(e,t);return new qt({hashAlgorithm:new K({algorithmId:r,algorithmParams:new pt}),hashedMessage:new ee({valueHex:i})})}constructor(e={}){super(),this.hashAlgorithm=d(e,co,qt.defaultValues(co)),this.hashedMessage=d(e,uo,qt.defaultValues(uo)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case co:return new K;case uo:return new ee;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case co:return t.algorithmId===w&&!("algorithmParams"in t);case uo:return t.isEqual(qt.defaultValues(e))===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[K.schema(t.hashAlgorithm||{}),new ee({name:t.hashedMessage||w})]})}fromSchema(e){Z(e,pV);const t=X(e,e,qt.schema({names:{hashAlgorithm:{names:{blockName:co}},hashedMessage:uo}}));G.assertSchema(t,this.className),this.hashAlgorithm=new K({schema:t.result.hashAlgorithm}),this.hashedMessage=t.result.hashedMessage}toSchema(){return new C({value:[this.hashAlgorithm.toSchema(),this.hashedMessage]})}toJSON(){return{hashAlgorithm:this.hashAlgorithm.toJSON(),hashedMessage:this.hashedMessage.toJSON()}}}qt.CLASS_NAME="MessageImprint";const sc="reqCert",wi="singleRequestExtensions",wV=[sc,wi];class gr extends Q{constructor(e={}){super(),this.reqCert=d(e,sc,gr.defaultValues(sc)),wi in e&&(this.singleRequestExtensions=d(e,wi,gr.defaultValues(wi))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case sc:return new _t;case wi:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case sc:return t.isEqual(gr.defaultValues(e));case wi:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[_t.schema(t.reqCert||{}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[Fe.schema(t.extensions||{names:{blockName:t.singleRequestExtensions||w}})]})]})}fromSchema(e){Z(e,wV);const t=X(e,e,gr.schema({names:{reqCert:{names:{blockName:sc}},extensions:{names:{blockName:wi}}}}));G.assertSchema(t,this.className),this.reqCert=new _t({schema:t.result.reqCert}),wi in t.result&&(this.singleRequestExtensions=Array.from(t.result.singleRequestExtensions.valueBlock.value,n=>new Fe({schema:n})))}toSchema(){const e=[];return e.push(this.reqCert.toSchema()),this.singleRequestExtensions&&e.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new C({value:Array.from(this.singleRequestExtensions,t=>t.toSchema())})]})),new C({value:e})}toJSON(){const e={reqCert:this.reqCert.toJSON()};return this.singleRequestExtensions&&(e.singleRequestExtensions=Array.from(this.singleRequestExtensions,t=>t.toJSON())),e}}gr.CLASS_NAME="Request";const qd="tbs",nc="version",rc="requestorName",Gd="requestList",ic="requestExtensions",ou="TBSRequest",dm=`${ou}.${nc}`,mm=`${ou}.${rc}`,Vw=`${ou}.requests`,gm=`${ou}.${ic}`,yV=[ou,dm,mm,Vw,gm];class Kt extends Q{get tbs(){return Se.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}constructor(e={}){super(),this.tbsView=new Uint8Array(d(e,qd,Kt.defaultValues(qd))),nc in e&&(this.version=d(e,nc,Kt.defaultValues(nc))),rc in e&&(this.requestorName=d(e,rc,Kt.defaultValues(rc))),this.requestList=d(e,Gd,Kt.defaultValues(Gd)),ic in e&&(this.requestExtensions=d(e,ic,Kt.defaultValues(ic))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case qd:return Tt;case nc:return 0;case rc:return new Pe;case Gd:case ic:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case qd:return t.byteLength===0;case nc:return t===Kt.defaultValues(e);case rc:return t.type===Pe.defaultValues("type")&&Object.keys(t.value).length===0;case Gd:case ic:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||ou,value:[new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new M({name:t.TBSRequestVersion||dm})]}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[Pe.schema(t.requestorName||{names:{blockName:mm}})]}),new C({name:t.requestList||"TBSRequest.requestList",value:[new _e({name:t.requests||Vw,value:gr.schema(t.requestNames||{})})]}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[ct.schema(t.extensions||{names:{blockName:t.requestExtensions||gm}})]})]})}fromSchema(e){Z(e,yV);const t=X(e,e,Kt.schema());G.assertSchema(t,this.className),this.tbsView=t.result.TBSRequest.valueBeforeDecodeView,dm in t.result&&(this.version=t.result[dm].valueBlock.valueDec),mm in t.result&&(this.requestorName=new Pe({schema:t.result[mm]})),this.requestList=Array.from(t.result[Vw],n=>new gr({schema:n})),gm in t.result&&(this.requestExtensions=Array.from(t.result[gm].valueBlock.value,n=>new Fe({schema:n})))}toSchema(e=!1){let t;if(e===!1){if(this.tbsView.byteLength===0)return Kt.schema();const n=kt(this.tbsView);if(G.assert(n,"TBS Request"),!(n.result instanceof C))throw new Error("ASN.1 result should be SEQUENCE");t=n.result}else{const n=[];this.version!==void 0&&n.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[new M({value:this.version})]})),this.requestorName&&n.push(new P({idBlock:{tagClass:3,tagNumber:1},value:[this.requestorName.toSchema()]})),n.push(new C({value:Array.from(this.requestList,r=>r.toSchema())})),this.requestExtensions&&n.push(new P({idBlock:{tagClass:3,tagNumber:2},value:[new C({value:Array.from(this.requestExtensions,r=>r.toSchema())})]})),t=new C({value:n})}return t}toJSON(){const e={};return this.version!=null&&(e.version=this.version),this.requestorName&&(e.requestorName=this.requestorName.toJSON()),e.requestList=Array.from(this.requestList,t=>t.toJSON()),this.requestExtensions&&(e.requestExtensions=Array.from(this.requestExtensions,t=>t.toJSON())),e}}Kt.CLASS_NAME="TBSRequest";const Qo="signatureAlgorithm",zo="signature",Dr="certs";class Vs extends Q{constructor(e={}){super(),this.signatureAlgorithm=d(e,Qo,Vs.defaultValues(Qo)),this.signature=d(e,zo,Vs.defaultValues(zo)),Dr in e&&(this.certs=d(e,Dr,Vs.defaultValues(Dr))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Qo:return new K;case zo:return new Oe;case Dr:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Qo:return t.algorithmId===w&&!("algorithmParams"in t);case zo:return t.isEqual(Vs.defaultValues(e));case Dr:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[K.schema(t.signatureAlgorithm||{}),new Oe({name:t.signature||w}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new C({value:[new _e({name:t.certs||w,value:Ue.schema({})})]})]})]})}fromSchema(e){Z(e,[Qo,zo,Dr]);const t=X(e,e,Vs.schema({names:{signatureAlgorithm:{names:{blockName:Qo}},signature:zo,certs:Dr}}));G.assertSchema(t,this.className),this.signatureAlgorithm=new K({schema:t.result.signatureAlgorithm}),this.signature=t.result.signature,Dr in t.result&&(this.certs=Array.from(t.result.certs,n=>new Ue({schema:n})))}toSchema(){const e=[];return e.push(this.signatureAlgorithm.toSchema()),e.push(this.signature),this.certs&&e.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new C({value:Array.from(this.certs,t=>t.toSchema())})]})),new C({value:e})}toJSON(){const e={signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return this.certs&&(e.certs=Array.from(this.certs,t=>t.toJSON())),e}}Vs.CLASS_NAME="Signature";const ac="tbsRequest",yi="optionalSignature",vV=[ac,yi];class Rf extends Q{constructor(e={}){super(),this.tbsRequest=d(e,ac,Rf.defaultValues(ac)),yi in e&&(this.optionalSignature=d(e,yi,Rf.defaultValues(yi))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ac:return new Kt;case yi:return new Vs;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case ac:return Kt.compareWithDefault("tbs",t.tbs)&&Kt.compareWithDefault("version",t.version)&&Kt.compareWithDefault("requestorName",t.requestorName)&&Kt.compareWithDefault("requestList",t.requestList)&&Kt.compareWithDefault("requestExtensions",t.requestExtensions);case yi:return Vs.compareWithDefault("signatureAlgorithm",t.signatureAlgorithm)&&Vs.compareWithDefault("signature",t.signature)&&Vs.compareWithDefault("certs",t.certs);default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||"OCSPRequest",value:[Kt.schema(t.tbsRequest||{names:{blockName:ac}}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[Vs.schema(t.optionalSignature||{names:{blockName:yi}})]})]})}fromSchema(e){Z(e,vV);const t=X(e,e,Rf.schema());G.assertSchema(t,this.className),this.tbsRequest=new Kt({schema:t.result.tbsRequest}),yi in t.result&&(this.optionalSignature=new Vs({schema:t.result.optionalSignature}))}toSchema(e=!1){const t=[];return t.push(this.tbsRequest.toSchema(e)),this.optionalSignature&&t.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.optionalSignature.toSchema()]})),new C({value:t})}toJSON(){const e={tbsRequest:this.tbsRequest.toJSON()};return this.optionalSignature&&(e.optionalSignature=this.optionalSignature.toJSON()),e}async createForCertificate(e,t,n=Ie(!0)){const r=new _t;await r.createForCertificate(e,t,n),this.tbsRequest.requestList.push(new gr({reqCert:r}))}async sign(e,t="SHA-1",n=Ie(!0)){if(Le.assertEmpty(e,"privateKey","OCSPRequest.sign method"),!this.optionalSignature)throw new Error('Need to create "optionalSignature" field before signing');const r=await n.getSignatureParameters(e,t),i=r.parameters;this.optionalSignature.signatureAlgorithm=r.signatureAlgorithm;const a=this.tbsRequest.toSchema(!0).toBER(!1),o=await n.signWithPrivateKey(a,e,i);this.optionalSignature.signature=new Oe({valueHex:o})}verify(){}}Rf.CLASS_NAME="OCSPRequest";const oc="responseType",lc="response",bV=[oc,lc];class cn extends Q{constructor(e={}){super(),this.responseType=d(e,oc,cn.defaultValues(oc)),this.response=d(e,lc,cn.defaultValues(lc)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case oc:return w;case lc:return new ee;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case oc:return t===w;case lc:return t.isEqual(cn.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new ue({name:t.responseType||w}),new ee({name:t.response||w})]})}fromSchema(e){Z(e,bV);const t=X(e,e,cn.schema({names:{responseType:oc,response:lc}}));G.assertSchema(t,this.className),this.responseType=t.result.responseType.valueBlock.toString(),this.response=t.result.response}toSchema(){return new C({value:[new ue({value:this.responseType}),this.response]})}toJSON(){return{responseType:this.responseType,response:this.response.toJSON()}}}cn.CLASS_NAME="ResponseBytes";const Zo="responseStatus",Fn="responseBytes";class Nc extends Q{constructor(e={}){super(),this.responseStatus=d(e,Zo,Nc.defaultValues(Zo)),Fn in e&&(this.responseBytes=d(e,Fn,Nc.defaultValues(Fn))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Zo:return new Ji;case Fn:return new cn;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Zo:return t.isEqual(Nc.defaultValues(e));case Fn:return cn.compareWithDefault("responseType",t.responseType)&&cn.compareWithDefault("response",t.response);default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||"OCSPResponse",value:[new Ji({name:t.responseStatus||Zo}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[cn.schema(t.responseBytes||{names:{blockName:Fn}})]})]})}fromSchema(e){Z(e,[Zo,Fn]);const t=X(e,e,Nc.schema());G.assertSchema(t,this.className),this.responseStatus=t.result.responseStatus,Fn in t.result&&(this.responseBytes=new cn({schema:t.result.responseBytes}))}toSchema(){const e=[];return e.push(this.responseStatus),this.responseBytes&&e.push(new P({idBlock:{tagClass:3,tagNumber:0},value:[this.responseBytes.toSchema()]})),new C({value:e})}toJSON(){const e={responseStatus:this.responseStatus.toJSON()};return this.responseBytes&&(e.responseBytes=this.responseBytes.toJSON()),e}async getCertificateStatus(e,t,n=Ie(!0)){let r;const i={isForCertificate:!1,status:2};if(!this.responseBytes||this.responseBytes.responseType!==tm)return i;try{const a=kt(this.responseBytes.response.valueBlock.valueHexView);G.assert(a,"Basic OCSP response"),r=new Ws({schema:a.result})}catch{return i}return r.getCertificateStatus(e,t,n)}async sign(e,t,n=Ie(!0)){var r;if(this.responseBytes&&this.responseBytes.responseType===tm)return Ws.fromBER(this.responseBytes.response.valueBlock.valueHexView).sign(e,t,n);throw new Error(`Unknown ResponseBytes type: ${((r=this.responseBytes)===null||r===void 0?void 0:r.responseType)||"Unknown"}`)}async verify(e=null,t=Ie(!0)){var n;if(!(Fn in this))throw new Error("Empty ResponseBytes field");if(this.responseBytes&&this.responseBytes.responseType===tm){const r=Ws.fromBER(this.responseBytes.response.valueBlock.valueHexView);return e!==null&&(r.certs||(r.certs=[]),r.certs.push(e)),r.verify({},t)}throw new Error(`Unknown ResponseBytes type: ${((n=this.responseBytes)===null||n===void 0?void 0:n.responseType)||"Unknown"}`)}}Nc.CLASS_NAME="OCSPResponse";const ra="type",zn="attributes",Yd="encodedValue",SV=[zn];class ft extends Q{constructor(e={}){super(),this.type=d(e,ra,ft.defaultValues(ra)),this.attributes=d(e,zn,ft.defaultValues(zn)),this.encodedValue=d(e,Yd,ft.defaultValues(Yd)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ra:return-1;case zn:return[];case Yd:return Tt;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case ra:return t===ft.defaultValues(ra);case zn:return t.length===0;case Yd:return t.byteLength===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new P({name:t.blockName||w,optional:!0,idBlock:{tagClass:3,tagNumber:t.tagNumber||0},value:[new _e({name:t.attributes||w,value:tt.schema()})]})}fromSchema(e){Z(e,SV);const t=X(e,e,ft.schema({names:{tagNumber:this.type,attributes:zn}}));G.assertSchema(t,this.className),this.type=t.result.idBlock.tagNumber,this.encodedValue=Se.toArrayBuffer(t.result.valueBeforeDecodeView);const n=new Uint8Array(this.encodedValue);if(n[0]=49,!(zn in t.result)){if(this.type===0)throw new Error("Wrong structure of SignedUnsignedAttributes");return}this.attributes=Array.from(t.result.attributes,r=>new tt({schema:r}))}toSchema(){if(ft.compareWithDefault(ra,this.type)||ft.compareWithDefault(zn,this.attributes))throw new Error('Incorrectly initialized "SignedAndUnsignedAttributes" class');return new P({optional:!0,idBlock:{tagClass:3,tagNumber:this.type},value:Array.from(this.attributes,e=>e.toSchema())})}toJSON(){if(ft.compareWithDefault(ra,this.type)||ft.compareWithDefault(zn,this.attributes))throw new Error('Incorrectly initialized "SignedAndUnsignedAttributes" class');return{type:this.type,attributes:Array.from(this.attributes,e=>e.toJSON())}}}ft.CLASS_NAME="SignedAndUnsignedAttributes";const cc="version",so="sid",uc="digestAlgorithm",vi="signedAttrs",hc="signatureAlgorithm",hf="signature",bi="unsignedAttrs",Qi="SignerInfo",Lw=`${Qi}.${cc}`,ff=`${Qi}.${so}`,Dw=`${Qi}.${uc}`,pm=`${Qi}.${vi}`,Uw=`${Qi}.${hc}`,Hw=`${Qi}.${hf}`,wm=`${Qi}.${bi}`,AV=[Lw,ff,Dw,pm,Uw,Hw,wm];class vt extends Q{constructor(e={}){super(),this.version=d(e,cc,vt.defaultValues(cc)),this.sid=d(e,so,vt.defaultValues(so)),this.digestAlgorithm=d(e,uc,vt.defaultValues(uc)),vi in e&&(this.signedAttrs=d(e,vi,vt.defaultValues(vi))),this.signatureAlgorithm=d(e,hc,vt.defaultValues(hc)),this.signature=d(e,hf,vt.defaultValues(hf)),bi in e&&(this.unsignedAttrs=d(e,bi,vt.defaultValues(bi))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case cc:return 0;case so:return new Ce;case uc:return new K;case vi:return new ft({type:0});case hc:return new K;case hf:return new ee;case bi:return new ft({type:1});default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case cc:return vt.defaultValues(cc)===t;case so:return t instanceof Ce;case uc:return t instanceof K?t.isEqual(vt.defaultValues(uc)):!1;case vi:return ft.compareWithDefault("type",t.type)&&ft.compareWithDefault("attributes",t.attributes)&&ft.compareWithDefault("encodedValue",t.encodedValue);case hc:return t instanceof K?t.isEqual(vt.defaultValues(hc)):!1;case hf:case bi:return ft.compareWithDefault("type",t.type)&&ft.compareWithDefault("attributes",t.attributes)&&ft.compareWithDefault("encodedValue",t.encodedValue);default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:Qi,value:[new M({name:t.version||Lw}),new lt({value:[Rt.schema(t.sidSchema||{names:{blockName:ff}}),new lt({value:[new P({optional:!0,name:t.sid||ff,idBlock:{tagClass:3,tagNumber:0},value:[new ee]}),new ke({optional:!0,name:t.sid||ff,idBlock:{tagClass:3,tagNumber:0}})]})]}),K.schema(t.digestAlgorithm||{names:{blockName:Dw}}),ft.schema(t.signedAttrs||{names:{blockName:pm,tagNumber:0}}),K.schema(t.signatureAlgorithm||{names:{blockName:Uw}}),new ee({name:t.signature||Hw}),ft.schema(t.unsignedAttrs||{names:{blockName:wm,tagNumber:1}})]})}fromSchema(e){Z(e,AV);const t=X(e,e,vt.schema());G.assertSchema(t,this.className),this.version=t.result[Lw].valueBlock.valueDec;const n=t.result[ff];n.idBlock.tagClass===1?this.sid=new Rt({schema:n}):this.sid=n,this.digestAlgorithm=new K({schema:t.result[Dw]}),pm in t.result&&(this.signedAttrs=new ft({type:0,schema:t.result[pm]})),this.signatureAlgorithm=new K({schema:t.result[Uw]}),this.signature=t.result[Hw],wm in t.result&&(this.unsignedAttrs=new ft({type:1,schema:t.result[wm]}))}toSchema(){if(vt.compareWithDefault(so,this.sid))throw new Error('Incorrectly initialized "SignerInfo" class');const e=[];return e.push(new M({value:this.version})),this.sid instanceof Rt?e.push(this.sid.toSchema()):e.push(this.sid),e.push(this.digestAlgorithm.toSchema()),this.signedAttrs&&vt.compareWithDefault(vi,this.signedAttrs)===!1&&e.push(this.signedAttrs.toSchema()),e.push(this.signatureAlgorithm.toSchema()),e.push(this.signature),this.unsignedAttrs&&vt.compareWithDefault(bi,this.unsignedAttrs)===!1&&e.push(this.unsignedAttrs.toSchema()),new C({value:e})}toJSON(){if(vt.compareWithDefault(so,this.sid))throw new Error('Incorrectly initialized "SignerInfo" class');const e={version:this.version,digestAlgorithm:this.digestAlgorithm.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return this.sid instanceof Ce||(e.sid=this.sid.toJSON()),this.signedAttrs&&vt.compareWithDefault(vi,this.signedAttrs)===!1&&(e.signedAttrs=this.signedAttrs.toJSON()),this.unsignedAttrs&&vt.compareWithDefault(bi,this.unsignedAttrs)===!1&&(e.unsignedAttrs=this.unsignedAttrs.toJSON()),e}}vt.CLASS_NAME="SignerInfo";const df="version",mf="policy",gf="messageImprint",pf="serialNumber",wf="genTime",no="ordering",ro="nonce",fc="accuracy",dc="tsa",mc="extensions",bn="TSTInfo",Mw=`${bn}.${df}`,$w=`${bn}.${mf}`,Fw=`${bn}.${gf}`,Kw=`${bn}.${pf}`,jw=`${bn}.${wf}`,ym=`${bn}.${fc}`,vm=`${bn}.${no}`,bm=`${bn}.${ro}`,Sm=`${bn}.${dc}`,Am=`${bn}.${mc}`,kV=[Mw,$w,Fw,Kw,jw,ym,vm,bm,Sm,Am];class Qt extends Q{constructor(e={}){super(),this.version=d(e,df,Qt.defaultValues(df)),this.policy=d(e,mf,Qt.defaultValues(mf)),this.messageImprint=d(e,gf,Qt.defaultValues(gf)),this.serialNumber=d(e,pf,Qt.defaultValues(pf)),this.genTime=d(e,wf,Qt.defaultValues(wf)),fc in e&&(this.accuracy=d(e,fc,Qt.defaultValues(fc))),no in e&&(this.ordering=d(e,no,Qt.defaultValues(no))),ro in e&&(this.nonce=d(e,ro,Qt.defaultValues(ro))),dc in e&&(this.tsa=d(e,dc,Qt.defaultValues(dc))),mc in e&&(this.extensions=d(e,mc,Qt.defaultValues(mc))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case df:return 0;case mf:return w;case gf:return new qt;case pf:return new M;case wf:return new Date(0,0,0);case fc:return new Os;case no:return!1;case ro:return new M;case dc:return new Pe;case mc:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case df:case mf:case wf:case no:return t===Qt.defaultValues(no);case gf:return qt.compareWithDefault(co,t.hashAlgorithm)&&qt.compareWithDefault(uo,t.hashedMessage);case pf:case ro:return t.isEqual(Qt.defaultValues(ro));case fc:return Os.compareWithDefault(Hr,t.seconds)&&Os.compareWithDefault(Mr,t.millis)&&Os.compareWithDefault($r,t.micros);case dc:return Pe.compareWithDefault(Iu,t.type)&&Pe.compareWithDefault(_u,t.value);case mc:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||bn,value:[new M({name:t.version||Mw}),new ue({name:t.policy||$w}),qt.schema(t.messageImprint||{names:{blockName:Fw}}),new M({name:t.serialNumber||Kw}),new ot({name:t.genTime||jw}),Os.schema(t.accuracy||{names:{blockName:ym}}),new Dn({name:t.ordering||vm,optional:!0}),new M({name:t.nonce||bm,optional:!0}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[Pe.schema(t.tsa||{names:{blockName:Sm}})]}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new _e({name:t.extensions||Am,value:Fe.schema(t.extension||{})})]})]})}fromSchema(e){Z(e,kV);const t=X(e,e,Qt.schema());G.assertSchema(t,this.className),this.version=t.result[Mw].valueBlock.valueDec,this.policy=t.result[$w].valueBlock.toString(),this.messageImprint=new qt({schema:t.result[Fw]}),this.serialNumber=t.result[Kw],this.genTime=t.result[jw].toDate(),ym in t.result&&(this.accuracy=new Os({schema:t.result[ym]})),vm in t.result&&(this.ordering=t.result[vm].valueBlock.value),bm in t.result&&(this.nonce=t.result[bm]),Sm in t.result&&(this.tsa=new Pe({schema:t.result[Sm]})),Am in t.result&&(this.extensions=Array.from(t.result[Am],n=>new Fe({schema:n})))}toSchema(){const e=[];return e.push(new M({value:this.version})),e.push(new ue({value:this.policy})),e.push(this.messageImprint.toSchema()),e.push(this.serialNumber),e.push(new ot({valueDate:this.genTime})),this.accuracy&&e.push(this.accuracy.toSchema()),this.ordering!==void 0&&e.push(new Dn({value:this.ordering})),this.nonce&&e.push(this.nonce),this.tsa&&e.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.tsa.toSchema()]})),this.extensions&&e.push(new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.extensions,t=>t.toSchema())})),new C({value:e})}toJSON(){const e={version:this.version,policy:this.policy,messageImprint:this.messageImprint.toJSON(),serialNumber:this.serialNumber.toJSON(),genTime:this.genTime};return this.accuracy&&(e.accuracy=this.accuracy.toJSON()),this.ordering!==void 0&&(e.ordering=this.ordering),this.nonce&&(e.nonce=this.nonce.toJSON()),this.tsa&&(e.tsa=this.tsa.toJSON()),this.extensions&&(e.extensions=Array.from(this.extensions,t=>t.toJSON())),e}async verify(e,t=Ie(!0)){if(!e.data)throw new Error('"data" is a mandatory attribute for TST_INFO verification');const n=e.data;if(e.notBefore&&this.genTime<e.notBefore)throw new Error("Generation time for TSTInfo object is less than notBefore value");if(e.notAfter&&this.genTime>e.notAfter)throw new Error("Generation time for TSTInfo object is more than notAfter value");const r=t.getAlgorithmByOID(this.messageImprint.hashAlgorithm.algorithmId,!0,"MessageImprint.hashAlgorithm"),i=await t.digest(r.name,new Uint8Array(n));return Se.isEqual(i,this.messageImprint.hashedMessage.valueBlock.valueHexView)}}Qt.CLASS_NAME="TSTInfo";const gc="version",yf="digestAlgorithms",vf="encapContentInfo",pc="certificates",wc="crls",bf="signerInfos",ku="ocsps",Lo="SignedData",Jw=`${Lo}.${gc}`,km=`${Lo}.${yf}`,Ww=`${Lo}.${vf}`,Em=`${Lo}.${pc}`,Cm=`${Lo}.${wc}`,Nm=`${Lo}.${bf}`,EV=[Jw,km,Ww,Em,Cm,Nm];class Xt extends Error{constructor({message:e,code:t=0,date:n=new Date,signatureVerified:r=null,signerCertificate:i=null,signerCertificateVerified:a=null,timestampSerial:o=null,certificatePath:l=[]}){super(e),this.name="SignedDataVerifyError",this.date=n,this.code=t,this.timestampSerial=o,this.signatureVerified=r,this.signerCertificate=i,this.signerCertificateVerified=a,this.certificatePath=l}}class Jt extends Q{constructor(e={}){super(),this.version=d(e,gc,Jt.defaultValues(gc)),this.digestAlgorithms=d(e,yf,Jt.defaultValues(yf)),this.encapContentInfo=d(e,vf,Jt.defaultValues(vf)),pc in e&&(this.certificates=d(e,pc,Jt.defaultValues(pc))),wc in e&&(this.crls=d(e,wc,Jt.defaultValues(wc))),ku in e&&(this.ocsps=d(e,ku,Jt.defaultValues(ku))),this.signerInfos=d(e,bf,Jt.defaultValues(bf)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case gc:return 0;case yf:return[];case vf:return new As;case pc:return[];case wc:return[];case ku:return[];case bf:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case gc:return t===Jt.defaultValues(gc);case vf:return As.compareWithDefault("eContentType",t.eContentType)&&As.compareWithDefault("eContent",t.eContent);case yf:case pc:case wc:case ku:case bf:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return t.optional===void 0&&(t.optional=!1),new C({name:t.blockName||Lo,optional:t.optional,value:[new M({name:t.version||Jw}),new St({value:[new _e({name:t.digestAlgorithms||km,value:K.schema()})]}),As.schema(t.encapContentInfo||{names:{blockName:Ww}}),new P({name:t.certificates||Em,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Pn.schema().valueBlock.value}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:yr.schema(t.crls||{names:{crls:Cm}}).valueBlock.value}),new St({value:[new _e({name:t.signerInfos||Nm,value:vt.schema()})]})]})}fromSchema(e){Z(e,EV);const t=X(e,e,Jt.schema());if(G.assertSchema(t,this.className),this.version=t.result[Jw].valueBlock.valueDec,km in t.result&&(this.digestAlgorithms=Array.from(t.result[km],n=>new K({schema:n}))),this.encapContentInfo=new As({schema:t.result[Ww]}),Em in t.result){const n=new Pn({schema:new St({value:t.result[Em].valueBlock.value})});this.certificates=n.certificates.slice(0)}Cm in t.result&&(this.crls=Array.from(t.result[Cm],n=>n.idBlock.tagClass===1?new Ct({schema:n}):(n.idBlock.tagClass=1,n.idBlock.tagNumber=16,new wr({schema:n})))),Nm in t.result&&(this.signerInfos=Array.from(t.result[Nm],n=>new vt({schema:n})))}toSchema(e=!1){const t=[];if(this.certificates&&this.certificates.length&&this.certificates.some(n=>n instanceof Ki)||this.crls&&this.crls.length&&this.crls.some(n=>n instanceof wr)?this.version=5:this.certificates&&this.certificates.length&&this.certificates.some(n=>n instanceof Ds)?this.version=4:this.certificates&&this.certificates.length&&this.certificates.some(n=>n instanceof ur)||this.signerInfos.some(n=>n.version===3)||this.encapContentInfo.eContentType!==Jt.ID_DATA?this.version=3:this.version=1,t.push(new M({value:this.version})),t.push(new St({value:Array.from(this.digestAlgorithms,n=>n.toSchema())})),t.push(this.encapContentInfo.toSchema()),this.certificates){const r=new Pn({certificates:this.certificates}).toSchema();t.push(new P({idBlock:{tagClass:3,tagNumber:0},value:r.valueBlock.value}))}return this.crls&&t.push(new P({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.crls,n=>{if(n instanceof wr){const r=n.toSchema();return r.idBlock.tagClass=3,r.idBlock.tagNumber=1,r}return n.toSchema(e)})})),t.push(new St({value:Array.from(this.signerInfos,n=>n.toSchema())})),new C({value:t})}toJSON(){const e={version:this.version,digestAlgorithms:Array.from(this.digestAlgorithms,t=>t.toJSON()),encapContentInfo:this.encapContentInfo.toJSON(),signerInfos:Array.from(this.signerInfos,t=>t.toJSON())};return this.certificates&&(e.certificates=Array.from(this.certificates,t=>t.toJSON())),this.crls&&(e.crls=Array.from(this.crls,t=>t.toJSON())),e}async verify({signer:e=-1,data:t=Tt,trustedCerts:n=[],checkDate:r=new Date,checkChain:i=!1,passedWhenNotRevValues:a=!1,extendedMode:o=!1,findOrigin:l=null,findIssuer:u=null}={},c=Ie(!0)){let h=null,f=null;try{let m=Tt,b=w,A=[];const k=this.signerInfos[e];if(!k)throw new Xt({date:r,code:1,message:"Unable to get signer by supplied index"});if(!this.certificates)throw new Xt({date:r,code:2,message:"No certificates attached to this signed data"});if(k.sid instanceof Rt){for(const v of this.certificates)if(v instanceof Ue&&v.issuer.isEqual(k.sid.issuer)&&v.serialNumber.isEqual(k.sid.serialNumber)){h=v;break}}else{const v=k.sid,N=v.idBlock.isConstructed?v.valueBlock.value[0].valueBlock.valueHex:v.valueBlock.valueHex;for(const _ of this.certificates){if(!(_ instanceof Ue))continue;const H=await c.digest({name:"sha-1"},_.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView);if(Qc(H,N)){h=_;break}}}if(!h)throw new Xt({date:r,code:3,message:"Unable to find signer certificate"});if(this.encapContentInfo.eContentType===_O){if(!this.encapContentInfo.eContent)throw new Xt({date:r,code:15,message:"Error during verification: TSTInfo eContent is empty",signatureVerified:null,signerCertificate:h,timestampSerial:f,signerCertificateVerified:!0});let v;try{v=Qt.fromBER(this.encapContentInfo.eContent.valueBlock.valueHexView)}catch{throw new Xt({date:r,code:15,message:"Error during verification: TSTInfo wrong ASN.1 schema ",signatureVerified:null,signerCertificate:h,timestampSerial:f,signerCertificateVerified:!0})}if(r=v.genTime,f=v.serialNumber.valueBlock.valueHexView.slice(),t.byteLength===0)throw new Xt({date:r,code:4,message:"Missed detached data input array"});if(!await v.verify({data:t},c))throw new Xt({date:r,code:15,message:"Error during verification: TSTInfo verification is failed",signatureVerified:!1,signerCertificate:h,timestampSerial:f,signerCertificateVerified:!0})}if(i){const v=this.certificates.filter(F=>F instanceof Ue&&!!nE(F,h)),N={checkDate:r,certs:v,trustedCerts:n};u&&(N.findIssuer=u),l&&(N.findOrigin=l);const _=new Mg(N);if(_.certs.push(h),this.crls)for(const F of this.crls)"thisUpdate"in F?_.crls.push(F):F.otherRevInfoFormat===tm&&_.ocsps.push(new Ws({schema:F.otherRevInfo}));this.ocsps&&_.ocsps.push(...this.ocsps);const H=await _.verify({passedWhenNotRevValues:a},c).catch(F=>{throw new Xt({date:r,code:5,message:`Validation of signer's certificate failed with error: ${F instanceof Object?F.resultMessage:F}`,signerCertificate:h,signerCertificateVerified:!1})});if(H.certificatePath&&(A=H.certificatePath),!H.result)throw new Xt({date:r,code:5,message:`Validation of signer's certificate failed: ${H.resultMessage}`,signerCertificate:h,signerCertificateVerified:!1})}const x=c.getAlgorithmByOID(k.digestAlgorithm.algorithmId);if(!("name"in x))throw new Xt({date:r,code:7,message:`Unsupported signature algorithm: ${k.digestAlgorithm.algorithmId}`,signerCertificate:h,signerCertificateVerified:!0});b=x.name;const R=this.encapContentInfo.eContent;if(R)R.idBlock.tagClass===1&&R.idBlock.tagNumber===4?t=R.getValue():t=R.valueBlock.valueBeforeDecodeView;else if(t.byteLength===0)throw new Xt({date:r,code:8,message:"Missed detached data input array",signerCertificate:h,signerCertificateVerified:!0});if(k.signedAttrs){let v=!1,N=!1;for(const _ of k.signedAttrs.attributes)if(_.type==="1.2.840.113549.1.9.3"&&(v=!0),_.type==="1.2.840.113549.1.9.4"&&(N=!0,m=_.values[0].valueBlock.valueHex),v&&N)break;if(v===!1)throw new Xt({date:r,code:9,message:'Attribute "content-type" is a mandatory attribute for "signed attributes"',signerCertificate:h,signerCertificateVerified:!0});if(N===!1)throw new Xt({date:r,code:10,message:'Attribute "message-digest" is a mandatory attribute for "signed attributes"',signatureVerified:null,signerCertificate:h,signerCertificateVerified:!0})}if(k.signedAttrs){const v=await c.digest(b,new Uint8Array(t));if(!Qc(v,m))throw new Xt({date:r,code:15,message:"Error during verification: Message digest doesn't match",signatureVerified:null,signerCertificate:h,timestampSerial:f,signerCertificateVerified:!0});t=k.signedAttrs.encodedValue}const g=k.signatureAlgorithm.algorithmId==="1.2.840.113549.1.1.1"?await c.verifyWithPublicKey(t,k.signature,h.subjectPublicKeyInfo,k.signatureAlgorithm,b):await c.verifyWithPublicKey(t,k.signature,h.subjectPublicKeyInfo,k.signatureAlgorithm);return o?{date:r,code:14,message:w,signatureVerified:g,signerCertificate:h,timestampSerial:f,signerCertificateVerified:!0,certificatePath:A}:g}catch(m){throw m instanceof Xt?m:new Xt({date:r,code:15,message:`Error during verification: ${m instanceof Error?m.message:m}`,signatureVerified:null,signerCertificate:h,timestampSerial:f,signerCertificateVerified:!0})}}async sign(e,t,n="SHA-1",r=Tt,i=Ie(!0)){var a;if(!e)throw new Error("Need to provide a private key for signing");const o=this.signerInfos[t];if(!o)throw new RangeError("SignerInfo index is out of range");!(!((a=o.signedAttrs)===null||a===void 0)&&a.attributes.length)&&"hash"in e.algorithm&&"hash"in e.algorithm&&e.algorithm.hash&&(n=e.algorithm.hash.name);const l=i.getOIDByAlgorithm({name:n},!0,"hashAlgorithm");this.digestAlgorithms.filter(f=>f.algorithmId===l).length===0&&this.digestAlgorithms.push(new K({algorithmId:l,algorithmParams:new pt})),o.digestAlgorithm=new K({algorithmId:l,algorithmParams:new pt});const u=await i.getSignatureParameters(e,n),c=u.parameters;if(o.signatureAlgorithm=u.signatureAlgorithm,o.signedAttrs)if(o.signedAttrs.encodedValue.byteLength!==0)r=o.signedAttrs.encodedValue;else{r=o.signedAttrs.toSchema().toBER();const f=Se.toUint8Array(r);f[0]=49}else{const f=this.encapContentInfo.eContent;if(f)f.idBlock.tagClass===1&&f.idBlock.tagNumber===4?r=f.getValue():r=f.valueBlock.valueBeforeDecodeView;else if(r.byteLength===0)throw new Error("Missed detached data input array")}const h=await i.signWithPrivateKey(r,e,c);o.signature=new ee({valueHex:h})}}Jt.CLASS_NAME="SignedData";Jt.ID_DATA=sv;const io="version",ao="authSafe",Zn="macData",Eu="parsedValue",CV=[io,ao,Zn];class _i extends Q{constructor(e={}){super(),this.version=d(e,io,_i.defaultValues(io)),this.authSafe=d(e,ao,_i.defaultValues(ao)),Zn in e&&(this.macData=d(e,Zn,_i.defaultValues(Zn))),Eu in e&&(this.parsedValue=d(e,Eu,_i.defaultValues(Eu))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case io:return 3;case ao:return new Ze;case Zn:return new hs;case Eu:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case io:return t===_i.defaultValues(e);case ao:return Ze.compareWithDefault("contentType",t.contentType)&&Ze.compareWithDefault("content",t.content);case Zn:return hs.compareWithDefault("mac",t.mac)&&hs.compareWithDefault("macSalt",t.macSalt)&&hs.compareWithDefault("iterations",t.iterations);case Eu:return t instanceof Object&&Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new M({name:t.version||io}),Ze.schema(t.authSafe||{names:{blockName:ao}}),hs.schema(t.macData||{names:{blockName:Zn,optional:!0}})]})}fromSchema(e){Z(e,CV);const t=X(e,e,_i.schema({names:{version:io,authSafe:{names:{blockName:ao}},macData:{names:{blockName:Zn}}}}));G.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.authSafe=new Ze({schema:t.result.authSafe}),Zn in t.result&&(this.macData=new hs({schema:t.result.macData}))}toSchema(){const e=[new M({value:this.version}),this.authSafe.toSchema()];return this.macData&&e.push(this.macData.toSchema()),new C({value:e})}toJSON(){const e={version:this.version,authSafe:this.authSafe.toJSON()};return this.macData&&(e.macData=this.macData.toJSON()),e}async makeInternalValues(e={},t=Ie(!0)){if(We.assert(e,"parameters","object"),!this.parsedValue)throw new Error('Please call "parseValues" function first in order to make "parsedValue" data');switch(Le.assertEmpty(this.parsedValue.integrityMode,"integrityMode","parsedValue"),Le.assertEmpty(this.parsedValue.authenticatedSafe,"authenticatedSafe","parsedValue"),this.parsedValue.integrityMode){case 0:{if(!("iterations"in e))throw new Le("iterations");Le.assertEmpty(e.pbkdf2HashAlgorithm,"pbkdf2HashAlgorithm"),Le.assertEmpty(e.hmacHashAlgorithm,"hmacHashAlgorithm"),Le.assertEmpty(e.password,"password");const n=new ArrayBuffer(64),r=new Uint8Array(n);t.getRandomValues(r);const i=this.parsedValue.authenticatedSafe.toSchema().toBER(!1);this.authSafe=new Ze({contentType:Ze.DATA,content:new ee({valueHex:i})});const a=await t.stampDataWithPassword({password:e.password,hashAlgorithm:e.hmacHashAlgorithm,salt:n,iterationCount:e.iterations,contentToStamp:i});this.macData=new hs({mac:new Gs({digestAlgorithm:new K({algorithmId:t.getOIDByAlgorithm({name:e.hmacHashAlgorithm},!0,"hmacHashAlgorithm")}),digest:new ee({valueHex:a})}),macSalt:new ee({valueHex:n}),iterations:e.iterations})}break;case 1:{if(!("signingCertificate"in e))throw new Le("signingCertificate");Le.assertEmpty(e.privateKey,"privateKey"),Le.assertEmpty(e.hashAlgorithm,"hashAlgorithm");const n=this.parsedValue.authenticatedSafe.toSchema().toBER(!1),r=new Jt({version:1,encapContentInfo:new As({eContentType:"1.2.840.113549.1.7.1",eContent:new ee({valueHex:n})}),certificates:[e.signingCertificate]}),i=await t.digest({name:e.hashAlgorithm},new Uint8Array(n)),a=[];a.push(new tt({type:"1.2.840.113549.1.9.3",values:[new ue({value:"1.2.840.113549.1.7.1"})]})),a.push(new tt({type:"1.2.840.113549.1.9.5",values:[new Zc({valueDate:new Date})]})),a.push(new tt({type:"1.2.840.113549.1.9.4",values:[new ee({valueHex:i})]})),r.signerInfos.push(new vt({version:1,sid:new Rt({issuer:e.signingCertificate.issuer,serialNumber:e.signingCertificate.serialNumber}),signedAttrs:new ft({type:0,attributes:a})})),await r.sign(e.privateKey,0,e.hashAlgorithm,void 0,t),this.authSafe=new Ze({contentType:"1.2.840.113549.1.7.2",content:r.toSchema(!0)})}break;default:throw new Error(`Parameter "integrityMode" has unknown value: ${this.parsedValue.integrityMode}`)}}async parseInternalValues(e,t=Ie(!0)){switch(We.assert(e,"parameters","object"),e.checkIntegrity===void 0&&(e.checkIntegrity=!0),this.parsedValue={},this.authSafe.contentType){case Ze.DATA:{Le.assertEmpty(e.password,"password"),this.parsedValue.integrityMode=0,We.assert(this.authSafe.content,"authSafe.content",ee);const n=this.authSafe.content.getValue();if(this.parsedValue.authenticatedSafe=Io.fromBER(n),e.checkIntegrity){if(!this.macData)throw new Error('Absent "macData" value, can not check PKCS#12 data integrity');const r=t.getAlgorithmByOID(this.macData.mac.digestAlgorithm.algorithmId,!0,"digestAlgorithm");if(!await t.verifyDataStampedWithPassword({password:e.password,hashAlgorithm:r.name,salt:Se.toArrayBuffer(this.macData.macSalt.valueBlock.valueHexView),iterationCount:this.macData.iterations||1,contentToVerify:n,signatureToVerify:Se.toArrayBuffer(this.macData.mac.digest.valueBlock.valueHexView)}))throw new Error("Integrity for the PKCS#12 data is broken!")}}break;case Ze.SIGNED_DATA:{this.parsedValue.integrityMode=1;const n=new Jt({schema:this.authSafe.content}),r=n.encapContentInfo.eContent;Le.assert(r,"eContent","cmsSigned.encapContentInfo"),We.assert(r,"eContent",ee);const i=r.getValue();if(this.parsedValue.authenticatedSafe=Io.fromBER(i),!await n.verify({signer:0,checkChain:!1},t))throw new Error("Integrity for the PKCS#12 data is broken!")}break;default:throw new Error(`Incorrect value for "this.authSafe.contentType": ${this.authSafe.contentType}`)}}}_i.CLASS_NAME="PFX";const yc="status",Si="statusStrings",Ai="failInfo",NV=[yc,Si,Ai];var O0;(function(s){s[s.granted=0]="granted",s[s.grantedWithMods=1]="grantedWithMods",s[s.rejection=2]="rejection",s[s.waiting=3]="waiting",s[s.revocationWarning=4]="revocationWarning",s[s.revocationNotification=5]="revocationNotification"})(O0||(O0={}));class qs extends Q{constructor(e={}){super(),this.status=d(e,yc,qs.defaultValues(yc)),Si in e&&(this.statusStrings=d(e,Si,qs.defaultValues(Si))),Ai in e&&(this.failInfo=d(e,Ai,qs.defaultValues(Ai))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case yc:return 2;case Si:return[];case Ai:return new Oe;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case yc:return t===qs.defaultValues(e);case Si:return t.length===0;case Ai:return t.isEqual(qs.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||w,value:[new M({name:t.status||w}),new C({optional:!0,value:[new _e({name:t.statusStrings||w,value:new ht})]}),new Oe({name:t.failInfo||w,optional:!0})]})}fromSchema(e){Z(e,NV);const t=X(e,e,qs.schema({names:{status:yc,statusStrings:Si,failInfo:Ai}}));G.assertSchema(t,this.className);const n=t.result.status;if(n.valueBlock.isHexOnly===!0||n.valueBlock.valueDec<0||n.valueBlock.valueDec>5)throw new Error('PKIStatusInfo "status" has invalid value');this.status=n.valueBlock.valueDec,Si in t.result&&(this.statusStrings=t.result.statusStrings),Ai in t.result&&(this.failInfo=t.result.failInfo)}toSchema(){const e=[];return e.push(new M({value:this.status})),this.statusStrings&&e.push(new C({optional:!0,value:this.statusStrings})),this.failInfo&&e.push(this.failInfo),new C({value:e})}toJSON(){const e={status:this.status};return this.statusStrings&&(e.statusStrings=Array.from(this.statusStrings,t=>t.toJSON())),this.failInfo&&(e.failInfo=this.failInfo.toJSON()),e}}qs.CLASS_NAME="PKIStatusInfo";const Sf="version",Af="messageImprint",vc="reqPolicy",bc="nonce",er="certReq",Sc="extensions",Do="TimeStampReq",qw=`${Do}.${Sf}`,Gw=`${Do}.${Af}`,Im=`${Do}.${vc}`,_m=`${Do}.${bc}`,xm=`${Do}.${er}`,Bm=`${Do}.${Sc}`,IV=[qw,Gw,Im,_m,xm,Bm];class Is extends Q{constructor(e={}){super(),this.version=d(e,Sf,Is.defaultValues(Sf)),this.messageImprint=d(e,Af,Is.defaultValues(Af)),vc in e&&(this.reqPolicy=d(e,vc,Is.defaultValues(vc))),bc in e&&(this.nonce=d(e,bc,Is.defaultValues(bc))),er in e&&(this.certReq=d(e,er,Is.defaultValues(er))),Sc in e&&(this.extensions=d(e,Sc,Is.defaultValues(Sc))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Sf:return 0;case Af:return new qt;case vc:return w;case bc:return new M;case er:return!1;case Sc:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Sf:case vc:case er:return t===Is.defaultValues(e);case Af:return qt.compareWithDefault("hashAlgorithm",t.hashAlgorithm)&&qt.compareWithDefault("hashedMessage",t.hashedMessage);case bc:return t.isEqual(Is.defaultValues(e));case Sc:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||Do,value:[new M({name:t.version||qw}),qt.schema(t.messageImprint||{names:{blockName:Gw}}),new ue({name:t.reqPolicy||Im,optional:!0}),new M({name:t.nonce||_m,optional:!0}),new Dn({name:t.certReq||xm,optional:!0}),new P({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new _e({name:t.extensions||Bm,value:Fe.schema()})]})]})}fromSchema(e){Z(e,IV);const t=X(e,e,Is.schema());G.assertSchema(t,this.className),this.version=t.result[qw].valueBlock.valueDec,this.messageImprint=new qt({schema:t.result[Gw]}),Im in t.result&&(this.reqPolicy=t.result[Im].valueBlock.toString()),_m in t.result&&(this.nonce=t.result[_m]),xm in t.result&&(this.certReq=t.result[xm].valueBlock.value),Bm in t.result&&(this.extensions=Array.from(t.result[Bm],n=>new Fe({schema:n})))}toSchema(){const e=[];return e.push(new M({value:this.version})),e.push(this.messageImprint.toSchema()),this.reqPolicy&&e.push(new ue({value:this.reqPolicy})),this.nonce&&e.push(this.nonce),er in this&&Is.compareWithDefault(er,this.certReq)===!1&&e.push(new Dn({value:this.certReq})),this.extensions&&e.push(new P({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.extensions,t=>t.toSchema())})),new C({value:e})}toJSON(){const e={version:this.version,messageImprint:this.messageImprint.toJSON()};return this.reqPolicy!==void 0&&(e.reqPolicy=this.reqPolicy),this.nonce!==void 0&&(e.nonce=this.nonce.toJSON()),this.certReq!==void 0&&Is.compareWithDefault(er,this.certReq)===!1&&(e.certReq=this.certReq),this.extensions&&(e.extensions=Array.from(this.extensions,t=>t.toJSON())),e}}Is.CLASS_NAME="TimeStampReq";const Ac="status",kc="timeStampToken",dv="TimeStampResp",Yw=`${dv}.${Ac}`,Tm=`${dv}.${kc}`,_V=[Yw,Tm];class Of extends Q{constructor(e={}){super(),this.status=d(e,Ac,Of.defaultValues(Ac)),kc in e&&(this.timeStampToken=d(e,kc,Of.defaultValues(kc))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ac:return new qs;case kc:return new Ze;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Ac:return qs.compareWithDefault(Ac,t.status)&&!("statusStrings"in t)&&!("failInfo"in t);case kc:return t.contentType===w&&t.content instanceof Ce;default:return super.defaultValues(e)}}static schema(e={}){const t=d(e,"names",{});return new C({name:t.blockName||dv,value:[qs.schema(t.status||{names:{blockName:Yw}}),Ze.schema(t.timeStampToken||{names:{blockName:Tm,optional:!0}})]})}fromSchema(e){Z(e,_V);const t=X(e,e,Of.schema());G.assertSchema(t,this.className),this.status=new qs({schema:t.result[Yw]}),Tm in t.result&&(this.timeStampToken=new Ze({schema:t.result[Tm]}))}toSchema(){const e=[];return e.push(this.status.toSchema()),this.timeStampToken&&e.push(this.timeStampToken.toSchema()),new C({value:e})}toJSON(){const e={status:this.status.toJSON()};return this.timeStampToken&&(e.timeStampToken=this.timeStampToken.toJSON()),e}async sign(e,t,n=Ie(!0)){return this.assertContentType(),new Jt({schema:this.timeStampToken.content}).sign(e,0,t,void 0,n)}async verify(e={signer:0,trustedCerts:[],data:Tt},t=Ie(!0)){return this.assertContentType(),new Jt({schema:this.timeStampToken.content}).verify(e,t)}assertContentType(){if(!this.timeStampToken)throw new Error("timeStampToken is absent in TSP response");if(this.timeStampToken.contentType!==Yk)throw new Error(`Wrong format of timeStampToken: ${this.timeStampToken.contentType}`)}}Of.CLASS_NAME="TimeStampResp";function xV(){if(typeof self<"u"){if("crypto"in self){let s="webcrypto";"webkitSubtle"in self.crypto&&(s="safari"),w0(s,new ng({name:s,crypto}))}}else if(typeof crypto<"u"&&"webcrypto"in crypto){const s="NodeJS ^15",e=crypto.webcrypto;w0(s,new ng({name:s,crypto:e}))}}xV();const BV=He(`# issuer distinguished name. It must be same with the DN in the issuer's certificate 
[ca_dn]
CN = common name, C = country name, L = locality name, ST = state or  province name,
STREET = street address, O = organization name, OU = organization unit name,
description = some description, uniqueIdentifier = some uid, dnQualifier = some dnq,
DC = www, DC = xyz, DC = com, UID = user ID

[ca_default]
valid_days=3650,valid_crl_days=365,
output_format=PEM
#output_format=DER

# Usually this option is not used. CA can show or hidden this option to change the subject DN and SAN in the certificate.
[change_dn_san:hidden]
CN = common name, C = country name, L = locality name, ST = state or  province name,
STREET = street address, O = organization name, OU = organization unit name,
description = some description, uniqueIdentifier = some uid, dnQualifier = some dnq,
DC = www, DC = xyz, DC = com, UID = user ID

subjectAltName = email:my@example.com, 
subjectAltName = URI:http://my.example.com/
subjectAltName = DNS:test1.example.com,DNS:test2.example.com
subjectAltName = IP:192.168.7.1,IP:13::17

# by default all certificate will have authorityKeyIdentifier and subjectKeyIdentifier extensions
# extension has critical value means software-consuming certificates must understand its meaning
[ext]
basicConstraints = critical,CA:true,pathlen:3
keyUsage=critical,keyCertSign,cRLSign,digitalSignature,keyEncipherment
extendedKeyUsage = clientAuth,serverAuth,codeSigning

# only sub certificate will have this extension
[authorityInfoAccess]
caIssuers;URI.0=http://abc.def.gh
#caIssuers;URI.1=http://abc1.def2.gh3

[crlDistributionPoints]
URI.0 = http://abc.def.gh`);function el(s){return String.fromCharCode.apply(null,new Uint8Array(s))}function Cu(s){const e=new ArrayBuffer(s.length),t=new Uint8Array(e);for(let n=0,r=s.length;n<r;n++)t[n]=s.charCodeAt(n);return e}function tl(s,e){const t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=[];return s.forEach(r=>{const i=r%16,a=(r-i)/16;n.push(t[a],t[i],e)}),n.join("")}function Ur(s){const e=document.createElement("a"),t=URL.createObjectURL(s);e.href=t,e.download=s.name,e.click(),URL.revokeObjectURL(t)}function TV(s,e,t){const n=new M({valueHex:new Uint8Array(s.match(/.{2}/g).map(a=>parseInt(a,16)))}),r=new mt({value:new Date(e)}),i=[];for(let a=1;a<t.length;a++){const o=parseInt(t[a]);Number.isInteger(o)&&i.push(new Fe({extnID:"2.5.29.21",extnValue:new Ji({value:o}).toBER(!1)}))}return console.log("makeRC:",s,e,t,n,r,i),new Oi({userCertificate:n,revocationDate:r,crlEntryExtensions:new ct({extensions:i})})}function RV(s,e){const t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=[];return s.forEach(r=>{const i=r%16,a=(r-i)/16;n.push(t[a],t[i],e)}),n.join("")}function Xw(s){const e=s.indexOf(`
subjectAltName`),r=(e>0?s.substring(0,e):s).replace(/,?\n/g,",").split(/,(?=[^,=]+=)/g);console.log("parseDN",s,r);const i=[];return r.forEach(a=>{const o=a.trim().replace(/\s*=\s*/,"=");if(o.startsWith("CN=")){i.push(new Nt({type:"2.5.4.3",value:new ht({value:o.substring(3)})}));return}if(o.startsWith("C=")){i.push(new Nt({type:"2.5.4.6",value:new ht({value:o.substring(2)})}));return}if(o.startsWith("L=")){i.push(new Nt({type:"2.5.4.7",value:new ht({value:o.substring(2)})}));return}if(o.startsWith("ST=")){i.push(new Nt({type:"2.5.4.8",value:new ht({value:o.substring(3)})}));return}if(o.startsWith("S=")){i.push(new Nt({type:"2.5.4.8",value:new ht({value:o.substring(2)})}));return}if(o.startsWith("STREET=")){i.push(new Nt({type:"2.5.4.9",value:new ht({value:o.substring(7)})}));return}if(o.startsWith("O=")){i.push(new Nt({type:"2.5.4.10",value:new ht({value:o.substring(2)})}));return}if(o.startsWith("OU=")){i.push(new Nt({type:"2.5.4.11",value:new ht({value:o.substring(3)})}));return}if(o.startsWith("description=")){i.push(new Nt({type:"2.5.4.13",value:new ht({value:o.substring(12)})}));return}if(o.startsWith("uniqueIdentifier=")){i.push(new Nt({type:"2.5.4.45",value:new ht({value:o.substring(16)})}));return}if(o.startsWith("dnQualifier=")){i.push(new Nt({type:"2.5.4.46",value:new ht({value:o.substring(12)})}));return}if(o.startsWith("DC=")){i.push(new Nt({type:"0.9.2342.19200300.100.1.25",value:new ht({value:o.substring(3)})}));return}if(o.startsWith("UID=")){i.push(new Nt({type:"0.9.2342.19200300.100.1.1",value:new ht({value:o.substring(4)})}));return}}),i}function Qw(s){let e="";return s.forEach(t=>{switch(t.type){case"2.5.4.3":e+=",CN="+t.value.valueBlock.value;break;case"2.5.4.6":e+=",C="+t.value.valueBlock.value;break;case"2.5.4.7":e+=",L="+t.value.valueBlock.value;break;case"2.5.4.8":e+=",S="+t.value.valueBlock.value;break;case"2.5.4.9":e+=",STREET="+t.value.valueBlock.value;break;case"2.5.4.10":e+=",O="+t.value.valueBlock.value;break;case"2.5.4.11":e+=",OU="+t.value.valueBlock.value;break;case"2.5.4.13":e+=",description="+t.value.valueBlock.value;break;case"2.5.4.45":e+="uniqueIdentifier="+t.value.valueBlock.value;break;case"2.5.4.46":e+=",dnQualifier="+t.value.valueBlock.value;break;case"0.9.2342.19200300.100.1.25":e+=",DC="+t.value.valueBlock.value;break;default:e+=","+t.type+"="+t.value.valueBlock.value;break}}),e.substring(1)}function OV(s,e){if(console.log("parseIP",s),s.includes(":")){const t=s.split(":").map(i=>parseInt(i,16)),n=t.findIndex(i=>isNaN(i)),r=t.findLastIndex(i=>isNaN(i));if(console.log("ipv6",t,n,r),n>=0)if(n===r&&t.length<8){const i=[0,0,0,0,0,0,0,0];t.splice(n,1,...i.slice(0,9-t.length)),console.log("strs.splice",t,n,...i.slice(0,8-t.length))}else return;if(t.length===8){const i=[];for(let a=0;a<8;a++){const o=t[a]%256;i.push((t[a]-o)/256),i.push(o)}console.log("arr",i),e.push(new Pe({type:7,value:new ee({valueHex:new Uint8Array(i).buffer})}))}}else{const t=s.match(/\d+/g).map(n=>parseInt(n));t.length===4&&t[0]<256&&t[1]<256&&t[2]<256&&t[3]<256&&(e.push(new Pe({type:7,value:new ee({valueHex:new Uint8Array(t).buffer})})),console.log("ipv4",t))}}function iE(s){const e=[];s=s.match(new RegExp("(?<=^subjectAltName\\s*=\\s*)(.*)","gm")),s=s?s.join(",")+",":"";const t=s.match(new RegExp("(?<=email:)[^,]*","g")),n=s.match(new RegExp("(?<=URI:)[^,]*","g")),r=s.match(new RegExp("(?<=IP:)[^,]*","g")),i=s.match(new RegExp("(?<=DNS:)[^,]*","g"));return t&&t.forEach(a=>{e.push(new Pe({type:1,value:a}))}),n&&n.forEach(a=>{e.push(new Pe({type:6,value:a}))}),r&&r.forEach(a=>OV(a,e)),i&&i.forEach(a=>{e.push(new Pe({type:2,value:a}))}),console.log("parseSAN",s,t,n,i),console.log("ips",r),e}function aE(s){let e="";for(let t=0;t<s.length;t++){const n=s[t];switch(n.type){case 1:e+=`
   RFC822 Name=`+n.value;break;case 2:e+=`
   DNS Name=`+n.value;break;case 6:e+=`
   URL=`+n.value;break;case 7:const r=n.value.valueBlock.valueHexView;r.length===4&&(e+=`
   IP Address=`+r.join(".")),r.length===16&&(e+=`
   IP Address=`+RV(r,"").match(/.{4}/g).join(":"))}}return e}function PV(s){const e=new Date,t=[];let n=e.getTime(),r=0;for(console.log("parseSER",e,n,n.toString(16),t,s);n>0;)r=n%256,t.push(r),n=(n-r)/256;return t.reverse(),t.push(s[1],s[0]),console.log("Uint8Array:",t),new Uint8Array(t)}function VV(s,e,t){const n=/^\[change_dn_san\s*:\s*show/;if(e.sw=n.test(s),!e.sw)return;const r=new At({names:iE(s)}),i=s.indexOf(`
`);t.contav=Xw(s.substring(i)),e.condn=Qw(t.contav),r.names.length>0?(t.consan=new Fe({extnID:"2.5.29.17",critical:!1,extnValue:r.toSchema().toBER(!1)}),e.consan=aE(r.names)):(t.consan=null,e.consan=null),console.log("po",e)}const LV={id:"a123",class:"min-h-screen px-4 bg-gradient-to-r from-green-400 to-blue-500"},DV={class:"container mx-auto min-h-screen px-4 py-4 sm:px-0 flex flex-col-reverse md:flex-col"},UV={class:"flex space-x-1 md:space-x-4 rounded-xl bg-blue-900/20 p-1 mt-2 md:mt-0 md:mb-2"},HV=["onClick"],MV={key:0,class:"flex flex-col gap-3"},$V={class:"bg-black/25 rounded-2xl shadow-lg p-2"},FV={class:"flex gap-4 flex-wrap justify-center"},KV={class:"flex flex-wrap justify-center"},jV={class:"bg-black/25 rounded-2xl shadow-lg p-2"},JV={class:"pt-2"},WV=["placeholder"],qV={class:"flex flex-wrap justify-center"},GV={class:"bg-black/25 rounded-2xl shadow-lg p-2"},YV={class:"pt-2"},XV={class:"flex flex-wrap justify-center"},QV={key:1,class:"flex flex-col gap-3"},zV={class:"bg-black/25 rounded-2xl shadow-lg p-2"},ZV={class:"flex flex-wrap justify-center"},eL={key:0},tL={key:1,class:"pl-3 flex gap-4 flex-wrap"},sL={class:"relative bg-black/25 rounded-xl shadow-lg text-xs xl:ml-0"},nL={key:0},rL={class:"overflow-hidden break-normal whitespace-pre-wrap"},iL={class:"px-3 pb-3"},aL={class:"flex flex-wrap justify-center"},oL={key:2,class:"flex flex-col gap-3"},lL={class:"bg-black/25 rounded-2xl shadow-lg p-2"},cL={class:"flex flex-wrap justify-center"},uL={key:0},hL={class:"bg-black/25 rounded-2xl shadow-lg p-2"},fL={class:"mb-1 flex gap-2 flex-wrap"},dL={class:"relative bg-black/25 rounded-xl shadow-lg text-xs xl:ml-0"},mL={class:"overflow-hidden break-normal whitespace-pre-wrap"},gL={class:"px-3"},pL={class:"flex gap-1 mb-2 break-normal whitespace-pre-wrap"},wL={class:"flex gap-1 my-2 break-normal whitespace-pre-wrap"},yL={class:"flex gap-1 my-2 break-normal whitespace-pre-wrap"},vL={class:"flex flex-wrap justify-center"},bL={key:3,class:"flex flex-col gap-1"},SL={class:"w-full relative p-2 z-10 col-span-3 bg-black/20 rounded-xl shadow-lg text-sm whitespace-pre-wrap break-all"},AL={class:"divide-y divide-slate-700"},kL={class:"py-2"},EL=["onClick"],CL={class:"overflow-hidden pl-12 pr-2 break-normal whitespace-pre-wrap"},NL={__name:"app",setup(s){let e=He(1),t={},n=He(0),r=He(""),i=He("");const{t:a}=Pg(),o=[a("b5"),a("b6"),a("b7")],l=He(o.join(",  ")),u=[a("b5"),a("b7")],c=He(u.join(",  ")),h=He(!1),f=He({signalg:"",signhashalg:"sha256",issuer:"",from:"",to:"",user:"",pubkey:"",keypara:"",aki:"",ski:"",san:"",bc:"",ku:"",eku:"",aia:"",crlp:"",csrdn:"",csrsan:"",condn:"",consan:"",sw:!1}),m={issuertav:null,csrtav:null,contav:null,aki:null,ski:null,san:null,csrsan:null,consan:null,cerexts:[]},b=He("1"),A=He(0),k=ss(()=>{console.log("previewCert",f.value);let p=a("v2",f.value);return f.value.certtype===2&&(p+=a("v3")+f.value.aki+`
`),p+=a("v4")+f.value.ski+`
`,f.value.san.length>0&&(p+=a("v5")+f.value.san+`
`),f.value.eku.length>0&&(p+=a("v6")+f.value.eku+`
`),f.value.aia.length>0&&(p+=a("v7")+f.value.aia+`
`),f.value.crlp.length>0&&(p+=a("v8")+f.value.crlp+`
`),f.value.bc.length>0&&(p+=a("v9")+f.value.bc+`
`),f.value.ku.length>0&&(p+=a("v10")+f.value.ku+`
`),p+=a("v11"),p}),x=ss(()=>(console.log("clickable",l.value.length,f.value.sw),l.value.length>0?!1:f.value.sw?A.value>0:!0));Rn(A,p=>{console.log("watch pickedDS",p,p==2),p==0&&(f.value.user="",f.value.san=""),p==1&&(f.value.user=f.value.csrdn,f.value.san=f.value.csrsan),p==2&&(f.value.user=f.value.condn,f.value.san=f.value.consan),console.log("preview.value",f.value)});const R=He([]);let g=He(!1),v=He({}),N=He(!0),_=He(!0);const H=He(0),F=ns();let j;my(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register(F.app.baseURL+"sw.js").then(function(){})});async function se(){switch(b.value){case"1":t=await window.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["sign","verify"]),t.name="RSA";break;case"2":t=await window.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["sign","verify"]),t.name="RSA";break;case"3":t=await window.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"]),t.name="ECDSA";break;case"4":t=await window.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-384"},!0,["sign","verify"]),t.name="ECDSA";break}const p=await window.crypto.subtle.exportKey("pkcs8",t.privateKey),y=window.btoa(el(p));console.log("private key:",y);const B=`-----BEGIN PRIVATE KEY-----
${y}
-----END PRIVATE KEY-----`,O=new File([B],a("m15",1));Ur(O)}const L=He(!0);function $(p,y,B,O,D){v.value={title:p,description:y,modaltype:B,btn1:O,btn2:D},g.value=!0}function re(p,y){if(p===2&&(y===1&&j.prompt(),j=null),p===3&&y===1&&we(),p===4&&y===1){const B=r.value.substring(1,r.value.length-1);r.value=B.replaceAll('""','"')}p===5&&y===1&&downloadCRL(),g.value=!1}async function we(){if(!("caches"in window)){Qe("",3e3);return}const p=await window.caches.keys();""+p.toString();for(let y=0;y<p.length;y++){const B=await window.caches.delete(p[y]);""+p[y]+B}Qe("",3e3)}function he(){document.getElementById("fileElem").click()}function oe(){const p=document.getElementById("fileElem");n.value=1,be(p.files[0])}let ge=null,z=["Index	Serial Number	Expiration Date	Status	Revocation Date	Distinguished Names"];function be(p){console.log("readKeys");const y=new FileReader;y.readAsText(p),y.onload=async()=>{if(n.value===1&&(de(y.result),n.value=0),n.value===2){const B=y.result.indexOf("-----BEGIN CERTIFICATE REQUEST-----")+35,O=y.result.indexOf("-----END CERTIFICATE REQUEST-----");let D=null;if(B>=0&&O>0){const q=y.result.substring(B,O).replaceAll(`
`,"");D=Cu(window.atob(q))}else D=await p.arrayBuffer();const V=bs.fromBER(D);if(await V.verify()===!1){console.log("signresult",!1),Qe(a("m8"),6e3);return}const E=await Ie(!0).digest({name:"SHA-1"},V.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex);m.skiext=new Fe({extnID:"2.5.29.14",critical:!1,extnValue:new ee({valueHex:E}).toBER(!1)}),m.subjectPublicKeyInfo=V.subjectPublicKeyInfo,m.csrtav=V.subject.typesAndValues,m.csrsan=null,f.value.ski=tl(new Uint8Array(E),""),f.value.certtype=f.value.aki.endsWith(f.value.ski)?1:2,f.value.csrdn=Qw(V.subject.typesAndValues),f.value.csrsan="";const T=V.attributes.find(J=>J.type==="1.2.840.113549.1.9.14");if(T){const J=new ct({schema:T.values[0]});for(const q of J.extensions)if(q.extnID==="2.5.29.17"){m.csrsan=q;const I=q.parsedValue.altNames;f.value.csrsan=aE(I),console.log("altNames",I);break}}if(f.value.sw?(A.value=0,f.value.user="",f.value.san=""):(f.value.user=f.value.csrdn,f.value.san=f.value.csrsan),V.subjectPublicKeyInfo.parsedKey.className==="RSAPublicKey"){const J=V.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView,q=V.subjectPublicKeyInfo.parsedKey.modulus.valueBlock.valueHexView;f.value.pubkey=tl(J," "),f.value.keypara="05 00, (RSA, "+q.length*8+" Bits)",console.log("mHex",J,J.length,J[0],J[0]%16,(J[0]-J[0]%16)/16,q.length)}if(V.subjectPublicKeyInfo.parsedKey.className==="ECPublicKey"){const J=V.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView,q=V.subjectPublicKeyInfo.parsedKey.namedCurve.replace("-","");f.value.pubkey=tl(J," "),h.value?f.value.keypara="ECDH_"+q:f.value.keypara="ECDSA_"+q,console.log("mHex",J,J.length,J[0],J[0]%16,(J[0]-J[0]%16)/16)}o[1]="";const U=o.filter(J=>J.length>0);l.value=U.length>0?U.join(",  "):"",console.log("read CSR",V)}if(n.value===3){m.cerexts=[],h.value=!1,f.value.bc=f.value.ku=f.value.eku=f.value.aia=f.value.crlp="",ge=y.result.split(`
*****issued certificate list*****
`);const B=ge[0].match(/^(?!\#).*/gm).filter(U=>U.length>0).join(`
`).split(/\n(?=\[)/g);z=["Index	Serial Number	Expiration Date	Status	Revocation Date	Distinguished Names"],ge[1]&&(z=ge[1].split(/\n+/g)),console.log("issuedlist",ge[1],z);const O=p.name.split("."),D=parseInt(O[0]),V=parseInt(O[1]),Y=z.length;ae.value.index=D||0,ae.value.crlnumber=V||0,ae.value.issuedlistnum=Y>1?Y-1:0,ae.value.valid_num=0,ae.value.expired_num=0,ae.value.revoked_num=0;const S=new Date;z[0]=z[0].split(/\t/g);for(let U=1;U<Y;U++)z[U]=z[U].split(/\t/g),z[U][3].startsWith("V")&&(S<new Date(z[U][2])?ae.value.valid_num+=1:z[U][3]="E"+z[U][3]),z[U][3].startsWith("R")&&(S<new Date(z[U][2])?ae.value.revoked_num+=1:z[U][3]="E"+z[U][3]),z[U][3].startsWith("E")&&(ae.value.expired_num+=1);yt(),console.log("strAB",z,ae);for(let U=0;U<B.length;U++){if(B[U].startsWith("[ca_dn]")){const J=B[U].substring(8);m.issuertav=Xw(J),f.value.issuer=Qw(m.issuertav)}B[U].startsWith("[ca_default]")&&Re(1,B[U].substring(13)),B[U].startsWith("[change_dn_san")&&(VV(B[U],f.value,m),console.log("preview.value",f.value)),B[U].startsWith("[ext]")&&Re(2,B[U].substring(6)),B[U].startsWith("[crlDistributionPoints]")&&Re(3,B[U].substring(23)),B[U].startsWith("[authorityInfoAccess]")&&Re(4,B[U].substring(21))}f.value.sw?(A.value=0,f.value.user="",f.value.san=""):(f.value.user=f.value.csrdn,f.value.san=f.value.csrsan),o[2]=u[1]="";const E=o.filter(U=>U.length>0);l.value=E.length>0?E.join(",  "):"";const T=u.filter(U=>U.length>0);c.value=T.length>0?T.join(",  "):"",console.log("read conf.txt",B,B[0].split(`
`))}if(n.value===4){const B=y.result.indexOf("-----BEGIN CERTIFICATE-----")+27,O=y.result.indexOf("-----END CERTIFICATE-----");if(console.log("reader.result",y.result,B,O),B>=0&&O>0){const V=y.result.substring(B,O).replaceAll(`
`,""),Y=Cu(window.atob(V)),S=Ue.fromBER(Y);console.log("read pem.CER",S)}else{const D=await p.arrayBuffer(),V=Ue.fromBER(D);console.log("read der.CER",V)}}if(n.value===5){const B=y.result.indexOf("-----BEGIN ENCRYPTED PRIVATE KEY-----")+37,O=y.result.indexOf("-----END ENCRYPTED PRIVATE KEY-----"),V=y.result.substring(B,O).replaceAll(`
`,""),Y=Cu(window.atob(V)),S=rr.fromBER(Y);console.log("key2a",S);const E=Ie(!0),T=new bt({contentEncryptionAlgorithm:S.encryptionAlgorithm,encryptedContent:S.encryptedData}),U=E.decryptEncryptedContentInfo({password:Cu("123456"),encryptedContentInfo:T});console.log("key2c",U);const J=Ps.fromBER(U);console.log("key2d",J)}}}async function de(p){if(p=p.trim(),!p.startsWith("-----BEGIN PRIVATE KEY-----")){Qe(a("m2",1),3e3);return}if(!p.endsWith("-----END PRIVATE KEY-----")){Qe(a("m2",2),3e3);return}const B=p.substring(27,p.length-25).replaceAll(`
`,""),O=Cu(window.atob(B)),D=kt(O);let V=null,Y=null;const S=new C({name:"name1",value:[new M({name:"name2"}),new C({name:"name3",value:[new ue({name:"name4"}),new ue({name:"name5"})]}),new ee({name:"name6",primitiveSchema:new C({name:"name7",value:[new M({name:"name8"}),new ee({name:"name9"}),new P({name:"name10",idBlock:{tagClass:3,tagNumber:1},value:[new Oe({name:"name11"})]})]})})]}),E=new C({name:"name1",value:[new M({name:"name2"}),new C({name:"name3",value:[new ue({name:"name4"}),new pt({name:"name5"})]}),new ee({name:"name6",primitiveSchema:new C({name:"name7",value:[new M({name:"int1"}),new M({name:"int2"}),new M({name:"int3"}),new M({name:"int4"}),new M({name:"int5"}),new M({name:"int6"}),new M({name:"int7"}),new M({name:"int8"}),new M({name:"int9"})]})})]}),T=X(D.result,D.result,S),U=X(D.result,D.result,E);if(T.verified){console.log("oid",T.result.name4.getValue(),T.result.name5.getValue());let J="",q=!0;if(T.result.name4.getValue()==="1.2.840.10045.2.1"&&T.result.name5.getValue()==="1.2.840.10045.3.1.7"&&(J="P-256",q=!1),T.result.name4.getValue()==="1.2.840.10045.2.1"&&T.result.name5.getValue()==="1.3.132.0.34"&&(J="P-384",q=!1),q){Qe(a("m3",1),3e3);return}Y=await window.crypto.subtle.importKey("pkcs8",O,{name:"ECDSA",namedCurve:J},!0,["sign"]);const I=new C({value:[new C({value:[T.result.name4,T.result.name5]}),T.result.name11]});console.log("keyB and asn1jspubkey",Y,I,I.toBER()),window.btoa(el(I.toBER())),V=await window.crypto.subtle.importKey("spki",I.toBER(),{name:"ECDSA",namedCurve:J},!0,["verify"]),t.name="ECDSA",console.log("keyA",V)}if(U.verified){console.log("asn2",U,U.result.int2.valueBlock.blockLength);let J=0;if(U.result.name4.getValue()==="1.2.840.113549.1.1.1"&&U.result.int2.valueBlock.blockLength===257&&(J=2048),U.result.name4.getValue()==="1.2.840.113549.1.1.1"&&U.result.int2.valueBlock.blockLength===513&&(J=4096),J===0){Qe(a("m3",2),3e3);return}Y=await window.crypto.subtle.importKey("pkcs8",O,{name:"RSASSA-PKCS1-v1_5",modulusLength:J,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["sign"]);const q=new C({value:[new C({value:[U.result.name4,U.result.name5]}),new Oe({valueHex:new C({value:[U.result.int2,U.result.int3]}).toBER(!1)})]});console.log("keyB and asn1jspubkey",Y,q,q.toBER()),window.btoa(el(q.toBER())),console.log("keyB",Y),V=await window.crypto.subtle.importKey("spki",q.toBER(),{name:"RSASSA-PKCS1-v1_5",modulusLength:J,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["verify"]),t.name="RSA",console.log("keyA",V)}if(V&&Y){t.publicKey=V,t.privateKey=Y,o[0]=u[0]="";const J=o.filter(ze=>ze.length>0);l.value=J.length>0?J.join(",  "):"";const q=u.filter(ze=>ze.length>0);c.value=q.length>0?q.join(",  "):"",f.value.signalg="sha256"+t.name;const I=Ie(!0);let W=new bs;await W.subjectPublicKeyInfo.importKey(t.publicKey);const ve=await I.digest({name:"SHA-1"},W.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex),Ee=new or({keyIdentifier:new ee({valueHex:ve})});m.akiext=new Fe({extnID:"2.5.29.35",critical:!1,extnValue:Ee.toSchema().toBER(!1)}),f.value.aki="KeyID="+tl(new Uint8Array(ve),""),f.value.certtype=f.value.aki.endsWith(f.value.ski)?1:2,Qe(a("m4",1),3e3)}else Qe(a("m4",2),3e3)}let fe=He("");async function ce(){console.log("createCSR",fe.value.length,a("m6",0),a("m6",1),a("m6",2));let p=null;if(fe.value.length===0){$(a("m5",1),a("m6",1),1,a("m7",2));return}else if(p=Xw(fe.value),p.length===0){$(a("m5",1),a("m6",2),1,a("m7",2));return}if(t.publicKey===void 0){$(a("m5",2),a("m7",1),1,a("m7",2));return}const y=new bs;y.subject.typesAndValues=p,await y.subjectPublicKeyInfo.importKey(t.publicKey),y.attributes=[];const O=await Ie(!0).digest({name:"SHA-1"},y.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex),D=[new Fe({extnID:"2.5.29.14",critical:!1,extnValue:new ee({valueHex:O}).toBER(!1)})],V=iE(fe.value);if(V.length>0){const T=new At({names:V});D.push(new Fe({extnID:"2.5.29.17",critical:!1,extnValue:T.toSchema().toBER(!1)}))}y.attributes.push(new tt({type:"1.2.840.113549.1.9.14",values:[new ct({extensions:D}).toSchema()]})),await y.sign(t.privateKey,"SHA-256");const Y=y.toSchema(!0).toBER();let S=window.btoa(el(Y));const E=new File([`-----BEGIN CERTIFICATE REQUEST-----
${S}
-----END CERTIFICATE REQUEST-----`],a("m15",2));Ur(E),console.log("pkcs10raw",Y)}let ae=He({crlnumber:1,valid_days:365,valid_crl_days:30,index:0,issuedlistnum:0,valid_num:0,expired_num:0,revoked_num:0,revoked_add:0});function Re(p,y){if(p===1){const B=y.replaceAll(/\n|\s,/g,"").split(/=|,/);for(let O=0;O<B.length;O++){if(B[O]==="valid_days"){const D=parseInt(B[++O]);Number.isInteger(D)&&(ae.value.valid_days=D),f.value.from=new Date().toISOString();const V=new Date;V.setDate(V.getDate()+ae.value.valid_days),f.value.to=V.toISOString();continue}if(B[O]==="valid_crl_days"){ae.value.valid_crl_days=parseInt(B[++O]);continue}if(B[O]==="output_format"){m.output_format=B[++O];continue}}console.log("parseCADE",p,y)}if(p===2){const B=y.replaceAll(" ","").split(`
`);for(let O=0;O<B.length;O++){if(B[O].startsWith("basicConstraints")){const D=B[O].indexOf("pathlen:"),V=new $i({cA:B[O].indexOf("CA:true")>0});D>0&&(V.pathLenConstraint=parseInt(B[O].substring(D+8))),f.value.bc=(B[O].indexOf("critical")>0?"critical,":"")+(B[O].indexOf("CA:true")>0?"Subject Type=CA,":""),D>0&&(f.value.bc+="Path Length Constraint="+V.pathLenConstraint),m.cerexts.push(new Fe({extnID:"2.5.29.19",critical:B[O].indexOf("critical")>0,extnValue:V.toSchema().toBER(!1),parsedValue:V}));continue}if(B[O].startsWith("keyUsage")){const D=new ArrayBuffer(1),V=new Uint8Array(D);let Y=B[O].indexOf("critical")>0?"critical, ":"";B[O].indexOf("keyCertSign")>0&&(V[0]|=4)&&(Y+="Certificate Signing, "),B[O].indexOf("cRLSign")>0&&(V[0]|=2)&&(Y+="Off-line CRL Signing, CRL Signing,"),B[O].indexOf("digitalSignature")>0&&(V[0]|=128)&&(Y+="Digital Signature, "),B[O].indexOf("keyEncipherment")>0?(V[0]|=32,Y+="Key Encipherment, ",h.value=!0,f.value.keypara.startsWith("ECDSA")&&(f.value.keypara=f.value.keypara.replace("ECDSA","ECDH"))):(h.value=!1,f.value.keypara.startsWith("ECDH")&&(f.value.keypara=f.value.keypara.replace("ECDH","ECDSA"))),f.value.ku=Y+" ("+tl(V,"")+")";const S=new Oe({valueHex:D});m.cerexts.push(new Fe({extnID:"2.5.29.15",critical:B[O].indexOf("critical")>0,extnValue:S.toBER(!1),parsedValue:S}));continue}if(B[O].startsWith("extendedKeyUsage")){const D=[];let V=B[O].indexOf("critical")>0?"critical, ":"";B[O].indexOf("clientAuth")>0&&D.push("1.3.6.1.5.5.7.3.2")&&(V+=a("v21")),B[O].indexOf("serverAuth")>0&&D.push("1.3.6.1.5.5.7.3.1")&&(V+=a("v22")),B[O].indexOf("codeSigning")>0&&D.push("1.3.6.1.5.5.7.3.3")&&(V+=a("v23")),f.value.eku=V;const Y=new su({keyPurposes:D});m.cerexts.push(new Fe({extnID:"2.5.29.37",critical:B[O].indexOf("critical")>0,extnValue:Y.toSchema().toBER(!1),parsedValue:Y}));continue}}console.log("parseCADE",p,y,m.cerexts)}if(p===3){const B=y.replaceAll(" ","").match(new RegExp("(?<=^URI\\.\\d+=)(http.*)","gm"));if(B&&B.length>0){let O="";const D=B.map((Y,S)=>(O+=`
   [`+(S+1)+`]CRL Distribution Point
      Distribution Point Name:
      Full Name: URL=`+Y,new lr({distributionPoint:[new Pe({type:6,value:Y})]})));f.value.crlp=O;const V=new Bo({distributionPoints:D});m.cerexts.push(new Fe({extnID:"2.5.29.31",critical:y.indexOf("critical")>0,extnValue:V.toSchema().toBER(!1),parsedValue:V})),console.log("parseCADE",p,B,V)}}if(p===4){const B=y.replaceAll(" ","").match(new RegExp("(?<=^caIssuers;URI\\.\\d+=)((http|file).*)","gm"));if(B&&B.length>0){let O="";const D=B.map((Y,S)=>(O+=`
   [`+(S+1)+`]Authority Info Access
      Access Method=`+a("v24")+"      Alternative Name: URL="+Y,new Mi({accessMethod:"1.3.6.1.5.5.7.48.2",accessLocation:new Pe({type:6,value:Y})})));f.value.aia=O;const V=new To({accessDescriptions:D});m.cerexts.push(new Fe({extnID:"1.3.6.1.5.5.7.1.1",critical:y.indexOf("critical")>0,extnValue:V.toSchema().toBER(!1),parsedValue:V})),console.log("parseCADE",p,B,V)}}}function rt(){const p=new File([BV.value],"0.0.ca-conf.txt");Ur(p)}const it=He("");async function Ke(){console.log("createCER",m);const p=[];f.value.certtype===2&&p.push(m.akiext),p.push(m.skiext);const y=new Ue;y.version=2,y.serialNumber=new M({valueHex:PV(window.crypto.getRandomValues(new Uint8Array([0,0])))}),y.issuer.typesAndValues=m.issuertav,f.value.sw&&A.value==2?(y.subject.typesAndValues=m.contav,m.consan&&p.push(m.consan)):(y.subject.typesAndValues=m.csrtav,m.csrsan&&p.push(m.csrsan)),y.notBefore.value=new Date;const B=new Date;B.setDate(B.getDate()+ae.value.valid_days),y.notAfter.value=B,p.push(...m.cerexts),y.extensions=p,y.subjectPublicKeyInfo=m.subjectPublicKeyInfo,await y.sign(t.privateKey,"SHA-256"),console.log("creatCER","para.value.index:"+ae.value.index),ae.value.index+=1,ae.value.issuedlistnum+=1,ae.value.valid_num+=1;const O=tl(y.serialNumber.valueBlock.valueHexView,"");z.push([ae.value.index,O,B.toISOString(),"V","",f.value.user]),console.log("issuedlist:"+ae.value.index,z);let D=`
*****issued certificate list*****`;for(let S=0;S<z.length;S++)D+=`
`+z[S].join("	");Ur(new File([ge[0]+D],ae.value.index+"."+ae.value.crlnumber+".ca-conf.txt"));const V=y.toSchema().toBER(),Y=window.btoa(el(V));if(m.output_format==="DER")Ur(new File([V],ae.value.index+"."+O+".DER.CER"));else{const S=new File([`-----BEGIN CERTIFICATE-----
${Y}
-----END CERTIFICATE-----`],ae.value.index+"."+O+".PEM.CER");Ur(S)}}const Te=He(a("m9",[0]));let ie=[0,[],[],[],[]];function yt(){console.log("parseCRL",it.value),ie=[0,[],[],[],[]];let p=a("m9",[ie[0]]);if(it.value.length>0){const y=it.value.replace(/,|\n/g," ").split(/\s+/g).filter(O=>O.length>0);ie[0]=y.length;let B=!1;console.log("serials",y,z);for(let O=0;O<ie[0];O++){B=!1;for(let D=0;D<z.length;D++)if(y[O]===z[D][1]){z[D][3].startsWith("E")?ie[2].push(y[O]):z[D][3].startsWith("R")?ie[3].push(y[O]):ie[4].push(z[D]),B=!0;break}!B&&ie[1].push(y[O])}console.log("abcde",ie),p=a("m9",[ie[0]]),ie[1].length+ie[2].length+ie[3].length+ie[4].length&&(p+=a("m9a")),ie[1].length&&(p+=a("m9b",[ie[1].length,ie[1].join(",")])),ie[2].length&&(p+=a("m9c",[ie[2].length,ie[2].join(",")])),ie[3].length&&(p+=a("m9d",[ie[3].length,ie[3].join(",")])),ie[4].length&&(p+=a("m9e",[ie[4].length]))}ae.value.revoked_add=ie[4].length,Te.value=p}async function Ht(){console.log("createCRL");const p=new Date;if(ie[4].length>0){if(R.value.length==0){Qe(a("m16"),6e3);return}ie[4].forEach(S=>{S[3]="R"+R.value.join(""),S[4].length===0&&(S[4]=p.toISOString())&&(ae.value.valid_num-=1)})}let y=`
*****issued certificate list*****`;const B=[];ae.value.revoked_num=0;for(let S=0;S<z.length;S++)y+=`
`+z[S].join("	"),z[S][3].startsWith("R")&&(B.push(TV(z[S][1],z[S][4],z[S][3])),ae.value.revoked_num+=1);const O=new Ct;O.version=1,O.issuer.typesAndValues=m.issuertav,O.thisUpdate=new mt({type:0,value:p});const D=new Date;D.setDate(D.getDate()+ae.value.valid_crl_days),O.nextUpdate=new mt({type:0,value:D}),O.revokedCertificates=B,ae.value.crlnumber+=1,O.crlExtensions=new ct({extensions:[new Fe({extnID:"2.5.29.20",extnValue:new M({value:ae.value.crlnumber}).toBER(!1)})]}),Ur(new File([ge[0]+y],ae.value.index+"."+ae.value.crlnumber+".ca-conf.txt")),await O.sign(t.privateKey,"SHA-256");const V=O.toSchema(!0).toBER(!1),Y=window.btoa(el(V));Ur(new File([`-----BEGIN X509 CRL-----
${Y}
-----END X509 CRL-----`],ae.value.crlnumber+".CRL"))}function Qe(p,y){i.value=p,setTimeout(()=>{i.value="",L.value=!0},y)}return(p,y)=>{const B=RT,O=HT,D=$T,V=KT,Y=FT,S=JT,E=GT,T=zT,U=sR,J=aR,q=uR;return $e(),It(Lt,null,[te(i).length>0?($e(),on(B,{key:0,class:Ot([te(L)?"bg-white dark:bg-gray-800":"bg-red-900 dark:bg-red-900"])},{default:as(()=>[De(xe(te(i)),1)]),_:1},8,["class"])):nn("",!0),te(g)?($e(),on(O,q1({key:1},te(v),{onSomeEvent:re}),null,16)):nn("",!0),ye(D,{rel:"prefetch",href:te(F).app.baseURL+"manifest-zh.json"},null,8,["href"]),ye(D,{rel:"prefetch",href:te(F).app.baseURL+"manifest-en.json"},null,8,["href"]),ye(D,{rel:"manifest",href:te(F).app.baseURL+te(a)("manifest")},null,8,["href"]),ye(D,{rel:"mask-icon",href:te(F).app.baseURL+"/digital-ca/img/icons/icon-144.png",color:"#333333"},null,8,["href"]),ye(D,{rel:"apple-touch-icon",href:te(F).app.baseURL+"/digital-ca/img/icons/icon-144.png"},null,8,["href"]),ye(V,{name:"apple-mobile-web-app-title",content:te(a)("p0")},null,8,["content"]),ye(V,{name:"apple-mobile-web-app-capable",content:"yes"}),ye(V,{name:"apple-mobile-web-app-status-bar-style",content:"#1976d2"}),ye(Y,null,{default:as(()=>[De(xe(te(a)("p0")),1)]),_:1}),ye(V,{"data-rh":"true",property:"og:title",content:te(a)("p0")},null,8,["content"]),ye(V,{"data-rh":"true",property:"og:type",content:"website"}),ye(V,{"data-rh":"true",property:"og:image",content:te(F).app.baseURL+"/digital-ca/img/icons/icon-144.png"},null,8,["content"]),ye(D,{rel:"icon",type:"image/x-icon",href:te(F).app.baseURL+"img/icons/icon-64.png"},null,8,["href"]),ye(V,{name:"theme-color",content:"#1976d2"}),ne("div",LV,[ne("div",DV,[ne("div",UV,[($e(),It(Lt,null,Cv(3,I=>ne("button",{key:I,type:"button",class:Ot(["w-full rounded-lg py-2.5 text-sm font-medium leading-5 text-black-900","ring-black ring-opacity-25 focus:outline-none focus:ring focus:border-black",te(e)===I?"text-black ring":"hover:bg-white/[0.12] hover:text-white"]),onClick:W=>pe(e)?e.value=I:e=I},xe(p.$t("p"+I)),11,HV)),64)),ne("button",{onClick:y[0]||(y[0]=I=>pe(e)?e.value=4:e=4),class:Ot(["leading-5 ring-black ring-opacity-25 focus:outline-none focus:ring focus:border-black rounded-lg px-4 hover:bg-white/[0.12] stroke-black",te(e)===4?"ring":"hover:stroke-white"])},y[41]||(y[41]=[ne("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",viewBox:"0 0 24 24"},[ne("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9h8m-8 4h6m0 5h-1l-5 3v-3H6a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v4.5M19 22v.01M19 19a2.003 2.003 0 0 0 .914-3.782a1.98 1.98 0 0 0-2.414.483"})],-1)]),2)]),ne("input",{type:"file",id:"fileElem",onChange:oe,class:"hidden"},null,32),te(e)===1?($e(),It("div",MV,[ne("div",$V,[ne("p",null,xe(p.$t("p4")),1),ne("div",FV,[ne("div",null,[ws(ne("input",{type:"radio",value:"1","onUpdate:modelValue":y[1]||(y[1]=I=>pe(b)?b.value=I:null)},null,512),[[Fo,te(b)]]),y[42]||(y[42]=De("RSA:2048"))]),ne("div",null,[ws(ne("input",{type:"radio",value:"2","onUpdate:modelValue":y[2]||(y[2]=I=>pe(b)?b.value=I:null)},null,512),[[Fo,te(b)]]),y[43]||(y[43]=De("RSA:4096"))]),ne("div",null,[ws(ne("input",{type:"radio",value:"3","onUpdate:modelValue":y[3]||(y[3]=I=>pe(b)?b.value=I:null)},null,512),[[Fo,te(b)]]),y[44]||(y[44]=De("ECDSA:P-256"))]),ne("div",null,[ws(ne("input",{type:"radio",value:"4","onUpdate:modelValue":y[4]||(y[4]=I=>pe(b)?b.value=I:null)},null,512),[[Fo,te(b)]]),y[45]||(y[45]=De("ECDSA:P-384"))])]),ne("div",KV,[ye(S,{onClick:se},{default:as(()=>[De(xe(p.$t("b1")),1)]),_:1}),ye(E,{onClick:he,onDrop:y[5]||(y[5]=aa(I=>(pe(n)?n.value=1:n=1,be(I.dataTransfer.files[0])),["prevent"])),onDragenter:y[6]||(y[6]=I=>pe(n)?n.value=1:n=1),onDragleave:y[7]||(y[7]=I=>pe(n)?n.value=0:n=0),class:Ot({"border-white":te(n)===1})},{default:as(()=>[De(xe(p.$t("b2")),1)]),_:1},8,["class"])])]),ne("div",jV,[ne("p",JV,[De(xe(p.$t("p5")),1),ye(T,{onClick:y[8]||(y[8]=I=>(pe(e)?e.value=4:e=4,H.value=3))})]),ws(ne("textarea",{"onUpdate:modelValue":y[9]||(y[9]=I=>pe(fe)?fe.value=I:fe=I),placeholder:te(a)("p5a"),class:"w-full relative p-2 z-10 col-span-3 placeholder:text-slate-800 bg-slate-300 bg-opacity-10 rounded-xl shadow-lg text-xs focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 xl:ml-0",rows:"5"},null,8,WV),[[Yv,te(fe)]]),ne("div",qV,[ye(S,{onClick:ce},{default:as(()=>[De(xe(p.$t("b3")),1)]),_:1})])]),ne("div",GV,[ne("p",YV,[De(xe(p.$t("p6")),1),ye(T,{onClick:y[10]||(y[10]=I=>(pe(e)?e.value=4:e=4,H.value=4))})]),ne("div",XV,[ye(S,{onClick:rt},{default:as(()=>[De(xe(p.$t("b4")),1)]),_:1})])])])):nn("",!0),te(e)===2?($e(),It("div",QV,[ne("div",zV,[ne("p",null,xe(p.$t("p7")),1),ne("div",ZV,[ye(E,{onClick:he,onDrop:y[11]||(y[11]=aa(I=>(pe(n)?n.value=1:n=1,be(I.dataTransfer.files[0])),["prevent"])),onDragenter:y[12]||(y[12]=I=>pe(n)?n.value=1:n=1),onDragleave:y[13]||(y[13]=I=>pe(n)?n.value=0:n=0),class:Ot({"border-white":te(n)===1})},{default:as(()=>[De(xe(p.$t("b5")),1)]),_:1},8,["class"]),ye(E,{onClick:he,onDrop:y[14]||(y[14]=aa(I=>(pe(n)?n.value=2:n=2,be(I.dataTransfer.files[0])),["prevent"])),onDragenter:y[15]||(y[15]=I=>pe(n)?n.value=2:n=2),onDragleave:y[16]||(y[16]=I=>pe(n)?n.value=0:n=0),class:Ot({"border-white":te(n)===2})},{default:as(()=>[De(xe(p.$t("b6")),1)]),_:1},8,["class"]),ye(E,{onClick:he,onDrop:y[17]||(y[17]=aa(I=>(pe(n)?n.value=3:n=3,be(I.dataTransfer.files[0])),["prevent"])),onDragenter:y[18]||(y[18]=I=>pe(n)?n.value=3:n=3),onDragleave:y[19]||(y[19]=I=>pe(n)?n.value=0:n=0),class:Ot({"border-white":te(n)===3})},{default:as(()=>[De(xe(p.$t("b7")),1)]),_:1},8,["class"])]),te(l).length>0?($e(),It("p",eL,[ye(U),De(" "+xe(p.$t("m0"))+xe(te(l)),1)])):te(f).sw?($e(),It("div",tL,[De(xe(te(a)("p12"))+" ",1),ne("div",null,[ws(ne("input",{type:"radio",value:"1","onUpdate:modelValue":y[20]||(y[20]=I=>pe(A)?A.value=I:null)},null,512),[[Fo,te(A),void 0,{number:!0}]]),De(xe(te(a)("p13",1)),1)]),ne("div",null,[ws(ne("input",{type:"radio",value:"2","onUpdate:modelValue":y[21]||(y[21]=I=>pe(A)?A.value=I:null)},null,512),[[Fo,te(A),void 0,{number:!0}]]),De(xe(te(a)("p13",2)),1)])])):nn("",!0)]),ne("div",sL,[ne("p",{onClick:y[22]||(y[22]=I=>pe(N)?N.value=!te(N):N=!te(N)),class:"p-2 z-0 flex gap-1 text-sm align-middle"},[ye(J,{class:Ot(te(N)?"rotate-90":"rotate-180")},null,8,["class"]),De(" "+xe(p.$t("p8")),1),te(l).length==0?($e(),It("span",nL,xe(p.$t("v0",te(f).certtype)),1)):nn("",!0)]),ne("div",{class:Ot(["grid transition-all -z-10 duration-700 ease-in-out",te(N)?"grid-rows-[0fr]":"grid-rows-[1fr]"])},[ne("div",rL,[ne("div",iL,xe(te(k)),1)])],2)]),ne("div",aL,[ye(S,{clickable:te(x),onClick:y[23]||(y[23]=I=>te(x)&&Ke())},{default:as(()=>[De(xe(p.$t("b8")),1)]),_:1},8,["clickable"])])])):nn("",!0),te(e)===3?($e(),It("div",oL,[ne("div",lL,[ne("p",null,xe(p.$t("p9")),1),ne("div",cL,[ye(E,{onClick:he,onDrop:y[24]||(y[24]=aa(I=>(pe(n)?n.value=1:n=1,be(I.dataTransfer.files[0])),["prevent"])),onDragenter:y[25]||(y[25]=I=>pe(n)?n.value=1:n=1),onDragleave:y[26]||(y[26]=I=>pe(n)?n.value=0:n=0),class:Ot({"border-white":te(n)===1})},{default:as(()=>[De(xe(p.$t("b5")),1)]),_:1},8,["class"]),ye(E,{onClick:he,onDrop:y[27]||(y[27]=aa(I=>(pe(n)?n.value=3:n=3,be(I.dataTransfer.files[0])),["prevent"])),onDragenter:y[28]||(y[28]=I=>pe(n)?n.value=3:n=3),onDragleave:y[29]||(y[29]=I=>pe(n)?n.value=0:n=0),class:Ot({"border-white":te(n)===3})},{default:as(()=>[De(xe(p.$t("b7")),1)]),_:1},8,["class"])]),te(c).length>0?($e(),It("p",uL,[ye(U),De(" "+xe(p.$t("m0"))+xe(te(c)),1)])):nn("",!0)]),ne("div",hL,[ne("p",null,[De(xe(p.$t("p10")),1),ye(T,{onClick:y[30]||(y[30]=I=>(pe(e)?e.value=4:e=4,H.value=8))})]),ws(ne("textarea",{"onUpdate:modelValue":y[31]||(y[31]=I=>pe(it)?it.value=I:null),onBlur:yt,onFocus:y[32]||(y[32]=I=>pe(_)?_.value=!0:_=!0),id:"needtorevoc",class:"w-full relative my-2 p-2 z-10 col-span-3 placeholder:text-slate-800 bg-slate-300 bg-opacity-10 rounded-xl shadow-lg text-xs focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 xl:ml-0",rows:"5"},null,544),[[Yv,te(it)]]),ne("p",fL,[ne("p",null,xe(p.$t("p11")),1),ne("div",null,[ws(ne("input",{type:"checkbox",value:"0","onUpdate:modelValue":y[33]||(y[33]=I=>pe(R)?R.value=I:null)},null,512),[[$o,te(R)]]),De(xe(p.$t("r0")),1)]),ne("div",null,[ws(ne("input",{type:"checkbox",value:"1","onUpdate:modelValue":y[34]||(y[34]=I=>pe(R)?R.value=I:null)},null,512),[[$o,te(R)]]),De(xe(p.$t("r1")),1)]),ne("div",null,[ws(ne("input",{type:"checkbox",value:"2","onUpdate:modelValue":y[35]||(y[35]=I=>pe(R)?R.value=I:null)},null,512),[[$o,te(R)]]),De(xe(p.$t("r2")),1)]),ne("div",null,[ws(ne("input",{type:"checkbox",value:"3","onUpdate:modelValue":y[36]||(y[36]=I=>pe(R)?R.value=I:null)},null,512),[[$o,te(R)]]),De(xe(p.$t("r3")),1)]),ne("div",null,[ws(ne("input",{type:"checkbox",value:"4","onUpdate:modelValue":y[37]||(y[37]=I=>pe(R)?R.value=I:null)},null,512),[[$o,te(R)]]),De(xe(p.$t("r4")),1)]),ne("div",null,[ws(ne("input",{type:"checkbox",value:"5","onUpdate:modelValue":y[38]||(y[38]=I=>pe(R)?R.value=I:null)},null,512),[[$o,te(R)]]),De(xe(p.$t("r5")),1)])])]),ne("div",dL,[ne("p",{onClick:y[39]||(y[39]=I=>pe(_)?_.value=!te(_):_=!te(_)),class:"p-2 z-0 flex gap-1 text-sm align-middle"},[ye(J,{class:Ot(te(_)?"rotate-90":"rotate-180")},null,8,["class"]),De(" "+xe(p.$t("p14")),1)]),ne("div",{class:Ot(["grid transition-all -z-10 duration-700 ease-in-out",te(_)?"grid-rows-[0fr]":"grid-rows-[1fr]"])},[ne("div",mL,[ne("div",gL,[ne("div",pL,[ye(q),ne("p",null,xe(p.$t("m1",te(ae))),1)]),ne("div",wL,[ye(q),ne("p",null,xe(te(Te)),1)]),ne("div",yL,[ye(q),ne("p",null,xe(p.$t("m14",[te(ae).revoked_num,te(ae).revoked_add,te(ae).revoked_num+te(ae).revoked_add])),1)])])])],2)]),ne("div",vL,[ye(S,{clickable:te(c).length===0,onClick:y[40]||(y[40]=I=>te(c).length===0&&Ht())},{default:as(()=>[De(xe(p.$t("b9")),1)]),_:1},8,["clickable"])])])):nn("",!0),te(e)===4?($e(),It("div",bL,[ne("div",SL,[ne("div",AL,[($e(),It(Lt,null,Cv(9,I=>ne("div",kL,[ne("p",{onClick:W=>H.value=te(H)===I?0:I,class:"text-base flex"},[ye(J,{class:Ot(te(H)===I?"rotate-180":"rotate-90")},null,8,["class"]),De(" "+xe(I+". "+p.$t("q"+I)),1)],8,EL),ne("p",{class:Ot(["grid transition-all duration-500 ease-in-out",te(H)===I?"grid-rows-[1fr]":"grid-rows-[0fr]"])},[ne("div",CL,xe(p.$t("a"+I)),1)],2)])),64))])])])):nn("",!0)])])],64)}}},IL=NL,_L={__name:"nuxt-error-page",props:{error:Object},setup(s){const t=s.error;(t.stack||"").split(`
`).splice(1).map(h=>({text:h.replace("webpack:/","").replace(".vue",".js").trim(),internal:h.includes("node_modules")&&!h.includes(".cache")||h.includes("internal")||h.includes("new Promise")})).map(h=>`<span class="stack${h.internal?" internal":""}">${h.text}</span>`).join(`
`);const n=Number(t.statusCode||500),r=n===404,i=t.statusMessage??(r?"Page Not Found":"Internal Server Error"),a=t.message||t.toString(),o=void 0,c=r?kv(()=>aw(()=>import("./error-404.ec9c1a47.js"),["./error-404.ec9c1a47.js","./error-404.fda4aa6a.css"],import.meta.url).then(h=>h.default||h)):kv(()=>aw(()=>import("./error-500.fb4a2eb8.js"),["./error-500.fb4a2eb8.js","./error-500.88db509d.css"],import.meta.url).then(h=>h.default||h));return(h,f)=>($e(),on(te(c),vE(W1({statusCode:te(n),statusMessage:te(i),description:te(a),stack:te(o)})),null,16))}},xL=_L,BL={__name:"nuxt-root",setup(s){const e=()=>null,t=nt(),n=t.deferHydration(),r=!1;E1(CS,Iy()),t.hooks.callHookWith(o=>o.map(l=>l()),"vue:setup");const i=_y();y1((o,l,u)=>{if(t.hooks.callHook("vue:error",o,l,u).catch(c=>console.error("[nuxt] Error in `vue:error` hook",c)),Z_(o)&&(o.fatal||o.unhandled))return t.runWithContext(()=>Q_(o)),!1});const a=!1;return(o,l)=>($e(),on(jC,{onResolve:te(n)},{default:as(()=>[te(i)?($e(),on(te(xL),{key:0,error:te(i)},null,8,["error"])):te(a)?($e(),on(te(e),{key:1,context:te(a)},null,8,["context"])):te(r)?($e(),on(gC(te(r)),{key:2})):($e(),on(te(IL),{key:3}))]),_:1},8,["onResolve"]))}},P0=BL;globalThis.$fetch||(globalThis.$fetch=AI.create({baseURL:EI()}));let V0;{let s;V0=async function(){var i,a;if(s)return s;const n=!!((i=window.__NUXT__)!=null&&i.serverRendered||((a=document.getElementById("__NUXT_DATA__"))==null?void 0:a.dataset.ssr)==="true")?RN(P0):TN(P0),r=DI({vueApp:n});try{await HI(r,IT)}catch(o){await r.callHook("app:error",o),r.payload.error=r.payload.error||o}try{await r.hooks.callHook("app:created",n),await r.hooks.callHook("app:beforeMount",n),n.mount(ex),await r.hooks.callHook("app:mounted",n),await bg()}catch(o){await r.callHook("app:error",o),r.payload.error=r.payload.error||o}return n},s=V0().catch(e=>{console.error("Error while mounting app:",e)})}export{De as A,iu as _,_S as a,ub as b,ss as c,Wi as d,w1 as e,PL as f,ky as g,Oo as h,OL as i,Cy as j,Ny as k,nt as l,NS as m,VL as n,my as o,nd as p,V_ as q,He as r,$e as s,It as t,ru as u,ne as v,$m as w,xe as x,ye as y,as as z};
